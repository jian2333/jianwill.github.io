<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hi,Jianww</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://jian2333.github.io/"/>
  <updated>2024-07-05T08:44:55.738Z</updated>
  <id>http://jian2333.github.io/</id>
  
  <author>
    <name>Jianww</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>homebrewå®‰è£…ä½ç‰ˆæœ¬åº”ç”¨</title>
    <link href="http://jian2333.github.io/2024/07/05/homebrew/"/>
    <id>http://jian2333.github.io/2024/07/05/homebrew/</id>
    <published>2024-07-05T06:19:13.000Z</published>
    <updated>2024-07-05T08:44:55.738Z</updated>
    
    <content type="html"><![CDATA[<p>Macç³»ç»Ÿä¸‹ï¼Œæˆ‘ä»¬ä¸€èˆ¬ç”¨ <code>homebrew</code> å®‰è£…åº”ç”¨ï¼Œå®‰è£…çš„åº”ç”¨é»˜è®¤æ˜¯å½“å‰ <code>homebrew</code> ç‰ˆæœ¬å†…ç½®çš„è¯¥åº”ç”¨æœ€é«˜ç‰ˆæœ¬ï¼Œé‚£å¦‚ä½•å®‰è£…è¯¥åº”ç”¨çš„ä½ç‰ˆæœ¬å‘¢ã€‚</p><h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>Mac ä¸‹ä½¿ç”¨ <code>homebrew</code> å®‰è£…åº”ç”¨ï¼Œä¸€èˆ¬æˆ‘ä»¬ä¼šå…³é—­ <code>homebrew</code> çš„è‡ªåŠ¨æ›´æ–°ä»¥æé«˜å®‰è£…æ•ˆç‡ã€‚</p><p>å½“æˆ‘ä»¬ä½¿ç”¨å‡ å¹´åï¼Œä½†ç”µè„‘ç³»ç»Ÿå’Œ <code>homebrew</code>æ²¡æ›´æ–°åï¼Œæˆ‘ä»¬ä¼šå‘ç°å½“å‰ <code>homebrew</code> ç‰ˆæœ¬çš„åº”ç”¨éƒ½æ¯”è¾ƒä½ã€‚æ¯”å¦‚ç°åœ¨ <code>2024-07-05</code>, æˆ‘ç”¨çš„ <code>homebrew</code> è¿˜æ˜¯2020å¹´çš„ï¼Œæ‰§è¡Œ <code>brew install nginx</code> åå®‰è£…çš„ <code>nginx</code> å°±æ˜¯2020å¹´å·¦å³çš„ï¼Œå¤§æ¦‚æ˜¯ <code>1.19.0</code> å·¦å³ã€‚</p><p>äºæ˜¯ï¼Œæˆ‘ä»¬æ›´æ–° <code>homebrew</code> ä¸ºæœ€æ–°ç‰ˆæœ¬ï¼Œå¹¶å¸Œæœ›å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ <code>nginx</code>ï¼Œäºæ˜¯æ‰§è¡Œ <code>homebrew update</code> ï¼ŒæˆåŠŸåæ‰§è¡Œ <code>brew install nginx</code>ï¼Œç„¶åï¼Œé—®é¢˜å°±å‡ºç°äº†ã€‚å®‰è£… <code>nginx</code> å¤±è´¥ï¼Œæç¤ºï¼š<code>æ‚¨å½“å‰çš„osx ç³»ç»Ÿç‰ˆæœ¬(å’Œxcode)ç‰ˆæœ¬è¿‡ä½ï¼Œæœ€æ–°ç‰ˆçš„nginx(1.25.1)ä¸æ”¯æŒå½“å‰ç‰ˆæœ¬ï¼Œå®‰è£…å¤±è´¥ï¼</code>ã€‚</p><p>å¦‚æœä¸æƒ³å‡çº§ <code>osx</code> ç³»ç»Ÿï¼Œé‚£å¦‚ä½•ç”¨é«˜ç‰ˆæœ¬çš„ <code>homebrew</code> å®‰è£…ä»»æ„ç‰ˆæœ¬çš„ <code>åº”ç”¨</code> å‘¢ï¼Ÿ</p><a id="more"></a><h3 id="æ–¹æ¡ˆ"><a href="#æ–¹æ¡ˆ" class="headerlink" title="æ–¹æ¡ˆ"></a>æ–¹æ¡ˆ</h3><p>åœ¨å¤šæ¬¡å°è¯•åæ€»ç»“å‡ºæ¥çš„ç»éªŒï¼š</p><h4 id="1ã€æ›´æ–°-homebrew-ä¸ºæœ€æ–°ç‰ˆæœ¬"><a href="#1ã€æ›´æ–°-homebrew-ä¸ºæœ€æ–°ç‰ˆæœ¬" class="headerlink" title="1ã€æ›´æ–° homebrew ä¸ºæœ€æ–°ç‰ˆæœ¬"></a>1ã€æ›´æ–° <code>homebrew</code> ä¸ºæœ€æ–°ç‰ˆæœ¬</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew update</span><br></pre></td></tr></table></figure><h4 id="2ã€æŸ¥è¯¢æƒ³è¦å®‰è£…çš„åº”ç”¨åŠç‰ˆæœ¬ã€‚"><a href="#2ã€æŸ¥è¯¢æƒ³è¦å®‰è£…çš„åº”ç”¨åŠç‰ˆæœ¬ã€‚" class="headerlink" title="2ã€æŸ¥è¯¢æƒ³è¦å®‰è£…çš„åº”ç”¨åŠç‰ˆæœ¬ã€‚"></a>2ã€æŸ¥è¯¢æƒ³è¦å®‰è£…çš„åº”ç”¨åŠç‰ˆæœ¬ã€‚</h4><ol><li>å» <code>homebrew</code> å®˜æ–¹ç›®å½•ä¸‹æ‰¾åˆ°è¯¥åº”ç”¨ï¼Œåœ°å€ä¸º <a href="https://github.com/Homebrew/homebrew-core/tree/master/Formula" target="_blank" rel="noopener">github-formula</a>ï¼›</li><li>ç‚¹å¼€å…·ä½“çš„ <code>xxx.rb</code> æ–‡ä»¶ï¼Œç‚¹å‡»å³ä¸Šè§’ <code>History</code>ï¼Œé€šè¿‡ <code>git</code> æäº¤è®°å½•ï¼Œæ‰¾åˆ°æƒ³å®‰è£…çš„ç‰ˆæœ¬ï¼Œç‚¹å‡»å³ä¾§ç¬¬äºŒä¸ªå›¾æ ‡(View code at this point)ï¼›</li><li>ç‚¹å‡» <code>Copy raw file</code>ï¼Œå¤åˆ¶è¿™ç‰ˆæœ¬çš„é…ç½®æ–‡ä»¶ã€‚</li></ol><h4 id="3ã€ä¿®æ”¹å½“å‰-homebrewçš„-formula-æ–‡ä»¶ä¸ºæŒ‡å®šç‰ˆæœ¬çš„é…ç½®æ–‡ä»¶"><a href="#3ã€ä¿®æ”¹å½“å‰-homebrewçš„-formula-æ–‡ä»¶ä¸ºæŒ‡å®šç‰ˆæœ¬çš„é…ç½®æ–‡ä»¶" class="headerlink" title="3ã€ä¿®æ”¹å½“å‰ homebrewçš„ formula æ–‡ä»¶ä¸ºæŒ‡å®šç‰ˆæœ¬çš„é…ç½®æ–‡ä»¶"></a>3ã€ä¿®æ”¹å½“å‰ <code>homebrew</code>çš„ <code>formula</code> æ–‡ä»¶ä¸ºæŒ‡å®šç‰ˆæœ¬çš„é…ç½®æ–‡ä»¶</h4><ul><li><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> brew edit &lt;packageName&gt;</span><br><span class="line">brew edit nginx</span><br></pre></td></tr></table></figure></li><li><p>ç²˜è´´å‰ªåˆ‡æ¿å†…å®¹ï¼Œæ›¿æ¢æ‰“å¼€çš„æ–‡ä»¶ï¼Œä¿å­˜å…³é—­ã€‚</p></li></ul><h4 id="4ã€å¼€å¯ä½¿ç”¨æ‰‹åŠ¨formulaé…ç½®ã€‚-é‡è¦ï¼ï¼ï¼ç½‘ä¸Šæ‰€æœ‰çš„æ–¹æ¡ˆéƒ½ç¼ºå°‘è¿™ä¸€æ­¥ï¼Œæ‰€ä»¥éƒ½ä¸ç”Ÿæ•ˆ"><a href="#4ã€å¼€å¯ä½¿ç”¨æ‰‹åŠ¨formulaé…ç½®ã€‚-é‡è¦ï¼ï¼ï¼ç½‘ä¸Šæ‰€æœ‰çš„æ–¹æ¡ˆéƒ½ç¼ºå°‘è¿™ä¸€æ­¥ï¼Œæ‰€ä»¥éƒ½ä¸ç”Ÿæ•ˆ" class="headerlink" title="4ã€å¼€å¯ä½¿ç”¨æ‰‹åŠ¨formulaé…ç½®ã€‚(é‡è¦ï¼ï¼ï¼ç½‘ä¸Šæ‰€æœ‰çš„æ–¹æ¡ˆéƒ½ç¼ºå°‘è¿™ä¸€æ­¥ï¼Œæ‰€ä»¥éƒ½ä¸ç”Ÿæ•ˆ)"></a>4ã€å¼€å¯ä½¿ç”¨æ‰‹åŠ¨<code>formula</code>é…ç½®ã€‚(é‡è¦ï¼ï¼ï¼ç½‘ä¸Šæ‰€æœ‰çš„æ–¹æ¡ˆéƒ½ç¼ºå°‘è¿™ä¸€æ­¥ï¼Œæ‰€ä»¥éƒ½ä¸ç”Ÿæ•ˆ)</h4><ul><li><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨ <code>brew install &lt;package&gt;</code>ï¼Œä¼šè‡ªåŠ¨æ›´æ–° <code>formula/xxx.rb</code> é…ç½®æ–‡ä»¶ï¼Œå†æ‰§è¡Œå®‰è£…ã€‚ä¹Ÿå°±æ˜¯ ç¬¬3æ­¥ ä¿®æ”¹çš„é…ç½®æ–‡ä»¶å¹¶ä¸ä¼šç”Ÿæ•ˆã€‚</p></li><li><p>éœ€è¦åšä¸€äº›è®¾ç½®ï¼Œè®©é…ç½®æ–‡ä»¶ç”Ÿæ•ˆï¼Œè¿™æ ·æ‰§è¡Œ <code>brew install &lt;package&gt;</code>ï¼Œå°±èƒ½ä½¿ç”¨ä¿®æ”¹çš„é…ç½®æ–‡ä»¶ï¼Œå³ <strong>å¯ä»¥å®‰è£…ä»»æ„ç‰ˆæœ¬çš„åº”ç”¨</strong>ã€‚</p><ul><li><p>æ–¹æ³•ä¸€ï¼šåªå½“å‰ç»ˆç«¯ç”Ÿæ•ˆï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HOMEBREW_NO_INSTALL_FROM_API=1 &amp;&amp; brew install &lt;package&gt;</span><br></pre></td></tr></table></figure></li><li><p>æ–¹æ³•äºŒï¼šè®¾ç½®åˆ°ç»ˆç«¯é…ç½®æ–‡ä»¶ï¼Œåœ¨ç»ˆç«¯æ°¸ä¹…ç”Ÿæ•ˆï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> æ–°å¢ç›¸å…³é…ç½®åˆ°é…ç½®æ–‡ä»¶æœ€å</span><br><span class="line">echo "export HOMEBREW_NO_INSTALL_FROM_API=1" &gt;&gt; ~/.zshrc</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> é‡å¯ç»ˆç«¯</span><br><span class="line">source ~/.zshrc</span><br></pre></td></tr></table></figure></li></ul></li></ul><h4 id="5ã€å®‰è£…åº”ç”¨"><a href="#5ã€å®‰è£…åº”ç”¨" class="headerlink" title="5ã€å®‰è£…åº”ç”¨"></a>5ã€å®‰è£…åº”ç”¨</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install nginx</span><br></pre></td></tr></table></figure><p>PSï¼šä½ç‰ˆæœ¬ <code>osx</code> + é«˜ç‰ˆæœ¬ <code>homebrew</code> ä¸‹ï¼Œå®‰è£…çš„å¤§éƒ¨åˆ†è½¯ä»¶éƒ½ä¼šå¤±è´¥ï¼Œæç¤ºä¸æ”¯æŒå½“å‰ <code>osx</code> ç³»ç»Ÿï¼Œé‚£å“ªä¸ªç‰ˆæœ¬çš„ <code>&lt;package&gt;</code> æ”¯æŒå½“å‰ <code>osx</code> ç³»ç»Ÿï¼Œå¾—å» <code>homebrew-core-formula</code> gitè®°å½•é‡Œä¸Šï¼Œæˆ–è€…ä¸€ä¸ªä¸ªå°è¯•ã€‚</p><h3 id="å®æ“"><a href="#å®æ“" class="headerlink" title="å®æ“"></a>å®æ“</h3><p>å®æ“ä»¥ä¸Šé¢å®‰è£… <code>nginx</code> ä¸ºğŸŒ°ï¼š</p><p><strong>1ã€æ›´æ–° <code>homebrew</code></strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew update</span><br></pre></td></tr></table></figure><p><strong>2ã€æŸ¥è¯¢æƒ³è¦å®‰è£…çš„åº”ç”¨åŠç‰ˆæœ¬</strong></p><p><img src="/images/hb-1.jpg" alt></p><p><img src="/images/hb-2.jpg" alt></p><p><img src="/images/hb-3.jpg" alt></p><p><img src="/images/hb-4.jpg" alt></p><p><strong>3ã€ä¿®æ”¹å½“å‰ <code>homebrew</code>çš„ <code>formula</code> æ–‡ä»¶ä¸ºæŒ‡å®šç‰ˆæœ¬çš„é…ç½®æ–‡ä»¶</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew edit nginx</span><br></pre></td></tr></table></figure><p><img src="/images/hb-5.jpg" alt></p><p><strong>4ã€å¼€å¯ä½¿ç”¨æ‰‹åŠ¨<code>formula</code>é…ç½®ã€‚</strong></p><p><img src="/images/hb-6.jpg" alt></p><p><strong>5ã€å®‰è£…åº”ç”¨</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install nginx</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œä¹‹åå¯ä»¥ä½¿ç”¨ <code>nginx -v</code> æŸ¥çœ‹ç‰ˆæœ¬ã€‚</p><h3 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h3><p><strong>å®‰è£… <code>homebrew</code></strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"</span><br></pre></td></tr></table></figure><p><strong>å¸è½½ <code>homebrew</code></strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/uninstall.sh)"</span><br></pre></td></tr></table></figure><p><strong>æ›´æ–° <code>homebrew</code></strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew update</span><br></pre></td></tr></table></figure><p><strong>å®‰è£…åº”ç”¨</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install &lt;package&gt;</span><br></pre></td></tr></table></figure><p><strong>æ›´æ–°åº”ç”¨</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew upgrade &lt;package&gt;</span><br></pre></td></tr></table></figure><p><strong>å¸è½½åº”ç”¨</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew uninstall &lt;package&gt;</span><br></pre></td></tr></table></figure><p><strong>æŸ¥çœ‹ <code>homebrew</code> ç‰ˆæœ¬</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">brew --version</span><br><span class="line">brew -v</span><br></pre></td></tr></table></figure><p><strong>åˆ—å‡ºæ‰€æœ‰å·²å®‰è£…çš„åº”ç”¨</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew list</span><br></pre></td></tr></table></figure><p><strong>æŸ¥è¯¢è¿œç¨‹æ®‹é…·çš„åº”ç”¨ï¼Œå·²å®‰è£…çš„ä¼šæ˜¾ç¤ºç»¿è‰²çš„å‹¾</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">brew search &lt;package&gt;</span><br><span class="line">brew search /&lt;packageçš„æ­£åˆ™è¡¨è¾¾å¼&gt;/</span><br></pre></td></tr></table></figure><p><strong>æŸ¥è¯¢æŸä¸ªåº”ç”¨ä¿¡æ¯ï¼ˆåŠç‰ˆæœ¬å·ï¼Œæ¥æº <code>formula/xxx.rb</code>ï¼‰</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew info &lt;package&gt;</span><br></pre></td></tr></table></figure><p><strong>ä¿®æ”¹æŸä¸ªåº”ç”¨çš„ <code>formula</code> é…ç½®æ–‡ä»¶</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew edit &lt;package&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Macç³»ç»Ÿä¸‹ï¼Œæˆ‘ä»¬ä¸€èˆ¬ç”¨ &lt;code&gt;homebrew&lt;/code&gt; å®‰è£…åº”ç”¨ï¼Œå®‰è£…çš„åº”ç”¨é»˜è®¤æ˜¯å½“å‰ &lt;code&gt;homebrew&lt;/code&gt; ç‰ˆæœ¬å†…ç½®çš„è¯¥åº”ç”¨æœ€é«˜ç‰ˆæœ¬ï¼Œé‚£å¦‚ä½•å®‰è£…è¯¥åº”ç”¨çš„ä½ç‰ˆæœ¬å‘¢ã€‚&lt;/p&gt;&lt;h3 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h3&gt;&lt;p&gt;Mac ä¸‹ä½¿ç”¨ &lt;code&gt;homebrew&lt;/code&gt; å®‰è£…åº”ç”¨ï¼Œä¸€èˆ¬æˆ‘ä»¬ä¼šå…³é—­ &lt;code&gt;homebrew&lt;/code&gt; çš„è‡ªåŠ¨æ›´æ–°ä»¥æé«˜å®‰è£…æ•ˆç‡ã€‚&lt;/p&gt;&lt;p&gt;å½“æˆ‘ä»¬ä½¿ç”¨å‡ å¹´åï¼Œä½†ç”µè„‘ç³»ç»Ÿå’Œ &lt;code&gt;homebrew&lt;/code&gt;æ²¡æ›´æ–°åï¼Œæˆ‘ä»¬ä¼šå‘ç°å½“å‰ &lt;code&gt;homebrew&lt;/code&gt; ç‰ˆæœ¬çš„åº”ç”¨éƒ½æ¯”è¾ƒä½ã€‚æ¯”å¦‚ç°åœ¨ &lt;code&gt;2024-07-05&lt;/code&gt;, æˆ‘ç”¨çš„ &lt;code&gt;homebrew&lt;/code&gt; è¿˜æ˜¯2020å¹´çš„ï¼Œæ‰§è¡Œ &lt;code&gt;brew install nginx&lt;/code&gt; åå®‰è£…çš„ &lt;code&gt;nginx&lt;/code&gt; å°±æ˜¯2020å¹´å·¦å³çš„ï¼Œå¤§æ¦‚æ˜¯ &lt;code&gt;1.19.0&lt;/code&gt; å·¦å³ã€‚&lt;/p&gt;&lt;p&gt;äºæ˜¯ï¼Œæˆ‘ä»¬æ›´æ–° &lt;code&gt;homebrew&lt;/code&gt; ä¸ºæœ€æ–°ç‰ˆæœ¬ï¼Œå¹¶å¸Œæœ›å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ &lt;code&gt;nginx&lt;/code&gt;ï¼Œäºæ˜¯æ‰§è¡Œ &lt;code&gt;homebrew update&lt;/code&gt; ï¼ŒæˆåŠŸåæ‰§è¡Œ &lt;code&gt;brew install nginx&lt;/code&gt;ï¼Œç„¶åï¼Œé—®é¢˜å°±å‡ºç°äº†ã€‚å®‰è£… &lt;code&gt;nginx&lt;/code&gt; å¤±è´¥ï¼Œæç¤ºï¼š&lt;code&gt;æ‚¨å½“å‰çš„osx ç³»ç»Ÿç‰ˆæœ¬(å’Œxcode)ç‰ˆæœ¬è¿‡ä½ï¼Œæœ€æ–°ç‰ˆçš„nginx(1.25.1)ä¸æ”¯æŒå½“å‰ç‰ˆæœ¬ï¼Œå®‰è£…å¤±è´¥ï¼&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p&gt;å¦‚æœä¸æƒ³å‡çº§ &lt;code&gt;osx&lt;/code&gt; ç³»ç»Ÿï¼Œé‚£å¦‚ä½•ç”¨é«˜ç‰ˆæœ¬çš„ &lt;code&gt;homebrew&lt;/code&gt; å®‰è£…ä»»æ„ç‰ˆæœ¬çš„ &lt;code&gt;åº”ç”¨&lt;/code&gt; å‘¢ï¼Ÿ&lt;/p&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="mac" scheme="http://jian2333.github.io/tags/mac/"/>
    
  </entry>
  
  <entry>
    <title>è‡ªç”¨çš„å‰ç«¯å°å·¥å…·</title>
    <link href="http://jian2333.github.io/2021/09/08/fe-tools/"/>
    <id>http://jian2333.github.io/2021/09/08/fe-tools/</id>
    <published>2021-09-08T02:54:26.000Z</published>
    <updated>2021-09-08T08:08:28.960Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘è¦åœ¨é¡¹ç›®é‡Œå¼•å…¥ <code>git commit</code> å‰æ‰§è¡Œ <code>eslint</code> æ ¡éªŒï¼Œé€šè¿‡æ‰å…è®¸æäº¤çš„åŠŸèƒ½ã€‚</p><p>è€ƒè™‘åˆ°å¯èƒ½ä¼šåœ¨å¤šä¸ªé¡¹ç›®ä¸­ä½¿ç”¨ï¼Œä»¥åä¹Ÿå¯èƒ½ä¼šå¢åŠ å…¶ä»–åŠŸèƒ½ã€‚</p><p>ç„¶åå§ï¼Œå†³å®šå†™ä¸ªå°å·¥å…·ï¼Œé›†åˆäº†<strong>ä¸€é”®å®‰è£…</strong>ç›¸å…³ä¾èµ–çš„åŠŸèƒ½ï¼Œåç»­åªè¦ä¸æ–­ç»´æŠ¤å°å·¥å…·å°±èƒ½æ‰©å±•åŠŸèƒ½äº†ã€‚</p><p>ç›®å‰çš„æˆæœæ˜¯ï¼Œå†™äº†ä¸ªåŒ…å‘å¸ƒåœ¨ <code>npm</code> ä¸Šï¼Œé€šè¿‡å‘½ä»¤ <code>npx zwt-fe</code> å³å¯ä½¿ç”¨ã€‚</p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="/images/ft-1.gif" alt="zwt-fe"></p><a id="more"></a><h3 id="æƒ³æ³•"><a href="#æƒ³æ³•" class="headerlink" title="æƒ³æ³•"></a>æƒ³æ³•</h3><p><strong>ä¸€å¼€å§‹</strong></p><p>è€ƒè™‘åˆ°ç”¨æˆ·ä½“éªŒï¼Œæœ€å¼€å§‹æ˜¯æ‰“ç®—ä½¿ç”¨ç±»ä¼¼ <a href="https://jian2333.github.io/2020/01/05/v2ray/">ä¸€é”®å®‰è£…v2rayè„šæœ¬</a> é‚£ç§æ–¹å¼çš„ï¼Œç”¨æˆ·åªéœ€åœ¨ <code>ç»ˆç«¯</code> è¾“å…¥å‘½ä»¤ï¼Œå³å¯ç›´æ¥ä½¿ç”¨æœ€æ–°ç‰ˆçš„å°å·¥å…·ï¼Œç±»ä¼¼è¿™æ ·ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -L -s https://raw.githubusercontent.com/wulabing/V2Ray_ws-tls_bash_onekey/master/install.sh) | tee v2ray_ins.log</span><br></pre></td></tr></table></figure><p><strong>åæ¥</strong></p><p>ä½†æ˜¯è€ƒè™‘åˆ°å¼€å‘æˆæœ¬ï¼Œ<strong>ä¸€é”®å®‰è£…è„šæœ¬</strong> è¦ä½¿ç”¨ <code>shell</code> å¼€å‘çš„ï¼Œæœ‰ä¸€å®šçš„å­¦ä¹ æˆæœ¬ï¼Œè€Œä¸”æœ‰äº›åŠŸèƒ½(åŠ¨æ•ˆã€æ›¿æ¢å†…å®¹ç­‰)å®ç°æ¯”è¾ƒéº»çƒ¦ï¼Œæœ€åå†³å®šç”¨ <code>node</code> å†™äº†ï¼Œå‘åŒ…åˆ° <code>npm</code> ä¸Šï¼Œç›´æ¥ä½¿ç”¨ <code>npx xx</code> å³å¯ã€‚</p><h3 id="eslint-husky"><a href="#eslint-husky" class="headerlink" title="eslint + husky"></a>eslint + husky</h3><ul><li>æäº¤ä»£ç  <code>git commit</code> æ—¶è‡ªåŠ¨è°ƒç”¨ <code>eslint</code> æ ¡éªŒä»£ç ï¼Œé€šè¿‡æ‰æäº¤ä»£ç ã€‚</li><li>è¾“å…¥ <code>npm run lint:fix</code> è°ƒç”¨ <code>esilnt</code> è‡ªåŠ¨ä¿®å¤ç›¸å…³é”™è¯¯ã€‚</li></ul><p><strong>å®ç°è¿‡ç¨‹</strong></p><p><code>husky</code> å¯ä»¥æ•è· <code>git</code> çš„é’©å­ï¼Œåœ¨ <code>git commit</code> å‰çš„é’©å­ <code>pre-commit</code> ä¸Šæ·»åŠ  <code>npm run lint</code> å³å¯ä»¥å®ç°ã€‚</p><p><strong>eslinté…ç½®</strong></p><ul><li>å®‰è£…ä¾èµ–ï¼š<code>npm install -D eslint@7.32.0 eslint-plugin-vue@7.16.0 eslint-loader@4.0.2 babel-eslint@10.1.0</code> ã€‚</li><li>åˆ›å»º <code>.eslintrc.js</code> å¹¶å†™å…¥ï¼š<code>less xxx &gt; .eslintrc.js</code> ã€‚</li><li>åˆ›å»º <code>.eslintignore</code> å¹¶å†™å…¥ï¼š<code>less xx &gt; .eslintignore</code> ã€‚</li><li><code>package.json</code> çš„ <code>script</code> ä¸­å†™å…¥ï¼š<ul><li><code>npm run lint</code>ï¼š<code>npm set-script lint &quot;./node_modules/.bin/eslint --ext .js,.vue ./&quot;</code> ã€‚</li><li><code>npm run lint:fix</code>ï¼š<code>npm set-script lint &quot;./node_modules/.bin/eslint --fix --ext .js,.vue ./&quot;</code> ã€‚</li><li><code>npm set-script</code> éœ€è¦ <code>npm7 | node15</code> ä»¥ä¸Šï¼Œç‰ˆæœ¬ä¸ç¬¦åˆéœ€è‡ªå·±å†™æ–¹æ³•æ›¿æ¢ ã€‚</li></ul></li></ul><p><strong>huskyé…ç½®</strong></p><ul><li>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://typicode.github.io/husky/#/?id=features" target="_blank" rel="noopener">https://typicode.github.io/husky/#/?id=features</a> ã€‚</li><li>å®‰è£… <code>husky7</code>ï¼š<code>npx husky-init &amp;&amp; npm install</code>ã€‚<ul><li>ã€å¯é€‰ã€‘æ–°å¢å…¶ä»–é’©å­ï¼š<code>npx husky add .husky/pre-commit &quot;npm test&quot;</code>ã€‚</li></ul></li><li>ä¿®æ”¹å‘½ä»¤ <code>echo &quot;npm run lint&quot; &gt;&gt; ./husky/pre-commit</code> ã€‚</li><li>ã€å¯é€‰ã€‘æ·»åŠ  <code>pathç¯å¢ƒå˜é‡</code>(<code>sourceTree</code>ç”¨)ï¼š<code>echo &quot;export PATH=\&quot;$(dirname $(which node)):\$PATH\&quot;&quot; &gt; ~/.huskyrc</code> ã€‚</li></ul><p><strong>å…¶ä»–: nodeè·¯å¾„</strong></p><ul><li><code>__dirname</code>ï¼š<code>node</code> å‘½ä»¤<strong>æ‰€åœ¨æ–‡ä»¶</strong>çš„è·¯å¾„ ã€‚</li><li><code>./xx</code>ï¼š<strong>æ‰§è¡Œ</strong> <code>node</code> å‘½ä»¤æ—¶çš„è·¯å¾„ ã€‚</li><li><strong>ç‰¹ä¾‹</strong>ï¼šåœ¨ <code>require(&#39;./xx&#39;)</code>æ—¶ï¼Œå’Œ <code>__dirname</code> ä¸€æ ·ï¼Œæ˜¯æ‰€åœ¨æ–‡ä»¶çš„è·¯å¾„ ã€‚</li></ul><h3 id="commitlint-git-cz-changelog"><a href="#commitlint-git-cz-changelog" class="headerlink" title="commitlint + git cz + changelog"></a>commitlint + git cz + changelog</h3><ul><li>æäº¤ä»£ç  <code>git commit</code> æ—¶è‡ªåŠ¨æ ¡éªŒ <code>commit message</code> çš„æ ¼å¼ï¼Œç¬¦åˆ<a href="https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#heading=h.greljkmo14y0" target="_blank" rel="noopener">Angularè§„èŒƒ</a>çš„æ‰æäº¤æˆåŠŸ ã€‚</li><li>ä½¿ç”¨ <code>git cz</code> æˆ– <code>git-cz</code> ä»£æ›¿ <code>git commit</code>ï¼Œç”¨<strong>å·¥ä½œæµ</strong>çš„æ–¹å¼æ·»åŠ ç¬¦åˆè§„èŒƒçš„ <code>commit message</code> ã€‚</li><li>æ ¹æ® <code>git log</code> è‡ªåŠ¨ç”Ÿæˆ <code>CHANGELOG.md</code>ï¼Œéœ€è¦æ³¨æ„ï¼š<ul><li><code>npm run changelog</code>: åœ¨ <code>CHANGELOG.md</code> å†…ç”Ÿæˆè‡ªä¸Šæ¬¡ <code>npm run changelog</code> åè‡³ <code>package.json.version</code> æ›´æ–°ä¹‹é—´çš„ <code>git</code> æäº¤è®°å½•ã€‚åªæ·»åŠ åœ¨æœ€åï¼Œä¸è¦†ç›–æ–‡ä»¶ã€‚<ul><li>PSï¼šæ‰€ä»¥ï¼Œä½¿ç”¨ <code>npm run changelog</code> æ›´æ–°è®°å½•å‰ï¼Œéœ€æ‰‹åŠ¨ä¿®æ”¹ <code>package.json</code> ä¸­çš„ <code>version</code>ï¼Œæˆ–ä½¿ç”¨ <code>npm version major|minor|patch</code> è‡ªåŠ¨æ›´æ–° <code>package.json</code> ä¸­çš„ <code>version</code>ã€‚</li></ul></li><li><code>npm run changelog:all</code>ï¼šåœ¨ <code>CHANGELOG.md</code> å†…ç”Ÿæˆä»é¡¹ç›®åˆ›å»ºå¼€å§‹åˆ°ç°åœ¨çš„ <code>git</code> æäº¤è®°å½•ï¼Œä¼šè¦†ç›–æ–‡ä»¶ã€‚</li></ul></li></ul><p><strong>å®ç°è¿‡ç¨‹</strong></p><p><strong>commitlinté…ç½®</strong></p><ul><li>å®‰è£…ä¾èµ–ï¼š<code>npm install -D @commitlint/cli@13.1.0 @commitlint/config-conventional@13.1.0</code> ã€‚</li><li>åˆ›å»º <code>commitlint.config.js</code> å¹¶å†™å…¥ï¼š<code>less xxx &gt; commitlint.config.js</code>ã€‚<ul><li>ã€å¯é€‰ã€‘å®‰è£… <code>husky</code>ï¼šå·²å®‰è£…å¯å¿½ç•¥ <code>npx husky-init &amp;&amp; npm install</code>ã€‚</li></ul></li><li>æ·»åŠ é’©å­ï¼š<code>npx husky add .husky/commit-msg &#39;npx --no-install commitlint --edit $1&#39;</code>ã€‚<ul><li>ã€å¯é€‰ã€‘æµ‹è¯•æ•ˆæœï¼š<code>echo &quot;foo&quot; | ./node_modules/.bin/commitlint</code> ã€‚</li></ul></li></ul><p><strong>git-czé…ç½®</strong></p><ul><li>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://github.com/streamich/git-cz" target="_blank" rel="noopener">https://github.com/streamich/git-cz</a> ã€‚</li><li>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://github.com/commitizen/cz-cli/blob/master/README.md" target="_blank" rel="noopener">https://github.com/commitizen/cz-cli/blob/master/README.md</a> ã€‚</li><li><code>commitizen</code> é»˜è®¤ä½¿ç”¨ <code>cz-conventional-changelog</code>ï¼Œåªèƒ½æ˜¾ç¤ºè‹±æ–‡ï¼Œå¦‚è¦æ˜¾ç¤ºä¸­æ–‡éœ€ä½¿ç”¨ <code>git-cz</code> å¹¶ä¿®æ”¹é…ç½®æ–‡ä»¶ <code>changelog.config.js</code> ã€‚</li><li>å®‰è£… <code>commitizen</code> å’Œ <code>git-cz</code>ï¼š<code>npm install -g commitizen git-cz</code>ã€‚</li><li>åˆå§‹åŒ– <code>git-cz</code>ï¼š<code>commitizen init git-cz -D -E --force</code>ã€‚</li><li>åˆ›å»º <code>changlog.config.js</code> å¹¶å†™å…¥ï¼š<code>less xxx &gt; changelog.config.js</code>ã€‚</li></ul><p><strong>changelogé…ç½®</strong></p><ul><li>å®‰è£…ä¾èµ–ï¼š<code>npm install -D conventional-changelog-cli</code> ã€‚</li><li>å†™å…¥è„šæœ¬åˆ° <code>package.json</code>ï¼š<ul><li><code>changelog</code>ï¼š<code>npm set-script changelog &quot;conventional-changelog -p angular -i CHANGELOG.md -s&quot;</code>ã€‚</li><li><code>changelog:all</code>ï¼š<code>npm set-script changelog:all &quot;conventional-changelog -p angular -i CHANGELOG.md -s -r 0&quot;</code>ã€‚</li></ul></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€è¿‘è¦åœ¨é¡¹ç›®é‡Œå¼•å…¥ &lt;code&gt;git commit&lt;/code&gt; å‰æ‰§è¡Œ &lt;code&gt;eslint&lt;/code&gt; æ ¡éªŒï¼Œé€šè¿‡æ‰å…è®¸æäº¤çš„åŠŸèƒ½ã€‚&lt;/p&gt;&lt;p&gt;è€ƒè™‘åˆ°å¯èƒ½ä¼šåœ¨å¤šä¸ªé¡¹ç›®ä¸­ä½¿ç”¨ï¼Œä»¥åä¹Ÿå¯èƒ½ä¼šå¢åŠ å…¶ä»–åŠŸèƒ½ã€‚&lt;/p&gt;&lt;p&gt;ç„¶åå§ï¼Œå†³å®šå†™ä¸ªå°å·¥å…·ï¼Œé›†åˆäº†&lt;strong&gt;ä¸€é”®å®‰è£…&lt;/strong&gt;ç›¸å…³ä¾èµ–çš„åŠŸèƒ½ï¼Œåç»­åªè¦ä¸æ–­ç»´æŠ¤å°å·¥å…·å°±èƒ½æ‰©å±•åŠŸèƒ½äº†ã€‚&lt;/p&gt;&lt;p&gt;ç›®å‰çš„æˆæœæ˜¯ï¼Œå†™äº†ä¸ªåŒ…å‘å¸ƒåœ¨ &lt;code&gt;npm&lt;/code&gt; ä¸Šï¼Œé€šè¿‡å‘½ä»¤ &lt;code&gt;npx zwt-fe&lt;/code&gt; å³å¯ä½¿ç”¨ã€‚&lt;/p&gt;&lt;p&gt;æ•ˆæœå¦‚ä¸‹ï¼š&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/images/ft-1.gif&quot; alt=&quot;zwt-fe&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="å‰ç«¯" scheme="http://jian2333.github.io/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="cli" scheme="http://jian2333.github.io/tags/cli/"/>
    
      <category term="nodejs" scheme="http://jian2333.github.io/tags/nodejs/"/>
    
  </entry>
  
  <entry>
    <title>2021é¢è¯•ç¬”è®°</title>
    <link href="http://jian2333.github.io/2021/06/02/2021-work/"/>
    <id>http://jian2333.github.io/2021/06/02/2021-work/</id>
    <published>2021-06-02T02:55:49.000Z</published>
    <updated>2021-06-02T03:22:54.663Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åŸºç¡€ç›¸å…³"><a href="#åŸºç¡€ç›¸å…³" class="headerlink" title="åŸºç¡€ç›¸å…³"></a>åŸºç¡€ç›¸å…³</h2><h3 id="html"><a href="#html" class="headerlink" title="html"></a>html</h3><p>-</p><h3 id="css"><a href="#css" class="headerlink" title="css"></a>css</h3><h4 id="ç›’æ¨¡å‹"><a href="#ç›’æ¨¡å‹" class="headerlink" title="ç›’æ¨¡å‹"></a>ç›’æ¨¡å‹</h4><ul><li><code>margin</code>ã€<code>border</code>ã€<code>padding</code>ã€<code>content</code></li><li><code>box-sizing</code>: <code>content-box(é»˜è®¤)</code>ã€<code>border-box</code></li><li><code>inline</code>: <code>&lt;a&gt;ã€&lt;span&gt;ã€&lt;br&gt;ã€&lt;i&gt;ã€&lt;em&gt;ã€&lt;strong&gt;ã€&lt;label&gt;ã€&lt;q&gt;ã€&lt;var&gt;ã€&lt;cite&gt;ã€&lt;code&gt;</code></li><li><code>block</code>: <code>&lt;div&gt;ã€&lt;p&gt;ã€&lt;h1&gt;-&lt;h6&gt;ã€&lt;ol&gt;ã€&lt;ul&gt;ã€&lt;dl&gt;ã€&lt;table&gt;ã€&lt;address&gt;ã€&lt;blockquote&gt; ã€&lt;form&gt;</code></li><li><code>inline-block</code>: <code>image</code>ã€<code>input</code></li></ul><h4 id="å±…ä¸­"><a href="#å±…ä¸­" class="headerlink" title="å±…ä¸­"></a>å±…ä¸­</h4><a id="more"></a><ul><li><p>æ°´å¹³ï¼š</p><ul><li><p>å†…è”ï¼š<code>text-align: center</code></p></li><li><p>å—å…ƒç´ ï¼š</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// transform</span></span><br><span class="line"><span class="selector-class">.son</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: - <span class="number">1</span>/<span class="number">2</span> width; <span class="comment">// æˆ–è€…</span></span><br><span class="line">  <span class="attribute">transform</span>: translateY(-<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// flex</span></span><br><span class="line"><span class="selector-class">.father</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¸¸è§„</span></span><br><span class="line"><span class="selector-class">.son</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: auto</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><ul><li><p>å‚ç›´</p><ul><li><p>å†…è”ï¼š<code>line-height: height</code></p></li><li><p>å—å…ƒç´ ï¼š</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// transform</span></span><br><span class="line"><span class="selector-class">.son</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: - <span class="number">1</span>/<span class="number">2</span> height; <span class="comment">// æˆ–è€…</span></span><br><span class="line">  <span class="attribute">transform</span>: translateY(-<span class="number">50%</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// flex</span></span><br><span class="line"><span class="selector-class">.father</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-item</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¸¸è§„ï¼ŒåŒä¸Š</span></span><br><span class="line"><span class="selector-class">.son</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: auto</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><ul><li>å®Œå…¨ï¼š</li></ul><h4 id="flex"><a href="#flex" class="headerlink" title="flex"></a>flex</h4><ul><li>flex-direction: row, row-reserve, column, column-reserve</li><li>flex-wrap: wrap, no-wrap, wrap-reserve</li><li>flex-flow: flex-direction + flex-wrap ç»„åˆ</li><li>justify-content: flex-start, flex-end, center, space-between, space-around</li><li>align-content: stretch, flex-start, flex-end, center, space-between, space-around</li><li>align-items: stretch, flex-start, flex-end, center, baseline</li><li>align-self: auto, stretch, flex-start, flex-end, center, baseline</li></ul><h4 id="grid"><a href="#grid" class="headerlink" title="grid"></a>grid</h4><ul><li>display: grid | inline-grid</li><li>grid-template-column, grid-template-row, grid-auto-column, grid-auto-row<ul><li>repeat, auto-fill / auto-fit, fr, minmax(), auto, ç½‘æ ¼çº¿çš„åå­—</li><li>auto-fill: å®Œå…¨å¡«å……æ—¶ä¸€æ ·ã€‚ä¸å®Œå…¨å¡«å……æ—¶ï¼Œä¿ç•™ <strong>åŸå®½åº¦ä¸å˜</strong></li><li>auto-fit: å®Œå…¨å¡«å……æ—¶ä¸€æ ·ã€‚ä¸å®Œå…¨å¡«å……æ—¶ï¼Œä¼š <strong>æ‹‰ä¼¸åŸå®½åº¦è‡³å¡«å……æ»¡</strong></li></ul></li><li>grid-template-area: åŒºåŸŸï¼Œåé¢å®šä½ç”¨</li><li>grid-row-gap, grid-column-gap, grid-gap(row | column)</li><li>grid-auto-flow: row, row dense, column, column dense</li><li>ä½ç½®<ul><li>å®¹å™¨ï¼Œæ•´ä½“ä½ç½®ï¼š<ul><li>justify-content, align-content, place-content(align | justify)</li><li>start, end, center, stretch, space-around, space-between, space-evenly(ç­‰é—´è·)</li></ul></li><li>å®¹å™¨ï¼Œæ¯ä¸ªé¡¹ç›®å†…å…ƒç´ ä½ç½®<ul><li>justify-items, align-items, place-items, place-items(align | justify)</li><li>start, end, center, stretch</li></ul></li><li>é¡¹ç›®ï¼Œæ¯ä¸ªé¡¹ç›®å†…å…ƒç´ ä½ç½®<ul><li>justify-self, align-self, place-self(align | justify)</li><li>start, end, center, stretch</li></ul></li></ul></li><li><p>åˆå¹¶</p><ul><li>grid-column-start, grid-column-end, grid-row-start, grid-row-end</li><li><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column-start</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">grid-column-end</span>: <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰æ•ˆäº</span></span><br><span class="line"><span class="selector-class">.item-2</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column-start</span>: span <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æˆ–è€…</span></span><br><span class="line"><span class="selector-class">.item-3</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column-end</span>: span <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>grid-column: grid-column-start / grid-column-end</p></li><li><p>grid-row: grid-row-start / grid-row-end</p><ul><li>å¯¹äº <code>xx-end</code> ä¹Ÿå¯ç”¨ <code>span</code> è¡¨ç¤ºè·¨è¶Š</li><li><code>/</code> åå¯çœç•¥ï¼Œé»˜è®¤è·¨è¶Š1æ ¼</li><li><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column</span>: <span class="number">1</span> / <span class="number">3</span>;</span><br><span class="line">  <span class="comment">// grid-column: 1 e("/") 3;</span></span><br><span class="line">  <span class="comment">// calc(~'50% - @&#123;bg&#125; - 10px')</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰æ•ˆäº</span></span><br><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column-start</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">grid-column-end</span>: <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æˆ–è€…</span></span><br><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column</span>: <span class="number">1</span> / span <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>grid-area: åŒºåŸŸå®šä½</p><ul><li><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  <span class="attribute">grid-area</span>: e;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰æ•ˆäº </span></span><br><span class="line"><span class="selector-class">.item-2</span> &#123;</span><br><span class="line">  <span class="attribute">grid-area</span>: <span class="number">2</span> / <span class="number">2</span> / <span class="number">3</span> / <span class="number">3</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨ <code>grid-template-area</code> çš„å®šä½</p></li><li>æˆ–è€…ç­‰æ•ˆäº <code>grid-area: grid-row-start / grid-column-start / grid-row-end / grid-column-end</code></li></ul></li></ul></li></ul><h4 id="ä¼ªå…ƒç´ "><a href="#ä¼ªå…ƒç´ " class="headerlink" title="ä¼ªå…ƒç´ "></a>ä¼ªå…ƒç´ </h4><ul><li>é“¾æ¥ç›¸å…³ï¼šlink, visited, hover, active</li><li>å¸¸ç”¨ï¼š<ul><li>first-child</li><li>nth-child, nth-of-type, nth-col(odd: å¥‡æ•°ï¼Œ even: å¶æ•°)</li><li>focus, not, has, root</li></ul></li><li>before, after: åˆ›å»ºä¸€ä¸ªå·²é€‰ä¸­å…ƒç´ çš„ç¬¬xä¸ª<strong>å­</strong>å…ƒç´ </li></ul><h4 id="ç©¿é€"><a href="#ç©¿é€" class="headerlink" title="ç©¿é€"></a>ç©¿é€</h4><ul><li>ç©¿é€çˆ¶çº§/é«˜ä¼˜å…ˆçº§æ ·å¼</li><li>/deep/</li><li>>&gt;&gt;</li></ul><h4 id="ä¼˜å…ˆçº§"><a href="#ä¼˜å…ˆçº§" class="headerlink" title="ä¼˜å…ˆçº§"></a>ä¼˜å…ˆçº§</h4><ul><li>7å¤§ä¼˜å…ˆçº§ï¼Œ</li><li>å†…è”<code>style</code>ã€idé€‰æ‹©å™¨ã€å±æ€§é€‰æ‹©å™¨ã€ç±»é€‰æ‹©å™¨ã€ä¼ªç±»é€‰æ‹©å™¨ã€å…ƒç´ é€‰æ‹©å™¨ã€é€šç”¨é€‰æ‹©å™¨(*)</li><li>æƒé‡è®¡ç®—ï¼š<ul><li>1000ã€100ã€10*3ã€1*2</li><li>ä¸èƒ½è·¨å±‚çº§</li></ul></li></ul><h4 id="background"><a href="#background" class="headerlink" title="background"></a>background</h4><ul><li>color:</li><li>image: url(â€˜xxxâ€™)</li><li>position: top, right bottom left center</li><li>repeat: repeat, repeat-x, repeat-y, no-repeat</li><li>attachment:<ul><li>local: ç›¸å¯¹ å…ƒç´ å†…å®¹ å›ºå®šï¼Œä¼šåœ¨å­çª—å£ä¸­éšæ»šåŠ¨æ¡æ»šåŠ¨</li><li>scroll: ç›¸å¯¹ å…ƒç´  å›ºå®šï¼Œä¸ä¼šåœ¨å­çª—å£ä¸­éšæ»šåŠ¨æ¡æ»šåŠ¨</li></ul></li><li>size: å›ºå®šå€¼ï¼Œç™¾åˆ†æ¯”ï¼Œcover, contain</li><li>åˆå¹¶å†™æ³•ï¼šurl position / size repeat attachment color</li><li>é«˜çº§ç”¨æ³•ï¼š <strong>linear-gradient: æ¸å˜</strong></li></ul><h4 id="position"><a href="#position" class="headerlink" title="position"></a>position</h4><ul><li>static, fixed, relative, absolute,</li><li>sticky: ç²˜æ€§å®šä½ï¼Œç›¸å¯¹å®šä½å’Œå›ºå®šå®šä½çš„æ··åˆã€‚åœ¨è·¨è¶Šç‰¹å®šé˜ˆå€¼å‰ä¸ºç›¸å¯¹å®šä½ï¼Œä¹‹åä¸ºå›ºå®šå®šä½ã€‚éœ€æŒ‡å®š <code>top</code>ã€<code>right</code>ã€<code>bottom</code>ã€<code>left</code> 4ä¸ªå€¼å…¶ä¸­1ä¸ªã€‚</li></ul><h3 id="js"><a href="#js" class="headerlink" title="js"></a>js</h3><h4 id="åŸºç¡€ç±»å‹"><a href="#åŸºç¡€ç±»å‹" class="headerlink" title="åŸºç¡€ç±»å‹"></a>åŸºç¡€ç±»å‹</h4><ul><li>å€¼ç±»å‹ï¼š<code>String</code>ã€<code>Number</code>ã€<code>Null</code>ã€<code>Undefined</code>ã€<code>Boolean</code><ul><li>ä¿å­˜åœ¨ <code>æ ˆ</code> ä¸­</li></ul></li><li>å¼•ç”¨ç±»å‹ï¼š<code>Object</code>ã€<code>Array</code>ã€<code>Date</code>ã€<code>Function</code><ul><li>å˜é‡åä¿å­˜åœ¨ <code>æ ˆ</code> ä¸­ï¼Œå˜é‡å€¼ä¿å­˜åœ¨ <code>å †</code> ä¸­</li></ul></li></ul><h4 id="åŸå‹-åŸå‹é“¾"><a href="#åŸå‹-åŸå‹é“¾" class="headerlink" title="åŸå‹/åŸå‹é“¾"></a>åŸå‹/åŸå‹é“¾</h4><ul><li><p><a href="https://juejin.cn/post/6844904093828251662#heading-12" target="_blank" rel="noopener">åŸå‹è¯¦è§£</a></p></li><li><p>ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨æ¥ç»§æ‰¿ï¼Œå› ä¸ºæ²¡æœ‰ <code>prototype</code> å±æ€§</p></li><li><p><strong>åŸå‹</strong></p><ul><li>åŸå‹ï¼Œåˆå«åŸå‹å¯¹è±¡ï¼ŒæŒ‡æ„é€ å‡½æ•°çš„ <code>prototype</code>ï¼Œ æ¯”å¦‚ <code>Father.prototype</code></li><li>åŸå‹çš„ä½œç”¨å°±æ˜¯å…±äº«æ–¹æ³•ï¼Œ<code>Father.prototype.method</code> ä¸Šçš„æ–¹æ³•ï¼Œå¯ä»¥è¢«å…±äº«</li><li>åŸå‹ä¸­çš„ <code>this</code> æŒ‡å‘å®ä¾‹</li></ul></li><li><p><strong>åŸå‹é“¾</strong></p><ul><li><p>åŸå‹ä¸åŸå‹ä¹‹é—´ç›¸é“¾æ¥çš„è¿‡ç¨‹å³ä¸º <strong>åŸå‹é“¾</strong></p></li><li><p><strong>å®ä¾‹çš„ <code>__proto__</code> æŒ‡å‘çš„æ˜¯æ„é€ å‡½æ•°çš„ <code>protoType</code> åŸå‹å¯¹è±¡</strong>: <code>console(obj.__proto__ === Star.prototype) // true</code></p></li><li><p>åŸå‹æŸ¥æ‰¾æ–¹å¼</p><ol><li>æŸ¥æ‰¾objå®ä¾‹ä¸Šæ˜¯å¦æœ‰ <code>dance</code> æ–¹å¼ï¼š <code>this.dance = function(){}</code></li><li>æŸ¥æ‰¾Staræ„é€ å‡½æ•° åŸå‹å¯¹è±¡ <code>prototype</code> ä¸Šæ˜¯å¦æœ‰ <code>dance</code> æ–¹æ³•ï¼š<code>Star.prototype.dance = xxx</code></li><li>æŸ¥æ‰¾ObjectåŸå‹å¯¹è±¡ <code>prototype</code> ä¸Šæ˜¯å¦æœ‰ <code>dance</code> æ–¹æ³•ï¼š<code>Object.prototype.dance = xxx</code></li><li>è¿˜æ²¡æ‰¾åˆ°ï¼Œå°±æŠ¥é”™</li></ol></li><li><p>åŸå‹æ„é€ å™¨</p><ul><li><p>åŸå‹çš„æ„é€ å™¨æŒ‡å‘æ„é€ å‡½æ•°</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(Star.prototype.constructor === Star) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.__proto__.constructor === Star) <span class="comment">// true</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p><code>Star.prototype = {}</code> ä¼šä¸¢å¤±æ„é€ å™¨ï¼Œæ‰€ä»¥ä¸€èˆ¬ç”¨ <code>Star.prototype.xxx = function() {}</code></p></li></ul></li></ul></li><li><p><strong>ç»§æ‰¿</strong></p><ul><li><p><code>call</code> åªå¯ä»¥ç»§æ‰¿ <strong>å±æ€§</strong>ï¼Œè¦ç»§æ‰¿ <strong>å‡½æ•°</strong> çš„è¯ï¼Œéœ€è¦ä½¿ç”¨ <strong>åŸå‹é“¾ç»§æ‰¿</strong></p></li><li><p>æ–¹æ³•ä¸€ï¼šåˆ©ç”¨ <code>Son.prototype = Father.prototype</code> æ”¹å˜åŸå‹æŒ‡å‘ï¼Œä½†å­ç±»å¢åŠ åŸå‹æ–¹æ³•ï¼Œä¹Ÿä¼šå½±å“åˆ°çˆ¶ç±»</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Father</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name</span><br><span class="line">&#125;</span><br><span class="line">Father.prototype.dance = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;..&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  Father.call(<span class="keyword">this</span>, name)</span><br><span class="line">  <span class="keyword">this</span>.age = age</span><br><span class="line">&#125;</span><br><span class="line">Son.prototype = Father.prototype</span><br><span class="line"><span class="comment">// ä¸ºå­ç±»æ·»åŠ æ–¹æ³•</span></span><br><span class="line">Son.prototype.sing = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;...&#125;</span><br><span class="line"><span class="keyword">let</span> son = <span class="keyword">new</span> Son(<span class="string">'xiaohong'</span>, <span class="number">18</span>)</span><br><span class="line"><span class="comment">// æ­¤æ—¶çˆ¶ç±»ä¹Ÿè¢«å½±å“äº†</span></span><br><span class="line"><span class="built_in">console</span>.log(Father.prototype) <span class="comment">// &#123;dance: f, sing: f, constructor: f&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(Father) <span class="comment">// f Father(name) &#123;&#125;</span></span><br></pre></td></tr></table></figure></li><li><p>æ–¹æ³•äºŒï¼šå­ç±»çš„åŸå‹æŒ‡å‘çˆ¶ç±»çš„å®ä¾‹ <code>Son.prototype = new Father()</code>ï¼Œ è¿™æ ·å°±å¯ä»¥é¡ºç€åŸå‹é“¾ç»§æ‰¿çˆ¶ç±»çš„æ–¹æ³•äº†ã€‚å¹¶ä¸”å­ç±»æ·»åŠ åŸå‹æ–¹æ³•çš„æ—¶å€™ï¼Œä¸ä¼šå½±å“çˆ¶ç±»</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Father</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name</span><br><span class="line">&#125;</span><br><span class="line">Father.prototype.dance = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;...&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  Father.call(<span class="keyword">this</span>, name)</span><br><span class="line">  <span class="keyword">this</span>.age = age</span><br><span class="line">&#125;</span><br><span class="line">Son.prototype = <span class="keyword">new</span> Father()</span><br><span class="line">Son.prototype.sing = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;...&#125;</span><br><span class="line"><span class="keyword">let</span> son = <span class="keyword">new</span> Son(<span class="string">'xiaoming'</span>, <span class="number">20</span>)</span><br><span class="line"><span class="comment">// æ­¤æ—¶çˆ¶ç±»ä¸å—å½±å“</span></span><br><span class="line"><span class="built_in">console</span>.log(Father.prototype) <span class="comment">// &#123;dance: f, constructor: f&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(Son.prototype) <span class="comment">// Fatherå®ä¾‹ &#123;name: undefined, sing: f, __proto__: &#123; dance: f, constructor: f &#125;&#125;</span></span><br></pre></td></tr></table></figure></li><li><p>ç»§æ‰¿çš„å†™æ³•</p><ul><li><p><strong>ES5å†™æ³•</strong>ï¼šä¸Šé¢çš„åŸå‹é“¾å†™æ³•</p></li><li><p><strong>ES6å†™æ³•</strong>ï¼š ç±»å†™æ³•</p></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Father</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name</span><br><span class="line">  &#125;</span><br><span class="line">  dance() &#123;...&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son</span> <span class="keyword">extends</span> <span class="title">Father</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name, age) &#123;</span><br><span class="line">    <span class="keyword">super</span>(name)</span><br><span class="line">    <span class="keyword">this</span>.age = age</span><br><span class="line">  &#125;</span><br><span class="line">  sing() &#123;...&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj = <span class="keyword">new</span> Son(<span class="string">'xiaohong'</span>, <span class="number">18</span>)</span><br><span class="line"><span class="built_in">console</span>.log(Father.prototype) <span class="comment">// &#123;dance: f, constructor: f&#125;</span></span><br></pre></td></tr></table></figure></li></ul></li></ul></li></ul><h4 id="å¸¸ç”¨å‡½æ•°"><a href="#å¸¸ç”¨å‡½æ•°" class="headerlink" title="å¸¸ç”¨å‡½æ•°"></a>å¸¸ç”¨å‡½æ•°</h4><ul><li>String: slice, toUpperCase, toLowerCase, indexOf, startsWith, endsWith,padStart, padEnd</li><li>Array: find, filter, map, includes, flat, reduce, slice, splice, concat<ul><li>reduce: (reducer, initialValue)</li><li>reducer: (accumulator, currentValue, index, array)</li></ul></li><li>éå˜å¼‚æ–¹æ³•(ä¸æ”¹å˜ç°æœ‰æ•°ç»„): filter, slice, concat</li><li>Object: keys, hasOwnproperty, values</li><li>Map, Set: has, set, get, delete, entites</li></ul><h4 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼"></a>æ­£åˆ™è¡¨è¾¾å¼</h4><ul><li><p>^$</p></li><li><p>*+?</p></li><li><p>{n, m}</p></li><li><p>[^xyz]</p></li><li><p>éè´ªå©ªåŒ¹é…(?): (.*)(&amp;arr=(.))</p></li><li><p>ä¸¾ä¾‹ï¼š åŒ¹é…urlå­—ç¬¦ä¸²</p><ul><li><p>æ–¹æ³•ä¸€ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getValue</span> (<span class="params">key</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// è§„åˆ™ ?|&amp;key=value|&amp;|$, ä¹Ÿå°±æ˜¯ /(\?|&amp;)$&#123;key&#125;=([^&amp;]*)(&amp;|$)/</span></span><br><span class="line">  <span class="comment">// (\?|&amp;): ä»¥?æˆ–&amp; å¼€å¤´</span></span><br><span class="line">  <span class="comment">// ([^&amp;]*): åŒ¹é…é&amp;å­—ç¬¦ï¼Œè´ªå©ªåŒ¹é…</span></span><br><span class="line">  <span class="comment">// (&amp;|$): ä»¥&amp;æˆ–æœ€åå­—ç¬¦ç»“å°¾</span></span><br><span class="line">  <span class="keyword">let</span> url = <span class="built_in">decodeURI</span>(<span class="built_in">window</span>.location.href)</span><br><span class="line">  <span class="keyword">let</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">`(\\?|&amp;)<span class="subst">$&#123;key&#125;</span>=([^&amp;]*)(&amp;|$)`</span>, <span class="string">'i'</span>)</span><br><span class="line">  <span class="keyword">let</span> res = url.match(reg)</span><br><span class="line">  <span class="keyword">return</span> (res &amp;&amp; res.length &gt; <span class="number">2</span>) ? res[<span class="number">2</span>] : <span class="string">''</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ–¹æ³•äºŒï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> qs <span class="keyword">from</span> <span class="string">'qs'</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getValue2</span> (<span class="params">key</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> search = <span class="built_in">window</span>.location.href.split(<span class="string">'?'</span>)[<span class="number">1</span>]</span><br><span class="line">  <span class="keyword">let</span> params = qs.parse(search)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'params'</span>, params, params[key])</span><br><span class="line">  <span class="keyword">return</span> params[key]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li></ul></li></ul><h4 id="this"><a href="#this" class="headerlink" title="this"></a>this</h4><ul><li>æ™®é€šå‡½æ•°<ul><li>æ™®é€šå‡½æ•°è°ƒç”¨: å…¨å±€windows</li><li>ä½œä¸ºå¯¹è±¡çš„å‡½æ•°è°ƒç”¨ï¼šä¸Šçº§å¯¹è±¡</li><li>ä½œä¸ºæ„é€ å‡½æ•°è°ƒç”¨ï¼šnew å‡ºæ¥çš„å¯¹è±¡</li><li>callã€apply: ä¼ å…¥çš„ä¸Šä¸‹æ–‡</li></ul></li><li>ç®­å¤´å‡½æ•°<ul><li>æ²¡æœ‰ç»‘å®šthisï¼Œå®ƒçš„thiså–å†³äºè¯¥å‡½æ•°å¤–éƒ¨éç®­å¤´å‡½æ•°çš„thiså€¼</li></ul></li><li><code>setTimeout, setInterval</code><ul><li>æ™®é€šå‡½æ•°ï¼šæŒ‡å‘windows</li><li>ç®­å¤´å‡½æ•°ï¼šæŒ‡å‘å¤–å±‚å¯¹è±¡obj</li></ul></li></ul><h4 id="bind-call-apply"><a href="#bind-call-apply" class="headerlink" title="bind,call,apply"></a>bind,call,apply</h4><ul><li><p>éƒ½æ˜¯æ”¹å˜æ‰§è¡Œçš„ä¸Šä¸‹æ–‡ï¼Œä¹Ÿå°±æ˜¯ <code>this</code> çš„æŒ‡å‘</p></li><li><p>call, apply: ç«‹å³æ‰§è¡Œ</p><ul><li>call: pa1, pa2, pa3, â€¦</li><li>apply: [pa1, pa2, pa3, â€¦]</li></ul></li><li><p>bind: åªæ˜¯ç”Ÿæˆä¸€ä¸ªæ–°å‡½æ•°ï¼Œåœ¨è°ƒç”¨æ—¶æ‰æ‰§è¡Œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="literal">null</span>);  <span class="comment">//  "[object Null]"</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call([]);  <span class="comment">//  "[object Array]"</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(&#123;&#125;);  <span class="comment">//  "[object Object]"</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="number">123</span>);  <span class="comment">//  "[object Number]"</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="string">'123'</span>);  <span class="comment">//  "[object String]"</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="literal">false</span>);  <span class="comment">//  "[object Boolean]"</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="literal">undefined</span>);  <span class="comment">//  "[object Undefined]"</span></span><br><span class="line"><span class="comment">// ä¼˜åŒ–</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call([]).slice(<span class="number">8</span>, <span class="number">-1</span>); <span class="comment">// Array</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="promiseã€asyncã€await"><a href="#promiseã€asyncã€await" class="headerlink" title="promiseã€asyncã€await"></a>promiseã€asyncã€await</h4><ul><li>promise:<ul><li>new Promise, Promise.resolve, Promise.reject</li><li>then, catch</li><li>all: å…¨æˆåŠŸæˆ–1ä¸ªå¤±è´¥ï¼Œthen/catch, å¹¶è¡Œ</li><li>race: 1ä¸ªæˆåŠŸæˆ–å¤±è´¥ï¼Œthen/catch, å¹¶è¡Œ</li><li>allSettled: å…¨éƒ¨æˆåŠŸæˆ–å¤±è´¥ï¼Œthen, [{status: â€˜fulfilledâ€™, value: â€˜â€™}, {status: â€˜rejectedâ€™, reason: â€˜â€™}]</li></ul></li><li>async:<ul><li>è¿”å› promise</li></ul></li><li>await:<ul><li>async å†…éƒ¨æ‰èƒ½ä½¿ç”¨</li><li>await é»˜è®¤åªèƒ½é“¾å¼æˆåŠŸçš„promiseï¼Œé™¤éåŠ  <code>.catch</code></li><li><code>for</code>ã€<code>for of</code> å†…ä¼šæŒ‰é¡ºåºæ‰§è¡Œï¼Œå…¶ä»–æœ‰å›è°ƒå¾ªç¯çš„å¾ªç¯(<code>forEach</code>ã€<code>filter</code>ã€<code>map</code>ã€<code>reduce</code>)ä¸ä¼šæŒ‰é¡ºåº</li></ul></li></ul><h4 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h4><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">axios.carete(&#123;</span><br><span class="line">  baseURL: <span class="string">''</span>,</span><br><span class="line">  timeout: <span class="number">30000</span>,</span><br><span class="line">  token: <span class="string">''</span>,</span><br><span class="line">  headers: &#123;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">axios.interceptors.request.use(<span class="function"><span class="params">request</span> =&gt;</span> &#123;</span><br><span class="line">  </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">axios.interceptors.response.use(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line"><span class="comment">// response.data, code</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>æ·»åŠ è¯·æ±‚å‚æ•°</p><ul><li><code>get</code>: axios.get(url, { params: {aa: 1, bb: 2} })</li><li><code>post</code>: axios.post(url, { aa: 1, bb: 2 })</li></ul></li><li><p>é˜²æ­¢å¤šæ¬¡è¯·æ±‚</p><ul><li><p>ä½¿ç”¨axiom.cancelToken = new Axios.CancelToken(function executor(cancel){ // æ‰§è¡Œcancel })</p></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// request interceptor</span></span><br><span class="line">service.interceptors.request.use(</span><br><span class="line">  (config) =&gt; &#123;</span><br><span class="line">    removePending(config, <span class="string">"è¯·æ±‚å‰è§¦å‘"</span>);</span><br><span class="line">    addPending(config);</span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">  &#125;,</span><br><span class="line">  (error) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> pendings = &#123;&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ·»åŠ è¯·æ±‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> addPending = <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; method, url, params, data &#125; = config;</span><br><span class="line">  <span class="keyword">const</span> id = [method, url, <span class="built_in">JSON</span>.stringify(params), <span class="built_in">JSON</span>.stringify(data)].join(<span class="string">'&amp;'</span>);</span><br><span class="line">  config.cancelToken = <span class="keyword">new</span> Axios.CancelToken(<span class="function"><span class="keyword">function</span> <span class="title">executor</span>(<span class="params">cancel</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!pendings[id]) &#123;</span><br><span class="line">      pendings[id] = cancel</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> config;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* ç§»é™¤è¯·æ±‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> removePending = <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (!<span class="built_in">Object</span>.keys(pendings).length) &#123;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// console.log(who, pendings, 'å–æ¶ˆå‰')</span></span><br><span class="line">  <span class="keyword">let</span> &#123; method, url, params, data &#125; = config;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    data = <span class="built_in">JSON</span>.parse(data)</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="comment">// data</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> id = [method, url, <span class="built_in">JSON</span>.stringify(params), <span class="built_in">JSON</span>.stringify(data)].join(<span class="string">'&amp;'</span>);</span><br><span class="line">  <span class="keyword">const</span> cancel = pendings[id];</span><br><span class="line">  <span class="keyword">if</span> (cancel &amp;&amp; <span class="keyword">typeof</span> cancel === <span class="string">'function'</span>) &#123;</span><br><span class="line">    cancel();</span><br><span class="line">    <span class="keyword">delete</span> pendings[id]</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// console.log(who, pendings, 'å–æ¶ˆå')</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¸…ç©ºæ‰€æœ‰pendingè¯·æ±‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> clearPending = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">Object</span>.keys(pendings).forEach(<span class="function"><span class="params">c</span> =&gt;</span> pendings[c]());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li></li></ul></li></ul><h4 id="é˜²æŠ–å’ŒèŠ‚æµ"><a href="#é˜²æŠ–å’ŒèŠ‚æµ" class="headerlink" title="é˜²æŠ–å’ŒèŠ‚æµ"></a>é˜²æŠ–å’ŒèŠ‚æµ</h4><ul><li><p>é˜²æŠ–ï¼šæ‰§è¡Œé«˜é¢‘å‡½æ•°nç§’åæ‰æ‰§è¡Œxå‡½æ•°ï¼Œå¦‚æœæœŸé—´æ‰§è¡Œnï¼Œé‡æ–°è®¡æ—¶å¹¶ç»“æŸåå†æ‰§è¡Œx</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 1. å‡½æ•°é˜²æŠ–</span></span><br><span class="line"><span class="comment">* æ‰§è¡Œé«˜é¢‘å‡½æ•°xç§’åæ‰æ‰§è¡Œnå‡½æ•°</span></span><br><span class="line"><span class="comment">* åœºæ™¯ï¼šdomæ›´æ–°ï¼Œonresizeï¼Œinputä¸‹æ‹‰æ¡†</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timeout = <span class="literal">null</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    clearTimeout(timeout)</span><br><span class="line">    timeout = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      fn.call(<span class="keyword">this</span>, <span class="built_in">arguments</span>)</span><br><span class="line">    &#125;, <span class="number">300</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'say hi'</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> inp = <span class="built_in">document</span>.getElementById(<span class="string">'inp'</span>)</span><br><span class="line">inp.addEventListener(<span class="string">'input'</span>, debounce(sayHi))</span><br></pre></td></tr></table></figure></li><li><p>èŠ‚æµï¼šnç§’å†…åªæ‰§è¡Œä¸€æ¬¡xå‡½æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 2. å‡½æ•°èŠ‚æµ</span></span><br><span class="line"><span class="comment">* xç§’å†…åªæ‰§è¡Œä¸€æ¬¡nå‡½æ•°</span></span><br><span class="line"><span class="comment">* åœºæ™¯ï¼šapiè¯·æ±‚</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> canRun = <span class="literal">true</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!canRun) &#123;</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    canRun = <span class="literal">false</span></span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      fn.call(<span class="keyword">this</span>, <span class="built_in">arguments</span>)</span><br><span class="line">      canRun = <span class="literal">true</span></span><br><span class="line">    &#125;, <span class="number">300</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayH</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(e.target.innerWidth, e.target.innerHeight)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'resize'</span>, throttle(sayH))</span><br></pre></td></tr></table></figure></li></ul><h4 id="deferã€async"><a href="#deferã€async" class="headerlink" title="deferã€async"></a>deferã€async</h4><ul><li>defer: å¼‚æ­¥ä¸‹è½½ï¼Œæœ€åæ‰§è¡Œ</li><li>async: å¼‚æ­¥ä¸‹è½½ï¼Œä¸‹è½½å®Œæ‰§è¡Œ</li></ul><h4 id="æ•è·-å†’æ³¡"><a href="#æ•è·-å†’æ³¡" class="headerlink" title="æ•è·/å†’æ³¡"></a>æ•è·/å†’æ³¡</h4><ul><li><p>äº‹ä»¶æœ‰3ä¸ªé˜¶æ®µï¼š<code>äº‹ä»¶æ•è·é˜¶æ®µ</code>ã€<code>äº‹ä»¶ç›®æ ‡é˜¶æ®µ</code>ã€<code>äº‹ä»¶å†’æ³¡é˜¶æ®µ</code></p></li><li><p>äº‹ä»¶æ•è·é˜¶æ®µï¼šçˆ¶ â€“&gt; å­</p></li><li><p>äº‹ä»¶ç›®æ ‡é˜¶æ®µï¼šæŒ‰jsæ·»åŠ é¡ºåºæ‰§è¡Œ</p></li><li><p>äº‹ä»¶å†’æ³¡é˜¶æ®µï¼šå­ â€“&gt; çˆ¶</p></li><li><p><a href="https://segmentfault.com/q/1010000004542336" target="_blank" rel="noopener">https://segmentfault.com/q/1010000004542336</a></p></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</span><br><span class="line"><span class="keyword">var</span> div2 = <span class="built_in">document</span>.getElementById(<span class="string">"div2"</span>);</span><br><span class="line"><span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn1"</span>);</span><br><span class="line"></span><br><span class="line">div1.addEventListener(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span> (<span class="params"> event </span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"div1,false"</span>);</span><br><span class="line">&#125;,<span class="literal">false</span>)</span><br><span class="line">div2.addEventListener(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span> (<span class="params"> event </span>) </span>&#123;                </span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"div2,false"</span>);</span><br><span class="line">&#125;,<span class="literal">false</span>)</span><br><span class="line">btn.addEventListener(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span> (<span class="params"> event </span>) </span>&#123;                </span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"btn,false"</span>);</span><br><span class="line">&#125;,<span class="literal">false</span>)</span><br><span class="line">div1.addEventListener(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span> (<span class="params"> event </span>) </span>&#123;                </span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"div1,true"</span>);</span><br><span class="line">&#125;,<span class="literal">true</span>)</span><br><span class="line">div2.addEventListener(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span> (<span class="params"> event </span>) </span>&#123;                </span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"div2,true"</span>);</span><br><span class="line">&#125;,<span class="literal">true</span>)</span><br><span class="line">btn.addEventListener(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span> (<span class="params"> event </span>) </span>&#123;                </span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"btn,true"</span>);</span><br><span class="line">&#125;,<span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»“æœ</span></span><br><span class="line"><span class="comment">// div1,true</span></span><br><span class="line"><span class="comment">// div2,true</span></span><br><span class="line"><span class="comment">// btn,false  è¿™é‡Œ</span></span><br><span class="line"><span class="comment">// btn,true</span></span><br><span class="line"><span class="comment">// div2,false</span></span><br><span class="line"><span class="comment">// div1,false</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="ES6"><a href="#ES6" class="headerlink" title="ES6+"></a>ES6+</h4><h2 id="è¿›é˜¶1-æŠ€èƒ½æ–¹å‘"><a href="#è¿›é˜¶1-æŠ€èƒ½æ–¹å‘" class="headerlink" title="è¿›é˜¶1(æŠ€èƒ½æ–¹å‘)"></a>è¿›é˜¶1(æŠ€èƒ½æ–¹å‘)</h2><h3 id="git"><a href="#git" class="headerlink" title="git"></a>git</h3><h4 id="åŸºç¡€å‘½ä»¤"><a href="#åŸºç¡€å‘½ä»¤" class="headerlink" title="åŸºç¡€å‘½ä»¤"></a>åŸºç¡€å‘½ä»¤</h4><ul><li>git add, git commit, git branch, git checkout, git checkout -b, git pull, git push, git clone</li></ul><h4 id="git-flows"><a href="#git-flows" class="headerlink" title="git flows"></a>git flows</h4><ul><li>master, env-release, env-test, env-dev, feat-xx, hot-fix</li><li>feat: feat -&gt; dev -&gt; test -&gt; master</li><li>hotfix: hotfix -&gt; dev, hotfix -&gt; test, hotfix -&gt; master</li></ul><h4 id="å˜åŸº-rebase-ä¸åˆå¹¶"><a href="#å˜åŸº-rebase-ä¸åˆå¹¶" class="headerlink" title="å˜åŸº(rebase)ä¸åˆå¹¶"></a>å˜åŸº(rebase)ä¸åˆå¹¶</h4><ul><li>å˜åŸºéƒ½è¦åœ¨ <code>push</code> å‰</li><li>äº¤äº’å¼å˜åŸºï¼šä¼˜åŒ–logæäº¤è®°å½•ã€‚åˆå¹¶ã€ä¿®æ”¹logã€è°ƒæ•´é¡ºåº</li><li>æ™®é€šå˜åŸºï¼š<ul><li>æŠŠAåˆå¹¶åˆ°Bï¼Œä»£ç ä¸Šç­‰æ•ˆäºï¼ŒæŠŠBå˜åŸºåˆ°A</li><li>ä»£ç å±‚é¢ç›¸åŒï¼Œlogä¸ä¸€æ ·</li></ul></li></ul><h4 id="é´é€‰-cherry-pick"><a href="#é´é€‰-cherry-pick" class="headerlink" title="é´é€‰(cherry-pick)"></a>é´é€‰(cherry-pick)</h4><ul><li>æŠŠæŸä¸€æ¡æäº¤è®°å½•ï¼Œåˆå¹¶åˆ°åˆ†æ”¯A</li></ul><h4 id="è´®è—-stash"><a href="#è´®è—-stash" class="headerlink" title="è´®è—(stash)"></a>è´®è—(stash)</h4><ul><li>æŠŠå½“å‰ä¿®æ”¹ä¸´æ—¶å­˜å‚¨èµ·æ¥ï¼Œéœ€è¦çš„æ—¶å€™åº”ç”¨</li><li>ä¿®æ”¹æ–‡ä»¶ç›´æ¥è´®è—ï¼Œæ–°å¢æ–‡ä»¶è¦ <code>git add</code> ååœ¨è´®è—</li></ul><h4 id="patch"><a href="#patch" class="headerlink" title="patch"></a>patch</h4><ul><li>æ‰“è¡¥ä¸ï¼Œç±»ä¼¼é´é€‰</li></ul><h3 id="vue-2-å…¨å®¶æ¡¶-é‡ç‚¹"><a href="#vue-2-å…¨å®¶æ¡¶-é‡ç‚¹" class="headerlink" title="vue 2 å…¨å®¶æ¡¶(é‡ç‚¹)"></a>vue 2 å…¨å®¶æ¡¶(é‡ç‚¹)</h3><h4 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a><a href="https://yuchengkai.cn/docs/frontend/framework.html#%E6%95%B0%E6%8D%AE%E5%8A%AB%E6%8C%81" target="_blank" rel="noopener">åŸç†</a></h4><ul><li><p>éå† <code>data</code> å¯¹è±¡ï¼Œé€šè¿‡ <code>Object.defineProperty</code> æ·»åŠ  <code>getter</code> å’Œ <code>setter</code> æ–¹æ³•ã€‚</p><ul><li>å¹¶ <code>å‘å¸ƒè®¢é˜…å’Œé€šçŸ¥</code></li><li><code>getter</code>: æ·»åŠ è®¢é˜… <code>addSub</code></li><li><code>setter</code>: è§¦å‘é€šçŸ¥ <code>notify</code></li></ul></li><li><p>å®ä¾‹åŒ–è®¢é˜… <code>Watcher</code>ï¼Œå®ä¾‹åŒ–æ—¶è§¦å‘ <code>getter</code> è®¢é˜…ã€‚</p></li><li><p>ä¿®æ”¹è§¦å‘ <code>setter</code> æ—¶ï¼Œé€šçŸ¥ <code>DOM</code> ä¿®æ”¹æ¨¡æ¿</p></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// getter ä¸ setter</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">observe</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!data || <span class="keyword">typeof</span> data !== <span class="string">'object'</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">Object</span>.keys(data).forEach(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">    defineReactive(data, key, data[key])</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">defineReactive</span> (<span class="params">obj, key, value</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// é€’å½’å­å±æ€§</span></span><br><span class="line">  observe(value)</span><br><span class="line">  <span class="keyword">let</span> dp = <span class="keyword">new</span> Dep()</span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(obj, key, &#123;</span><br><span class="line">    enumerable: <span class="literal">true</span>,</span><br><span class="line">    configurable: <span class="literal">true</span>,</span><br><span class="line">    <span class="keyword">get</span>: function reactiveGetter () &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'get: '</span>, value)</span><br><span class="line">      <span class="comment">// æ·»åŠ è®¢é˜…: Dep.targetçš„thisæŒ‡å‘çš„æ˜¯dpå®ä¾‹</span></span><br><span class="line">      <span class="keyword">if</span> (Dep.target) &#123;</span><br><span class="line">        dp.addSub(Dep.target)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> value</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span>: function reactiveSetter (newValue) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'set: '</span>, newValue)</span><br><span class="line">      value = newValue</span><br><span class="line">      <span class="comment">// æ‰§è¡Œé€šçŸ¥</span></span><br><span class="line">      dp.notify()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dep</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span> () &#123;</span><br><span class="line">    <span class="keyword">this</span>.subs = []</span><br><span class="line">  &#125;</span><br><span class="line">  addSub (sub) &#123;</span><br><span class="line">    <span class="keyword">this</span>.subs.push(sub)</span><br><span class="line">  &#125;</span><br><span class="line">  notify () &#123;</span><br><span class="line">    <span class="keyword">this</span>.subs.forEach(<span class="function"><span class="params">sub</span> =&gt;</span> &#123;</span><br><span class="line">      sub.update()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">Dep.target = <span class="literal">null</span> <span class="comment">// å…¨å±€å±æ€§</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">updateDiv</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'div'</span>).innerText = value</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Watcher</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span> (obj, key, cb) &#123;</span><br><span class="line">    <span class="comment">// æ‰‹åŠ¨è§¦å‘getterï¼Œæ·»åŠ ã€Œè®¢é˜…ã€</span></span><br><span class="line">    Dep.target = <span class="keyword">this</span></span><br><span class="line">    <span class="keyword">this</span>.obj = obj</span><br><span class="line">    <span class="keyword">this</span>.key = key</span><br><span class="line">    <span class="keyword">this</span>.value = obj[key]</span><br><span class="line">    <span class="keyword">this</span>.cb = cb</span><br><span class="line">    Dep.target = <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line">  update () &#123;</span><br><span class="line">    <span class="comment">// è·å–æ–°å€¼</span></span><br><span class="line">    <span class="keyword">this</span>.value = <span class="keyword">this</span>.obj[<span class="keyword">this</span>.key]</span><br><span class="line">    <span class="comment">// æ›´æ–°DOM</span></span><br><span class="line">    <span class="keyword">this</span>.cb(<span class="keyword">this</span>.value)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ---------------------------- è°ƒ ç”¨ ----------------------------</span></span><br><span class="line"><span class="keyword">let</span> data = &#123; <span class="attr">name</span>: <span class="string">'yy'</span> &#125;</span><br><span class="line">observe(data)</span><br><span class="line"><span class="comment">// æ¨¡æ‹Ÿè§£æåˆ° `&#123;&#123;name&#125;&#125;` è§¦å‘çš„æ“ä½œ; æ‰‹åŠ¨è§¦å‘ã€Œè®¢é˜…ã€</span></span><br><span class="line"><span class="keyword">new</span> Watcher(data, <span class="string">'name'</span>, updateDiv)</span><br><span class="line"><span class="comment">// æ›´æ–°DOM</span></span><br><span class="line">data.name = <span class="string">'zz'</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="new-Vue-è¿‡ç¨‹"><a href="#new-Vue-è¿‡ç¨‹" class="headerlink" title="new Vue è¿‡ç¨‹"></a><a href="https://www.cnblogs.com/gerry2019/p/12001661.html" target="_blank" rel="noopener">new Vue è¿‡ç¨‹</a></h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Vue.prototype._init = <span class="function"><span class="keyword">function</span>(<span class="params">options</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// mergeOptions å®ä¾‹åŒ–å±æ€§åˆå¹¶ï¼ŒåŒ…å«extends/mixinså±æ€§</span></span><br><span class="line">  initLifecycle(vm) <span class="comment">// åˆå§‹åŒ–ç»„ä»¶ç”Ÿå‘½å‘¨æœŸæ ‡å¿—ç¬¦</span></span><br><span class="line">  initEvents(vm) <span class="comment">// åˆå§‹åŒ–ç»„ä»¶äº‹ä»¶ç³»ç»Ÿ</span></span><br><span class="line">  initRender(vm) <span class="comment">// åˆå§‹åŒ–ç»„ä»¶renderç›¸å…³å±æ€§æ–¹æ³•($createElement, $attrs, $listeners)</span></span><br><span class="line">  callHook(vm, <span class="string">'beforeCreate'</span>) <span class="comment">// æ‹¿ä¸åˆ° props data, è°ƒç”¨beforeCreate</span></span><br><span class="line">  initInjections(vm) <span class="comment">// åˆå§‹åŒ–ç»„ä»¶ä¾èµ–æ³¨å…¥å†…å®¹</span></span><br><span class="line">  initState(vm) <span class="comment">// åˆå§‹åŒ–state(data, props, methods, watch, computed)</span></span><br><span class="line">  initProvide(vm)</span><br><span class="line">  callHook(vm, <span class="string">'created'</span>) <span class="comment">//è°ƒç”¨created</span></span><br><span class="line">  <span class="comment">// æŒ‚è½½templateæ¨¡æ¿</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Vue-è™šæ‹ŸDOM"><a href="#Vue-è™šæ‹ŸDOM" class="headerlink" title="Vue è™šæ‹ŸDOM"></a><a href="https://yuchengkai.cn/docs/frontend/framework.html#virtual-dom" target="_blank" rel="noopener">Vue è™šæ‹ŸDOM</a></h4><p>æ“ä½œ <code>DOM</code> è€—è´¹æ€§èƒ½å¤ªå¤§ï¼Œæ”¹ç”¨è™šæ‹Ÿ <code>DOM</code></p><ol><li>js åˆ›å»ºè™šæ‹Ÿ <code>domå¯¹è±¡</code></li><li>åˆ¤æ–­å·®å¼‚ <code>diff</code> ç®—æ³•<ol><li>æ ‘çš„é€’å½’ï¼Œå¹¿åº¦ä¼˜å…ˆ</li><li>åˆ¤æ–­åˆ—è¡¨å·®å¼‚<ol><li>åˆ¤æ–­å±æ€§çš„æ›´æ”¹</li><li>éå†å­å…ƒç´ æ‰“æ ‡è¯†</li></ol></li></ol></li><li>æ¸²æŸ“å·®å¼‚</li></ol><h4 id="vue-åŸºç¡€"><a href="#vue-åŸºç¡€" class="headerlink" title="vue åŸºç¡€"></a>vue åŸºç¡€</h4><h5 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h5><ul><li>beforeCreate: <code>vue</code> å®ä¾‹çš„æŒ‚è½½å…ƒç´  <code>$el</code> å’Œæ•°æ®å¯¹è±¡ <code>data</code> éƒ½æ˜¯ <code>undefined</code>ï¼Œè¿˜æœªåˆå§‹åŒ–</li><li>created: å®Œæˆäº† <code>data</code> çš„åˆå§‹åŒ–ï¼Œ<code>$el</code> è¿˜æœªåˆå§‹åŒ–</li><li>beforeMount: <code>vue</code> å®ä¾‹çš„ <code>$el</code> å’Œ <code>data</code> éƒ½åˆå§‹åŒ–äº†ï¼Œç›¸å…³çš„ <code>render</code> å‡½æ•°é¦–æ¬¡è¢«è°ƒç”¨ã€‚å®ä¾‹å·²å®Œæˆä»¥ä¸‹é…ç½®ï¼šç¼–è¯‘æ¨¡æ¿ï¼ŒæŠŠ <code>data</code> é‡Œçš„æ•°æ®å’Œæ¨¡æ¿ç”Ÿæˆ <code>html</code>ã€‚ æ³¨æ„æ­¤æ—¶ <code>html</code> è¿˜æ²¡æœ‰æŒ‚è½½åˆ°é¡µé¢ä¸Š</li><li>mounted: åœ¨ <code>el</code> è¢«æ–°åˆ›å»ºå‡ºæ¥çš„ <code>vm.$el</code> æ›¿æ¢ï¼Œå¹¶æŒ‚è½½åˆ°å®ä¾‹ä¸Šå»ä¹‹åè°ƒç”¨ã€‚å®ä¾‹å·²å®Œæˆä»¥ä¸‹é…ç½®ï¼šç”¨ç¼–è¯‘å¥½çš„ <code>html</code> å†…å®¹æ›¿æ¢ <code>el</code> å±æ€§æŒ‡å‘çš„ <code>DOMå¯¹è±¡</code>ã€‚å®Œæˆæ¨¡æ¿ä¸­çš„ <code>html</code> æ¸²æŸ“åˆ° <code>html</code> é¡µé¢ä¸­ï¼Œæ­¤è¿‡ç¨‹ä¸­è¿›è¡Œ <code>ajax</code> äº¤äº’</li><li>beforeUpdate: åœ¨æ•°æ®æ›´æ–°ä¹‹å‰è°ƒç”¨ï¼Œå‘ç”Ÿåœ¨è™šæ‹Ÿ <code>DOM</code> é‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ä¹‹å‰è°ƒç”¨ã€‚å¯ä»¥åœ¨è¯¥é’©å­ä¸­è¿›ä¸€æ­¥åœ°æ›´æ”¹çŠ¶æ€ï¼Œä¸ä¼šè§¦å‘é™„åŠ çš„æ¸²æŸ“çŠ¶æ€</li><li>updated: åœ¨ç”±äºæ•°æ®æ›´æ”¹å¯¼è‡´çš„è™šæ‹Ÿ <code>DOM</code> é‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ä¹‹åè°ƒç”¨ã€‚è°ƒç”¨æ—¶ï¼Œç»„ä»¶ <code>DOM</code> å·²ç»æ›´æ–°ï¼Œæ‰€ä»¥å¯ä»¥ä¾èµ–ä¸ <code>DOM</code> çš„æ“ä½œã€‚ç„¶è€Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹åº”é¿å…åœ¨æ­¤æœŸé—´æ›´æ”¹çŠ¶æ€ï¼Œå› ä¸ºè¿™å¯èƒ½ä¼šå¯¼è‡´æ— é™å¾ªç¯ï¼Œè¯¥é’©å­åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æœŸé—´ä¸å¯ç”¨</li><li>activated: <code>keep-alive</code> æ¿€æ´»æ—¶è§¦å‘</li><li>deactivated: <code>keep-alive</code> ç¼“å­˜æ—¶è§¦å‘</li><li>beforeDestroy: åœ¨å®ä¾‹é”€æ¯ä¹‹å‰ï¼Œå®ä¾‹ä»å®Œå…¨å¯ç”¨</li><li>destroyed: åœ¨å®ä¾‹é”€æ¯ä¹‹åè°ƒç”¨ã€‚è°ƒç”¨åï¼Œæ‰€æœ‰çš„äº‹ä»¶ç›‘å¬å™¨ä¼šè¢«ç§»é™¤ï¼Œæ‰€æœ‰çš„å­å®ä¾‹ä¹Ÿä¼šè¢«é”€æ¯ã€‚è¯¥é’©å­å‡½æ•°åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æœŸé—´è¢«è°ƒç”¨</li></ul><h5 id="çˆ¶å­ç»„ä»¶æ¸²æŸ“é¡ºåº"><a href="#çˆ¶å­ç»„ä»¶æ¸²æŸ“é¡ºåº" class="headerlink" title="çˆ¶å­ç»„ä»¶æ¸²æŸ“é¡ºåº"></a>çˆ¶å­ç»„ä»¶æ¸²æŸ“é¡ºåº</h5><ul><li><p><strong>å…ˆçˆ¶åå­</strong>çš„åŸåˆ™</p></li><li><p>å¤šä¸ªå­ç»„ä»¶ <strong>å•çº¿ç¨‹</strong> æ¸²æŸ“</p></li><li><p>åœºæ™¯ï¼šçˆ¶ç»„ä»¶Aï¼Œå­ç»„ä»¶Bã€C</p></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿›å…¥é¡µé¢</span></span><br><span class="line">A.beforeCreate</span><br><span class="line">A.Created</span><br><span class="line">A.beforeMount</span><br><span class="line"></span><br><span class="line">B.beforeCreate</span><br><span class="line">B.Created</span><br><span class="line">B.beforeMount</span><br><span class="line"></span><br><span class="line">C.beforeCreate</span><br><span class="line">C.Created</span><br><span class="line">C.beforeMount</span><br><span class="line"></span><br><span class="line">B.Mounted</span><br><span class="line">C.Mounted</span><br><span class="line">A.Mounted</span><br></pre></td></tr></table></figure></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¦»å¼€é¡µé¢</span></span><br><span class="line">A.beforeDestroy</span><br><span class="line"></span><br><span class="line">B.beforeDestroy</span><br><span class="line">B.destroyed</span><br><span class="line"></span><br><span class="line">C.beforeDestroy</span><br><span class="line">C.destroyed</span><br><span class="line"></span><br><span class="line">A.destroyed</span><br></pre></td></tr></table></figure></li></ul><h5 id="åŒå‘ç»‘å®š"><a href="#åŒå‘ç»‘å®š" class="headerlink" title="åŒå‘ç»‘å®š"></a>åŒå‘ç»‘å®š</h5><ul><li>å“åº”åŒ–ï¼š<code>Vue.observable(object)</code></li><li>å¯¹è±¡å’Œæ•°ç»„è¦åˆå§‹åŒ–</li><li>å•ç‹¬å“åº”åŒ–<ul><li>å¯¹è±¡<ul><li><code>Vue.$set(object, key, value)</code> or <code>vm.$set(object, key, value)</code> or <code>this.$set(object, key, value)</code></li><li><code>Object.assign({}, object, {a: 1, b:2})</code></li></ul></li><li>æ•°ç»„<ul><li>ä¸èƒ½å“åº”ï¼šç”¨ä¸‹æ ‡ä¿®æ”¹æ•°ç»„å€¼å’Œä¿®æ”¹æ•°ç»„é•¿åº¦</li><li>ä¿®æ”¹å€¼ï¼š<ul><li><code>this.$set(array, index, value)</code></li><li><code>array.splice(index, 1, value)</code></li></ul></li><li>ä¿®æ”¹é•¿åº¦ï¼š<ul><li>array.splice(newIndex)</li></ul></li></ul></li></ul></li></ul><h5 id="ä¼ å€¼-6ç§"><a href="#ä¼ å€¼-6ç§" class="headerlink" title="ä¼ å€¼(6ç§)"></a>ä¼ å€¼(6ç§)</h5><ul><li><p><code>props</code>ã€<code>$emit</code></p></li><li><p>ä¸­å¤®äº‹ä»¶æ€»çº¿ <code>vue bus</code></p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// xxx.js</span></span><br><span class="line"><span class="keyword">let</span> eventBus = <span class="keyword">new</span> Vue()</span><br><span class="line"><span class="keyword">export</span> eventBus</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»º</span></span><br><span class="line"><span class="keyword">import</span> eventBus <span class="keyword">from</span> <span class="string">'../xxx.js'</span></span><br><span class="line">eventBus.$emit(<span class="string">'name'</span>, params)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬</span></span><br><span class="line">mounted () &#123;</span><br><span class="line">  eventBus.$on(<span class="string">'name'</span>, fn)</span><br><span class="line">&#125;,</span><br><span class="line">beforeDestroy () &#123;</span><br><span class="line">  eventBus.$off(<span class="string">'name'</span>)</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">  fn (params) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'params'</span>, params)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p><code>provide</code>ã€<code>inject</code></p><ul><li><p>å¤šå±‚çˆ¶å­ç»„ä»¶ï¼Œä¼ å˜é‡(å‡½æ•°)ï¼Œéå“åº”å¼</p></li><li><p>è‹¥è¦å˜ä¸ºå“åº”å¼ï¼Œä¸¤ç§æ–¹æ³•</p><ul><li><p>ä¼ é€’çˆ¶ç»„ä»¶å®ä¾‹è¿‡å»ï¼Œå³ä¼ é€’ <code>this</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">provide () &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    xxx: <span class="keyword">this</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">inject: [<span class="string">'xxx'</span>]</span><br><span class="line">inject: &#123;</span><br><span class="line">  <span class="string">'xxx'</span>: <span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>é€šè¿‡ <code>Vue.observable()</code> ä¼ é€’å“åº”å¼å˜é‡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">provide () &#123;</span><br><span class="line">  <span class="keyword">this</span>.theme = Vue.observable(&#123;</span><br><span class="line">    color: <span class="string">'red'</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    theme: <span class="keyword">this</span>.theme</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul></li><li><p><code>vuex</code></p></li><li><p><code>$parent</code>ã€<code>$children</code>ã€<code>$ref</code></p><ul><li><code>$parent</code>: çˆ¶ç»„ä»¶å®ä¾‹</li><li><code>$children</code>: å­ç»„ä»¶å®ä¾‹ï¼Œä¸ä¿è¯é¡ºåº</li><li><code>$ref</code>:<ul><li>å½“å‰ç»„ä»¶ï¼š<code>DOM</code> å…ƒç´ </li><li>å­ç»„ä»¶ï¼šå­ç»„ä»¶å®ä¾‹</li></ul></li></ul></li><li><p><code>$attrs</code>ã€<code>$listeners</code></p><ul><li><p><code>$attrs</code>: å­ç»„ä»¶å†…ä½¿ç”¨ï¼ŒåŒ…å«æ‰€æœ‰ <strong>çˆ¶ç»„ä»¶ä¼ é€’äº†ä½†å­ç»„ä»¶ props é‡Œæœªå®šä¹‰</strong> çš„å€¼ï¼Œå¯¹è±¡ç»“æ„ï¼Œå€¼ä¸º {key1: value1, key2: value2}</p></li><li><p><code>$listeners</code>: å­ç»„ä»¶å†…ä½¿ç”¨ï¼ŒåŒ…å«æ‰€æœ‰ <strong>çˆ¶ç»„ä»¶çš„é.native</strong> æ–¹æ³•ã€‚</p></li><li><p>é€šè¿‡ä¸‹é¢çš„æ“ä½œï¼Œå¯ä»¥åœ¨å¤šå±‚çˆ¶å­ç»„ä»¶ä¼ é€’</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v-bind=<span class="string">"$attrs"</span></span><br></pre></td></tr></table></figure></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v-on=<span class="string">"$listeners"</span></span><br></pre></td></tr></table></figure></li></ul></li></ul></li></ul><h5 id="v-onäº‹ä»¶ä¿®é¥°ç¬¦"><a href="#v-onäº‹ä»¶ä¿®é¥°ç¬¦" class="headerlink" title="v-onäº‹ä»¶ä¿®é¥°ç¬¦"></a>v-onäº‹ä»¶ä¿®é¥°ç¬¦</h5><ul><li><a href="https://cn.vuejs.org/v2/api/#vm-listeners" target="_blank" rel="noopener">https://cn.vuejs.org/v2/api/#vm-listeners</a></li><li><code>.stop</code>: é˜»æ­¢å†’æ³¡ <code>&lt;button @click.stop=&quot;xxx&quot;&gt;&lt;/button&gt;</code></li><li><code>.prevent</code>: é˜»æ­¢é»˜è®¤è¡Œä¸º</li><li><code>.capture</code>: æ·»åŠ äº‹ä»¶ç›‘å¬å™¨æ—¶ä½¿ç”¨ <code>capture</code> æ¨¡å¼(æ•è·)</li><li><code>.self</code>: åªå½“äº‹ä»¶æ˜¯ä»ç›‘å¬å™¨ç»‘å®šçš„å…ƒç´ æœ¬èº«è§¦å‘æ—¶æ‰è§¦å‘å›è°ƒ</li><li><code>.native</code>: ç›‘å¬ç»„ä»¶æ ¹å…ƒç´ çš„åŸç”Ÿäº‹ä»¶</li></ul><h5 id="propå•å‘æ•°æ®æµä¼ é€’"><a href="#propå•å‘æ•°æ®æµä¼ é€’" class="headerlink" title="propå•å‘æ•°æ®æµä¼ é€’"></a>propå•å‘æ•°æ®æµä¼ é€’</h5><ul><li>å­ç»„ä»¶çš„propè°ƒç”¨çš„çˆ¶ç»„ä»¶æ•°æ®ï¼Œå½“å­ç»„ä»¶ä¿®æ”¹æ—¶ä¸æƒ³ä¿®æ”¹çˆ¶ç»„ä»¶</li><li>æ–¹æ³•ä¸€ï¼š<ul><li>propä½œä¸º <code>data</code> åˆå§‹å€¼ï¼Œä¹‹åä½¿ç”¨ <code>data</code> çš„æ–°å€¼</li></ul></li><li>æ–¹æ³•äºŒï¼š<ul><li>ä½¿ç”¨è®¡ç®—å±æ€§è½¬æ¢</li></ul></li><li><strong>æ³¨æ„</strong>ï¼š æ•°ç»„å’Œå¯¹è±¡æ˜¯ä»¥å¼•ç”¨çš„æ–¹å¼ä¼ é€’çš„ï¼Œæ‰€ä»¥ä¿®æ”¹å­ç»„ä»¶çš„å€¼æ—¶ï¼Œä¹Ÿä¼šä¿®æ”¹çˆ¶ç»„ä»¶çš„å€¼ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œéœ€ä½¿ç”¨ <code>æ·±æ‹·è´</code> ç”Ÿæˆæ–°å€¼ï¼Œç„¶åå¯¹æ–°å€¼ä¿®æ”¹ã€‚</li></ul><h5 id="computedå†™æ³•"><a href="#computedå†™æ³•" class="headerlink" title="computedå†™æ³•"></a>computedå†™æ³•</h5><ul><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">aa () &#123;</span><br><span class="line">return this.xxx + &apos;11&apos;</span><br><span class="line">&#125;,</span><br><span class="line">bb () &#123;</span><br><span class="line">get: function () &#123;</span><br><span class="line">return this.bb + &apos;22&apos;</span><br><span class="line">&#125;,</span><br><span class="line">set: function (value) &#123;</span><br><span class="line">this.bb = value + &apos;xx&apos;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h5 id="watchå†™æ³•"><a href="#watchå†™æ³•" class="headerlink" title="watchå†™æ³•"></a>watchå†™æ³•</h5><ul><li><p><code>aa () {}</code></p></li><li><p><code>aa.bb () {}</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">  cc: &#123;</span><br><span class="line">handler: &apos;methods&apos;,</span><br><span class="line">deep: true,</span><br><span class="line">immediate: true</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h5 id="computedï¼Œwatchï¼ŒmethodsåŒºåˆ«"><a href="#computedï¼Œwatchï¼ŒmethodsåŒºåˆ«" class="headerlink" title="computedï¼Œwatchï¼ŒmethodsåŒºåˆ«"></a>computedï¼Œwatchï¼ŒmethodsåŒºåˆ«</h5><ul><li>watchï¼šç›‘å¬å›è°ƒï¼Œå½“ä¾èµ–çš„å€¼æœ‰æ”¹å˜æ—¶ï¼Œè§¦å‘å›è°ƒæ‰§è¡Œä¸€äº›é€»è¾‘</li><li>computedï¼šè®¡ç®—å±æ€§ï¼Œæ ¹æ®ä¾èµ–çš„å€¼åŠ¨æ€æ˜¾ç¤ºæœ€æ–°çš„ç»“æœï¼Œä¼šç¼“å­˜(<code>getter</code>å)ã€‚èƒ½ç›‘å¬åˆ°objæ·±å±‚key</li><li>methodsï¼šæ–¹æ³•ï¼Œæ‰§è¡Œå‡½æ•°</li><li>methodså’Œcomputedï¼šmethodsæ¯æ¬¡æ¸²æŸ“æ—¶éƒ½ä¼šè®¡ç®—ï¼Œè€Œcomputedä¼šä»ç¼“å­˜å–å€¼</li></ul><h5 id="mixin"><a href="#mixin" class="headerlink" title="mixin"></a>mixin</h5><ul><li><p>æ··å…¥æ–‡ä»¶å†™æ³•å’Œå•é¡µé¢æ–‡ä»¶ä¸€æ ·</p></li><li><p>è°ƒç”¨æ··å…¥ä»¥æ•°ç»„æ–¹å¼å¼•å…¥ <code>mixins: [myMixin]</code></p></li><li><p><strong>åˆå¹¶è§„åˆ™</strong></p><ul><li>data: é€’å½’åˆå¹¶ï¼ŒåŒåæ—¶ä»¥ <code>ç»„ä»¶</code> ä¼˜å…ˆ</li><li>é’©å­å‡½æ•°ï¼šéƒ½ä¼šè°ƒç”¨ï¼Œ<code>æ··å…¥æ–‡ä»¶</code> ä¼˜å…ˆè°ƒç”¨</li><li>å…¶ä»–å¯¹è±¡(<code>methods</code>, <code>components</code>, <code>directives</code>): åˆå¹¶ä¸ºä¸€ä¸ªå¯¹è±¡ï¼ŒåŒåæ—¶ä»¥ <code>ç»„ä»¶</code> ä¸ºå‡†</li></ul></li><li><p>å…¨å±€æ··å…¥</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Vue.mixin(&#123;</span><br><span class="line">created: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> myOption = <span class="keyword">this</span>.$options.myOption</span><br><span class="line">    <span class="keyword">if</span> (myOption) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(myOption)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul></li></ul><h5 id="keep-alive"><a href="#keep-alive" class="headerlink" title="keep-alive"></a>keep-alive</h5><ul><li><p>ç¼“å­˜æœªæ¿€æ´»çš„ç»„ä»¶</p><ul><li><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">keep-alive</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">"view"</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>include: å­—ç¬¦ä¸²æˆ–æ­£åˆ™ï¼ŒåŒ¹é…çš„æ‰ä¼šç¼“å­˜</p></li><li><p>exclude: å­—ç¬¦ä¸²æˆ–æ­£åˆ™ï¼ŒåŒ¹é…çš„éƒ½ä¸ä¼šç¼“å­˜</p></li><li><p>max: æ•°å­—ï¼Œæœ€å¤šç¼“å­˜å¤šå°‘å®ä¾‹</p></li></ul><h5 id="slot"><a href="#slot" class="headerlink" title="slot"></a>slot</h5><ul><li><p>å®šä¹‰æ’æ§½ï¼š <code>&lt;slot name=&quot;xxx&quot;&gt;&lt;/slot&gt;</code></p></li><li><p>ä½¿ç”¨æ’æ§½ï¼š<code>&lt;template v-slot:&quot;xxx&quot;&gt;&lt;/template&gt;</code>, <code>v-slot</code> å¯ä»¥ç¼©å†™ä¸º <code>#</code></p></li><li><p>å½“æ’æ§½æ‰€åœ¨çš„çˆ¶ä½œç”¨åŸŸ è¦ ä½¿ç”¨å­ä½œç”¨åŸŸæ—¶ï¼Œå¯ä»¥æŠŠå­ä½œç”¨åŸŸä½œä¸ºå˜é‡ä¼ é€’ç»™çˆ¶</p><ul><li><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å­ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">slot</span> <span class="attr">v-bind:user</span>=<span class="string">"user"</span>&gt;</span></span><br><span class="line">  &#123;&#123;user.firstName&#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"other"</span> <span class="attr">v-bind:dou</span>=<span class="string">"dou"</span> <span class="attr">v-bind:ruai</span>=<span class="string">"ruai"</span> <span class="attr">v-bind:mi</span>=<span class="string">"mi"</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- çˆ¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">current-user</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:default</span>=<span class="string">"&#123; user &#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:other</span>=<span class="string">"&#123; dou, ruai, mi &#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">current-user</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p><code>v-slot:aa</code>ã€<code>#aa</code> : ä½¿ç”¨æ’æ§½</p></li><li><p><code>v-slot:bb={}</code>: ä½¿ç”¨æ’æ§½ä¼ å€¼</p></li><li><p><code>v-slot={}</code>: ä½¿ç”¨æ’æ§½ä¼ å€¼ï¼Œé»˜è®¤åï¼Œç­‰æ•ˆäº <code>v-slot:default={}</code></p></li></ul></li></ul><h5 id="è¿‡åº¦ã€åŠ¨ç”»æ•ˆæœ"><a href="#è¿‡åº¦ã€åŠ¨ç”»æ•ˆæœ" class="headerlink" title="è¿‡åº¦ã€åŠ¨ç”»æ•ˆæœ"></a>è¿‡åº¦ã€åŠ¨ç”»æ•ˆæœ</h5><ul><li>è§¦å‘æ—¶æœº<ul><li><code>v-if</code>ã€<code>v-show</code>ã€<code>åŠ¨æ€ç»„ä»¶</code>ã€<code>ç»„ä»¶æ ¹èŠ‚ç‚¹</code></li></ul></li><li>å•ç»„ä»¶è§¦å‘<ul><li><code>&lt;transition name=&quot;t&quot;&gt;&lt;/transition&gt;</code></li><li>ä½¿ç”¨ <code>t-xx</code> å®šä¹‰çŠ¶æ€æ ·å¼ï¼Œå¦‚æœªå®šä¹‰ <code>name</code>ï¼Œ é»˜è®¤ä¸º <code>v-xx</code></li><li><code>x-enter</code>ã€<code>x-enter-active</code>ã€<code>x-enter-to</code>ã€<code>x-leave</code>ã€<code>x-leave-active</code>ã€<code>x-leave-to</code>ï¼Œä¸€èˆ¬ä½¿ç”¨ <code>x-enter</code>ã€<code>x-enter-active</code>ã€<code>x-leave-active</code>ã€<code>x-leave-to</code> 4ä¸ªçŠ¶æ€<ul><li><code>x-enter-active</code>ã€<code>x-leave-active</code>: æ¿€æ´»æ—¶çŠ¶æ€(ç¨³å®š)</li></ul></li></ul></li><li>å¤šç»„ä»¶ <code>li</code> è§¦å‘<ul><li><code>&lt;transition-group name=&quot;x&quot;&gt;&lt;/transition-group&gt;</code></li><li>æ ·å¼å®šä¹‰åŒä¸Š</li><li><code>x-move</code>ï¼šä½ç½®ç§»åŠ¨æ—¶å¹³æ»‘ç§»åŠ¨ <code>transition: transform 1s</code></li></ul></li></ul><h5 id="å¸¸ç”¨API"><a href="#å¸¸ç”¨API" class="headerlink" title="å¸¸ç”¨API"></a>å¸¸ç”¨API</h5><h5 id="æŒ‡ä»¤"><a href="#æŒ‡ä»¤" class="headerlink" title="æŒ‡ä»¤"></a>æŒ‡ä»¤</h5><ul><li><p><code>Vue.directive(&#39;name&#39;, { ... })</code>ï¼Œ<code>&lt;button v-name=&quot;xxx&quot;&gt;&lt;/button&gt;</code>ï¼Œ<a href="https://cn.vuejs.org/v2/guide/custom-directive.html" target="_blank" rel="noopener">å®˜ç½‘</a></p></li><li><p>é’©å­å‡½æ•°ï¼š</p><ul><li>bind: åªè°ƒç”¨ä¸€æ¬¡ï¼Œç¬¬ä¸€æ¬¡ç»‘å®šåˆ°å…ƒç´ æ—¶è°ƒç”¨ã€‚</li><li>inserted: è¢«ç»‘å®šå…ƒç´ æ’å…¥åˆ°çˆ¶èŠ‚ç‚¹æ—¶è°ƒç”¨ã€‚</li><li>update: ç»„ä»¶æ‰€åœ¨ <code>VNode</code> æ›´æ–°æ—¶è°ƒç”¨ã€‚</li><li>componentUpdated: ç»„ä»¶æ‰€åœ¨ <code>VNode</code> åŠå…¶å­ <code>VNode</code> å…¨éƒ¨æ›´æ–°åè°ƒç”¨ã€‚</li><li>unbind: åªè°ƒç”¨ä¸€æ¬¡ï¼Œè§£ç»‘æ—¶è°ƒç”¨ã€‚</li></ul></li><li><p>é’©å­å‡½æ•°å‚æ•°ï¼šæ‰€æœ‰é’©å­å‚æ•°ä¸€æ ·ï¼Œé™¤äº† <code>el</code> å…¶ä»–å‚æ•°éƒ½åªè¯»</p><ul><li>el: ç»‘å®šå…ƒç´ DOMï¼Œå¯ç›´æ¥æ“ä½œ</li><li>binding: ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«ä¸‹é¢å€¼<ul><li>name: æŒ‡ä»¤åï¼Œä¸åŒ…å« <code>v-</code> å‰ç¼€</li><li>value: æŒ‡ä»¤çš„ç»‘å®šå€¼ã€‚<code>v-dire=&quot;1 + 1&quot;</code> ä¸­ï¼Œç»‘å®šå€¼ä¸º <code>2</code></li><li>oldValue: æŒ‡ä»¤ç»‘å®šçš„å‰ä¸€ä¸ªå€¼ï¼Œä»…åœ¨ <code>update</code> å’Œ <code>componentUpdated</code> é’©å­ä¸­å¯ç”¨</li><li>expression: å­—ç¬¦ä¸²å½¢å¼çš„è¡¨è¾¾å¼ã€‚<code>v-dire=&quot;1 + 1&quot;</code> ä¸­ï¼Œè¡¨è¾¾å¼ä¸º <code>1 + 1</code></li><li>arg: ä¼ ç»™æŒ‡ä»¤çš„å‚æ•°ï¼Œå¯é€‰ã€‚<code>v-dire:foo</code> ä¸­ï¼Œå‚æ•°ä¸º <code>foo</code></li><li>modifiers: ä¸€ä¸ªåŒ…å«ä¿®é¥°ç¬¦çš„å¯¹è±¡ã€‚<code>v-dire.foo.bar</code> ä¸­ï¼Œä¿®é¥°ç¬¦å¯¹è±¡ä¸º <code>{ foo: true, bar: true }</code></li></ul></li><li>vnode: è™šæ‹ŸèŠ‚ç‚¹</li><li>oldVnode: ä¸Šä¸€ä¸ªè™šæ‹ŸèŠ‚ç‚¹</li></ul></li><li><p>å®ä¾‹ <code>v-longpress</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// directive.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"></span><br><span class="line">Vue.directive(<span class="string">'longpress'</span><span class="string">', &#123;</span></span><br><span class="line"><span class="string">  bind: function (el, binding, vNode) &#123;</span></span><br><span class="line"><span class="string">    // ç¡®ä¿æä¾›çš„è¡¨è¾¾å¼æ˜¯å‡½æ•°</span></span><br><span class="line"><span class="string">    if (typeof binding.value !== '</span><span class="function"><span class="keyword">function</span>') </span>&#123;</span><br><span class="line">      <span class="comment">// è·å–ç»„ä»¶åç§°</span></span><br><span class="line">      <span class="keyword">const</span> compName = vNode.context.name</span><br><span class="line">      <span class="comment">// å°†è­¦å‘Šä¼ é€’ç»™æ§åˆ¶å°</span></span><br><span class="line">      <span class="keyword">let</span> warn = <span class="string">`[longpress:] provided expression '<span class="subst">$&#123;binding.expression&#125;</span>' is not a function, but has to be `</span></span><br><span class="line">      <span class="keyword">if</span> (compName) &#123; warn += <span class="string">`Found in component '<span class="subst">$&#123;compName&#125;</span>' `</span> &#125;</span><br><span class="line">      <span class="built_in">console</span>.warn(warn)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®šä¹‰å˜é‡</span></span><br><span class="line">    <span class="keyword">let</span> pressTimer = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®šä¹‰å‡½æ•°å¤„ç†ç¨‹åº</span></span><br><span class="line">    <span class="comment">// åˆ›å»ºè®¡æ—¶å™¨ï¼ˆ 2ç§’åæ‰§è¡Œå‡½æ•° ï¼‰</span></span><br><span class="line">    <span class="comment">// ä¸æ˜¯é¼ æ ‡å·¦é”®è¿”å›</span></span><br><span class="line">    <span class="keyword">let</span> start = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (e.type === <span class="string">'click'</span> &amp;&amp; e.button !== <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (pressTimer === <span class="literal">null</span>) &#123;</span><br><span class="line">        pressTimer = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="comment">// æ‰§è¡Œå‡½æ•°</span></span><br><span class="line">          handler()</span><br><span class="line">        &#125;, <span class="number">2000</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å–æ¶ˆè®¡æ—¶å™¨</span></span><br><span class="line">    <span class="keyword">let</span> cancel = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// æ£€æŸ¥è®¡æ—¶å™¨æ˜¯å¦æœ‰å€¼</span></span><br><span class="line">      <span class="keyword">if</span> (pressTimer !== <span class="literal">null</span>) &#123;</span><br><span class="line">        clearTimeout(pressTimer)</span><br><span class="line">        pressTimer = <span class="literal">null</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿è¡Œå‡½æ•°</span></span><br><span class="line">    <span class="keyword">const</span> handler = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// æ‰§è¡Œä¼ é€’ç»™æŒ‡ä»¤çš„æ–¹æ³•</span></span><br><span class="line">      binding.value(e)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ·»åŠ äº‹ä»¶ç›‘å¬å™¨</span></span><br><span class="line">    el.addEventListener(<span class="string">'mousedown'</span>, start)</span><br><span class="line">    el.addEventListener(<span class="string">'touchstart'</span>, start)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å–æ¶ˆè®¡æ—¶å™¨</span></span><br><span class="line">    el.addEventListener(<span class="string">'click'</span>, cancel)</span><br><span class="line">    el.addEventListener(<span class="string">'mouseout'</span>, cancel)</span><br><span class="line">    el.addEventListener(<span class="string">'touchend'</span>, cancel)</span><br><span class="line">    el.addEventListener(<span class="string">'touchcancel'</span>, cancel)</span><br><span class="line">  &#125;              </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul><h4 id="vue-cli"><a href="#vue-cli" class="headerlink" title="vue cli"></a>vue cli</h4><h4 id="vue-loader"><a href="#vue-loader" class="headerlink" title="vue loader"></a>vue loader</h4><h4 id="vue-router"><a href="#vue-router" class="headerlink" title="vue router"></a>vue router</h4><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 0. å¦‚æœä½¿ç”¨æ¨¡å—åŒ–æœºåˆ¶ç¼–ç¨‹ï¼Œå¯¼å…¥Vueå’ŒVueRouterï¼Œè¦è°ƒç”¨ Vue.use(VueRouter)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. å®šä¹‰ (è·¯ç”±) ç»„ä»¶ã€‚</span></span><br><span class="line"><span class="comment">// å¯ä»¥ä»å…¶ä»–æ–‡ä»¶ import è¿›æ¥</span></span><br><span class="line"><span class="keyword">const</span> Foo = &#123; <span class="attr">template</span>: <span class="string">'&lt;div&gt;foo&lt;/div&gt;'</span> &#125;</span><br><span class="line"><span class="keyword">const</span> Bar = &#123; <span class="attr">template</span>: <span class="string">'&lt;div&gt;bar&lt;/div&gt;'</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. å®šä¹‰è·¯ç”±</span></span><br><span class="line"><span class="comment">// æ¯ä¸ªè·¯ç”±åº”è¯¥æ˜ å°„ä¸€ä¸ªç»„ä»¶ã€‚ å…¶ä¸­"component" å¯ä»¥æ˜¯</span></span><br><span class="line"><span class="comment">// é€šè¿‡ Vue.extend() åˆ›å»ºçš„ç»„ä»¶æ„é€ å™¨ï¼Œ</span></span><br><span class="line"><span class="comment">// æˆ–è€…ï¼Œåªæ˜¯ä¸€ä¸ªç»„ä»¶é…ç½®å¯¹è±¡ã€‚</span></span><br><span class="line"><span class="comment">// æˆ‘ä»¬æ™šç‚¹å†è®¨è®ºåµŒå¥—è·¯ç”±ã€‚</span></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123; <span class="attr">path</span>: <span class="string">'/foo'</span>, <span class="attr">component</span>: Foo &#125;,</span><br><span class="line">  &#123; <span class="attr">path</span>: <span class="string">'/bar'</span>, <span class="attr">component</span>: Bar &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. åˆ›å»º router å®ä¾‹ï¼Œç„¶åä¼  `routes` é…ç½®</span></span><br><span class="line"><span class="comment">// ä½ è¿˜å¯ä»¥ä¼ åˆ«çš„é…ç½®å‚æ•°, ä¸è¿‡å…ˆè¿™ä¹ˆç®€å•ç€å§ã€‚</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  routes <span class="comment">// (ç¼©å†™) ç›¸å½“äº routes: routes</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. åˆ›å»ºå’ŒæŒ‚è½½æ ¹å®ä¾‹ã€‚</span></span><br><span class="line"><span class="comment">// è®°å¾—è¦é€šè¿‡ router é…ç½®å‚æ•°æ³¨å…¥è·¯ç”±ï¼Œ</span></span><br><span class="line"><span class="comment">// ä»è€Œè®©æ•´ä¸ªåº”ç”¨éƒ½æœ‰è·¯ç”±åŠŸèƒ½</span></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  router</span><br><span class="line">&#125;).$mount(<span class="string">'#app'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç°åœ¨ï¼Œåº”ç”¨å·²ç»å¯åŠ¨äº†ï¼</span></span><br></pre></td></tr></table></figure></li></ul><h5 id="hashã€historyæ¨¡å¼"><a href="#hashã€historyæ¨¡å¼" class="headerlink" title="hashã€historyæ¨¡å¼"></a>hashã€historyæ¨¡å¼</h5><ul><li>é»˜è®¤ <code>hash</code> æ¨¡å¼ï¼Œå³ <code>url</code> ä¸Šå¸¦ <code>#</code> çš„æ¨¡å¼ã€‚<code>hashchange</code> äº‹ä»¶</li><li><code>historyæ¨¡å¼</code>: <code>url</code> åƒæ­£å¸¸urlä¸€æ ·ï¼Œéœ€è¦åç«¯æ”¯æŒã€‚<code>popstate</code>ã€<code>pushstate</code> äº‹ä»¶</li></ul><h5 id="routerã€route"><a href="#routerã€route" class="headerlink" title="routerã€route"></a>routerã€route</h5><ul><li><code>router</code>: è·¯ç”±å®ä¾‹<ul><li><code>router.beforeEach</code>ã€<code>router.beforeResolve</code>ã€<code>router.afterEach</code>ã€<code>router.push</code>ã€<code>router.replace</code>ã€<code>router.go</code>ã€<code>router.back</code>ã€<code>router.forward</code>ç­‰</li></ul></li><li><code>this.$route</code>: å½“å‰è·¯ç”±å¯¹è±¡ï¼Œå½“å‰æ¿€æ´»çš„è·¯ç”±å¯¹è±¡ä¿¡æ¯<ul><li>path:</li><li>params:</li><li>query:</li><li>hash:</li><li>fullPath:</li><li>matched: ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å½“å‰è·¯ç”±çš„æ‰€æœ‰åµŒå¥—è·¯å¾„ç‰‡æ®µçš„<strong>è·¯ç”±è®°å½•</strong></li><li>name:</li><li>redirectedFrom: å¦‚æœå­˜åœ¨é‡å®šå‘ï¼Œå³ä¸ºé‡å®šå‘æ¥æºçš„è·¯ç”±çš„åå­—</li></ul></li></ul><h5 id="ä¼ å€¼"><a href="#ä¼ å€¼" class="headerlink" title="ä¼ å€¼"></a>ä¼ å€¼</h5><ul><li><code>params</code>:<ul><li>ä¸èƒ½å’Œ <code>path</code> ä¸€èµ·ä½¿ç”¨ï¼Œä¸€èµ·ä½¿ç”¨æ—¶ <code>params</code> ä¼šå¤±æ•ˆ</li><li>ä¼ é€’ï¼š<code>this.$router.push({name: &#39;xxx&#39;, params: {...}})</code></li><li>è·å–ï¼š<code>let a = this.$route.params</code></li></ul></li><li><code>query</code>:<ul><li>ä»»ä½•åœºåˆ</li><li>ä¼ é€’ï¼š<code>this.$router.push({path: &#39;/setup&#39;, query: {}})</code></li></ul></li></ul><h5 id="å¯¼èˆªå®ˆå«"><a href="#å¯¼èˆªå®ˆå«" class="headerlink" title="å¯¼èˆªå®ˆå«"></a>å¯¼èˆªå®ˆå«</h5><ul><li>ç»„ä»¶å†…çš„å®ˆå«<ul><li><code>beforeRouteLeave</code></li><li><code>beforeRouteUpdate</code></li><li><code>beforeRouteEnter</code></li></ul></li><li>å…¨å±€å¯¼èˆªå®ˆå«<ul><li><code>beforeEach</code></li><li><code>afterEach</code></li></ul></li><li>å…¨å±€è§£æå®ˆå«<ul><li><code>beforeResolve</code>ï¼šåœ¨å¯¼èˆªè¢«ç¡®è®¤ä¹‹å‰ï¼Œ<strong>åŒæ—¶åœ¨æ‰€æœ‰ç»„ä»¶å†…å®ˆå«å’Œå¼‚æ­¥è·¯ç”±ç»„ä»¶è¢«è§£æä¹‹å</strong>ï¼Œè§£æå®ˆå«å°±è¢«è°ƒç”¨ã€‚</li></ul></li><li>è·¯ç”±ç‹¬äº«çš„å®ˆå«<ul><li><code>beforeEnter</code></li></ul></li></ul><h5 id="è·¯ç”±å¯¼èˆªé¡ºåº"><a href="#è·¯ç”±å¯¼èˆªé¡ºåº" class="headerlink" title="è·¯ç”±å¯¼èˆªé¡ºåº"></a>è·¯ç”±å¯¼èˆªé¡ºåº</h5><ol><li>å¯¼èˆªè¢«è§¦å‘</li><li>åœ¨å¤±æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨ <code>beforeRouteLeave</code> å®ˆå«</li><li>è°ƒç”¨å…¨å±€çš„ <code>beforeEach</code> å®ˆå«</li><li>åœ¨é‡ç”¨çš„ç»„ä»¶å†…è°ƒç”¨ <code>beforeRouteUpdate</code> å®ˆå«</li><li>åœ¨è·¯ç”±é…ç½®é‡Œè°ƒç”¨ <code>beforeEnter</code> å®ˆå«</li><li>è§£æå¼‚æ­¥è·¯ç”±ç»„ä»¶</li><li>åœ¨è¢«æ¿€æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨ <code>beforeRouteEnter</code> å®ˆå«</li><li>è°ƒç”¨å…¨å±€çš„ <code>beforeResolve</code> å®ˆå«</li><li>å¯¼èˆªè¢«ç¡®è®¤</li><li>è°ƒç”¨å…¨å±€çš„ <code>afterEach</code> é’©å­</li><li>è§¦å‘ <code>DOM</code> æ›´æ–°</li><li>è°ƒç”¨ <code>beforeRouteEnter</code> å®ˆå«ä¸­ä¼ ç»™ <code>next</code> çš„å›è°ƒå‡½æ•°ï¼Œåˆ›å»ºå¥½çš„å®ä¾‹ä¼šä½œä¸ºå›è°ƒå‡½æ•°çš„å‚æ•°ä¼ å…¥</li></ol><h4 id="vuex"><a href="#vuex" class="headerlink" title="vuex"></a>vuex</h4><ul><li>ä¸“é—¨ä¸º <code>vue</code> è®¾è®¡çš„ <strong>çŠ¶æ€ç®¡ç†æ¨¡å¼</strong></li></ul><h5 id="State"><a href="#State" class="headerlink" title="State"></a>State</h5><ul><li><p>çŠ¶æ€ï¼š</p></li><li><p><code>store.state.xxx</code> æˆ– <code>this.$store.state.xxx</code></p></li><li><p><code>store.state.moduleName.xxx</code> æˆ– <code>this.$store.state.moduleName.xxx</code></p></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapState &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line">computed: &#123;</span><br><span class="line">  ...mapState(&#123;</span><br><span class="line">    count1: <span class="function"><span class="params">state</span> =&gt;</span> state.count1,</span><br><span class="line">    countAlias: <span class="string">'count'</span></span><br><span class="line">  &#125;),</span><br><span class="line">  <span class="comment">// æˆ–è€…</span></span><br><span class="line">  ...mapState([<span class="string">'count'</span>, <span class="string">'count1'</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h5 id="Getters"><a href="#Getters" class="headerlink" title="Getters"></a>Getters</h5><ul><li><p><code>state</code> çš„è®¡ç®—å±æ€§ï¼Œä½†å¦‚æœæœ‰å˜é‡ä¼ å…¥æ—¶ï¼Œåˆ™æ¯æ¬¡éƒ½ä¼šè®¡ç®—(ä¸ä¼šç¼“å­˜)</p></li><li><p><code>this.$store.getters.xxx</code> æˆ– <code>this.$store.getters.modulesName.xxx</code></p></li><li><p>é€šè¿‡å±æ€§è®¿é—®</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">getters: &#123;</span><br><span class="line">  doneTodosCount: <span class="function">(<span class="params">state, getters</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> getters.doneTodos.length</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>é€šè¿‡æ–¹æ³•è®¿é—®</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ¯æ¬¡è®¿é—®éƒ½ä¼šè°ƒç”¨ï¼Œè€Œä¸ä¼šç¼“å­˜ç»“æœ</span></span><br><span class="line">getters: &#123;</span><br><span class="line">  getTodoById: <span class="function">(<span class="params">state</span>) =&gt;</span> (id) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> state.todos.find(<span class="function"><span class="params">todo</span> =&gt;</span> todo.id === id)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>é€šè¿‡è¾…åŠ©å‡½æ•° <code>mapGetters</code> è®¿é—®</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapGetters &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line">computed: &#123;</span><br><span class="line">  ...mapGetters([</span><br><span class="line">    <span class="string">'doneTodosCount'</span>,</span><br><span class="line">    <span class="string">'otherGetters'</span></span><br><span class="line">  ]),</span><br><span class="line">  <span class="comment">// æˆ–è€…</span></span><br><span class="line">  ...mapGetters(&#123;</span><br><span class="line">    aliasName: <span class="string">'doneTodosCount'</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><h5 id="Mutations"><a href="#Mutations" class="headerlink" title="Mutations"></a>Mutations</h5><ul><li><p>ä¿®æ”¹ <code>state</code> çš„å”¯ä¸€æ–¹å¼</p></li><li><p>åªèƒ½æ˜¯åŒæ­¥</p></li><li><p>é€»è¾‘åªèƒ½æ˜¯ä¿®æ”¹ <code>state</code></p></li><li><p>å»ºè®® <strong>å¤§å†™ã€å¸¸é‡</strong> å‘½å</p></li><li><p>å®šä¹‰</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mutations: &#123;</span><br><span class="line">  UPDATE_USER (state, payload) &#123;</span><br><span class="line">    state.age += payload.age</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>è°ƒç”¨</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$store.commit(<span class="string">'name'</span>, payload)</span><br><span class="line"><span class="comment">// or </span></span><br><span class="line"><span class="keyword">this</span>.$store.commit(&#123;</span><br><span class="line">  type: name,</span><br><span class="line">  ...payload</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapMutations &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line">methods: &#123;</span><br><span class="line">  ...mapMutations([</span><br><span class="line">    <span class="string">'mA'</span>,</span><br><span class="line">    <span class="string">'mB'</span></span><br><span class="line">  ]),</span><br><span class="line">  <span class="comment">// æˆ–è€…ï¼Œå¯ä»¥é‡å‘½å</span></span><br><span class="line">  ...mapMutations(&#123;</span><br><span class="line">    aliasName: <span class="string">'mA'</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><h5 id="Actions"><a href="#Actions" class="headerlink" title="Actions"></a>Actions</h5><ul><li><p>å¼‚æ­¥ï¼Œè¿”å› <code>promise</code></p></li><li><p>å¯ä»¥å†™å¤æ‚é€»è¾‘ï¼Œä¸€èˆ¬ç”¨äºè°ƒç”¨ <code>mutations</code></p></li><li><p>ç”¨æ³•ï¼Œå‚æ•°åŸºæœ¬å’Œ <code>mutations</code> ä¸€è‡´</p></li><li><p>å®šä¹‰</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">actions: &#123;</span><br><span class="line">  increment (&#123; state, getters, commit, dispatch &#125;, payload) &#123;</span><br><span class="line">    <span class="comment">// å¯ä»¥å†™å¤æ‚é€»è¾‘</span></span><br><span class="line">    commit(<span class="string">'INCREMENT'</span>, payload)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li></li></ul></li><li><p>è°ƒç”¨</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$store.dispatch(<span class="string">'increment'</span>, payload)</span><br><span class="line"><span class="comment">// æˆ–è€…</span></span><br><span class="line"><span class="keyword">this</span>.$store.dispatch(&#123;</span><br><span class="line">  type: <span class="string">'increment'</span>,</span><br><span class="line">  ...payload</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapActions &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line">methods: &#123;</span><br><span class="line">  ...mapActions([</span><br><span class="line">    <span class="string">'aA'</span>,</span><br><span class="line">    <span class="string">'aB'</span></span><br><span class="line">  ]),</span><br><span class="line">  <span class="comment">// æˆ–è€…</span></span><br><span class="line">  ...mapActions(&#123;</span><br><span class="line">    aliasName: <span class="string">'aA'</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><h5 id="namespaceã€module"><a href="#namespaceã€module" class="headerlink" title="namespaceã€module"></a>namespaceã€module</h5><ul><li><p>æŒ‰æ¨¡å—åŒºåˆ†ï¼Œæ·»åŠ  <code>namespaced: true</code> å³å¯</p></li><li><p>è°ƒç”¨éœ€åŠ ä¸Š <code>moduleName</code></p><ul><li><p><code>this.$store.state.moduleName.xx</code>ã€<code>this.$store.getters.moduleName.xx</code>ã€<code>this.$store.commit(&#39;moduleName/xxx&#39;)</code>ã€<code>this.$store.dispatch(&#39;moduleName/xxx&#39;)</code></p></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">  ...mapState(<span class="string">'moduleName'</span>, [<span class="string">'xxx'</span>, <span class="string">'yyy'</span>]),</span><br><span class="line">  ...mapGetters(<span class="string">'moduleName'</span>, [<span class="string">'xxx'</span>, <span class="string">'yyy'</span>])</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">  ...mapMutations(<span class="string">'moduleName'</span>, [<span class="string">'xxx'</span>, <span class="string">'yyy'</span>]),</span><br><span class="line">  ...mapActions(<span class="string">'moduleName'</span>, [<span class="string">'xxx'</span>, <span class="string">'yyy'</span>])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆ–è€…ä½¿ç”¨ createNamespacedHelpers åˆ›å»ºåŸºäºå‘½åç©ºé—´çš„è¾…åŠ©å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> &#123; mapState, mapActions &#125; = createNamespacedHelpers(<span class="string">'some/nested/module'</span>)</span><br><span class="line">computed: &#123;</span><br><span class="line">  ...mapState([<span class="string">'xxx'</span>, <span class="string">'yyy'</span>]),</span><br><span class="line">  ...mapGetters([<span class="string">'xxx'</span>, <span class="string">'yyy'</span>])</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">  ...mapMutations([<span class="string">'xxx'</span>, <span class="string">'yyy'</span>]),</span><br><span class="line">  ...mapActions([<span class="string">'xxx'</span>, <span class="string">'yyy'</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>åœ¨å¸¦å‘½åç©ºé—´çš„æ¨¡å—å†…è°ƒç”¨å…¨å±€å†…å®¹</p><ul><li><p><code>state</code> å’Œ <code>getters</code>: <code>rootState</code> å’Œ <code>rootGetters</code> ä½œä¸ºç¬¬ä¸‰ã€ç¬¬å››ä¸ªå‚æ•°ä¼ ç»™ <code>getters</code>ï¼Œä¹Ÿä¼šä½œä¸º <code>context</code> ä¼ ç»™ <code>action</code></p></li><li><p><code>mutations</code> å’Œ <code>actions</code>: è‹¥è¦åœ¨å…¨å±€å‘½åç©ºé—´å†…åˆ†å‘ <code>action</code> æˆ– æäº¤ <code>mutation</code>ï¼Œ å°† <code>{ root: true }</code> ä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ä¼ é€’ç»™ <code>dispatch</code> æˆ– <code>commit</code> å³å¯</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">modules: &#123;</span><br><span class="line">  foo: &#123;</span><br><span class="line">    namespaced: <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">    getters: &#123;</span><br><span class="line">      <span class="comment">// åœ¨è¿™ä¸ªæ¨¡å—çš„ getter ä¸­ï¼Œ`getters` è¢«å±€éƒ¨åŒ–äº†</span></span><br><span class="line">      <span class="comment">// ä½ å¯ä»¥ä½¿ç”¨ getter çš„ç¬¬å››ä¸ªå‚æ•°æ¥è°ƒç”¨ `rootGetters`</span></span><br><span class="line">      someGetter (state, getters, rootState, rootGetters) &#123;</span><br><span class="line">        getters.someOtherGetter <span class="comment">// -&gt; 'foo/someOtherGetter'</span></span><br><span class="line">        rootGetters.someOtherGetter <span class="comment">// -&gt; 'someOtherGetter'</span></span><br><span class="line">      &#125;,</span><br><span class="line">      someOtherGetter: <span class="function"><span class="params">state</span> =&gt;</span> &#123; ... &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    actions: &#123;</span><br><span class="line">      <span class="comment">// åœ¨è¿™ä¸ªæ¨¡å—ä¸­ï¼Œ dispatch å’Œ commit ä¹Ÿè¢«å±€éƒ¨åŒ–äº†</span></span><br><span class="line">      <span class="comment">// ä»–ä»¬å¯ä»¥æ¥å— `root` å±æ€§ä»¥è®¿é—®æ ¹ dispatch æˆ– commit</span></span><br><span class="line">      someAction (&#123; dispatch, commit, getters, rootGetters &#125;) &#123;</span><br><span class="line">        getters.someGetter <span class="comment">// -&gt; 'foo/someGetter'</span></span><br><span class="line">        rootGetters.someGetter <span class="comment">// -&gt; 'someGetter'</span></span><br><span class="line"></span><br><span class="line">        dispatch(<span class="string">'someOtherAction'</span>) <span class="comment">// -&gt; 'foo/someOtherAction'</span></span><br><span class="line">        dispatch(<span class="string">'someOtherAction'</span>, <span class="literal">null</span>, &#123; <span class="attr">root</span>: <span class="literal">true</span> &#125;) <span class="comment">// -&gt; 'someOtherAction'</span></span><br><span class="line"></span><br><span class="line">        commit(<span class="string">'someMutation'</span>) <span class="comment">// -&gt; 'foo/someMutation'</span></span><br><span class="line">        commit(<span class="string">'someMutation'</span>, <span class="literal">null</span>, &#123; <span class="attr">root</span>: <span class="literal">true</span> &#125;) <span class="comment">// -&gt; 'someMutation'</span></span><br><span class="line">      &#125;,</span><br><span class="line">      someOtherAction (ctx, payload) &#123; ... &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p><code>modules</code> å®šä¹‰å…¨å±€ <code>action</code>: æ·»åŠ  <code>root: true</code>ï¼Œ å¹¶å°†è¿™ä¸ª <code>action</code> çš„å®šä¹‰æ”¾åœ¨å‡½æ•° <code>handler</code> ä¸­</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  actions: &#123;</span><br><span class="line">    someOtherAction (&#123;dispatch&#125;) &#123;</span><br><span class="line">      dispatch(<span class="string">'someAction'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  modules: &#123;</span><br><span class="line">    foo: &#123;</span><br><span class="line">      namespaced: <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">      actions: &#123;</span><br><span class="line">        someAction: &#123;</span><br><span class="line">          root: <span class="literal">true</span>,</span><br><span class="line">          handler (namespacedContext, payload) &#123; ... &#125; <span class="comment">// -&gt; 'someAction'</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul></li><li><ul><li></li></ul></li></ul><p>åŠ¨æ€å¯¼å…¥ <code>modules</code></p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// https://webpack.js.org/guides/dependency-management/#requirecontext</span></span><br><span class="line"><span class="keyword">const</span> modulesFiles = <span class="built_in">require</span>.context(<span class="string">'./modules'</span>, <span class="literal">true</span>, /\.js$/)</span><br><span class="line"></span><br><span class="line"><span class="comment">// you do not need `import app from './modules/app'`</span></span><br><span class="line"><span class="comment">// it will auto require all vuex module from modules file</span></span><br><span class="line"><span class="keyword">const</span> modules = modulesFiles.keys().reduce(<span class="function">(<span class="params">modules, modulePath</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// set './app.js' =&gt; 'app'</span></span><br><span class="line">  <span class="keyword">const</span> moduleName = modulePath.replace(<span class="regexp">/^\.\/(.*)\.\w+$/</span>, <span class="string">'$1'</span>)</span><br><span class="line">  <span class="keyword">const</span> value = modulesFiles(modulePath)</span><br><span class="line">  modules[moduleName] = value.default</span><br><span class="line">  <span class="keyword">return</span> modules</span><br><span class="line">&#125;, &#123;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  modules,</span><br><span class="line">  getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul><p>åŠ¨æ€å¯¼å…¥ç»„ä»¶</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  global.jsæ–‡ä»¶</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">changeStr</span> (<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> str.charAt(<span class="number">0</span>).toUpperCase() + str.slice(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> requireComponent = <span class="built_in">require</span>.context(<span class="string">'./'</span>, <span class="literal">false</span>, /\.vue$/)</span><br><span class="line"><span class="comment">// æŸ¥æ‰¾åŒçº§ç›®å½•ä¸‹ä»¥vueç»“å°¾çš„ç»„ä»¶</span></span><br><span class="line"><span class="keyword">const</span> install = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  requireComponent.keys().forEach(<span class="function"><span class="params">fileName</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> config = requireComponent(fileName)</span><br><span class="line">    <span class="built_in">console</span>.log(config) <span class="comment">// ./child1.vue ç„¶åç”¨æ­£åˆ™æ‹¿åˆ°child1</span></span><br><span class="line">    <span class="keyword">let</span> componentName = changeStr(</span><br><span class="line">      <span class="comment">//fileName.replace(/^\.\//, '').replace(/\.\w+$/, '')</span></span><br><span class="line">      fileName.replace(<span class="regexp">/^\.\/(.*)\.vue$/</span>, <span class="string">'$1'</span>)</span><br><span class="line">    )</span><br><span class="line">    Vue.component(componentName, config.default || config)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  install <span class="comment">// å¯¹å¤–æš´éœ²installæ–¹æ³•</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="ssr"><a href="#ssr" class="headerlink" title="ssr"></a>ssr</h4><h3 id="uiæ¡†æ¶"><a href="#uiæ¡†æ¶" class="headerlink" title="uiæ¡†æ¶"></a>uiæ¡†æ¶</h3><ul><li>uiæ¡†æ¶ç±»ä¼¼ï¼Œä»¥ <code>iview</code> ä¸¾ä¾‹</li></ul><h4 id="iview-iview-Design"><a href="#iview-iview-Design" class="headerlink" title="iview / iview Design"></a>iview / iview Design</h4><ul><li><p>å®‰è£…</p><ul><li>å…¨å±€å¼•å…¥: <code>vue.use(iview) css</code></li><li>æŒ‰éœ€å¼•å…¥: <code>css</code> + <code>babelrc, babel-plugin-import</code></li></ul></li><li><p>å›½é™…åŒ–</p><ul><li>i18n</li></ul></li><li><p>å…¨å±€é…ç½®</p><ul><li><code>Vue.use(ViewUI, {xxx})</code></li></ul></li><li><p>validator</p><ul><li><p>propå’Œkeyä¸€è‡´</p></li><li><p><code>required: true, message: &#39;xx&#39;, trigger: &#39;blur&#39;</code></p></li><li><p><code>type: &#39;string&#39;, pattern: &#39;/^(0|[1-9][0-9]*)$/&#39;, message: &#39;xx&#39;, trigger: &#39;change&#39;</code></p></li><li><p><code>validator: this.xxx&#39;, trigger: &#39;blur&#39;</code></p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> validateQualityValueMile = <span class="function">(<span class="params">rule, value, callback</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.isGasControl &amp;&amp; !value &amp;&amp; !<span class="keyword">this</span>.carForm.qualityValueDay) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'vMile '</span>, value)</span><br><span class="line">    <span class="keyword">return</span> callback(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'è´¨é‡ä¿è¯æœŸå¿…é¡»å¡«å†™'</span>))</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> callback()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul></li></ul><h4 id="vant"><a href="#vant" class="headerlink" title="vant"></a>vant</h4><h4 id="element-ui"><a href="#element-ui" class="headerlink" title="element-ui"></a>element-ui</h4><h4 id="ant-design"><a href="#ant-design" class="headerlink" title="ant-design"></a>ant-design</h4><h4 id="iconfont"><a href="#iconfont" class="headerlink" title="iconfont"></a>iconfont</h4><ul><li>æ·»åŠ å›¾æ ‡ï¼Œå‘½å</li><li>ä¸‹è½½åï¼Œæ·»åŠ 6ä¸ªæ–‡ä»¶(é™¤äº†demoçš„cssï¼Œjs)ï¼Œå¼•å…¥<code>iconfont.css</code></li><li><code>&lt;span class=&quot;iconfont xxx&quot;&gt;</code></li></ul><h3 id="vue-3-é‡ç‚¹"><a href="#vue-3-é‡ç‚¹" class="headerlink" title="vue 3(é‡ç‚¹)"></a>vue 3(é‡ç‚¹)</h3><h4 id="option-API"><a href="#option-API" class="headerlink" title="option API"></a>option API</h4><h4 id="composition-API"><a href="#composition-API" class="headerlink" title="composition API"></a>composition API</h4><h4 id="åŒºåˆ«-å“åº”é€Ÿåº¦ã€åŸç†ç­‰"><a href="#åŒºåˆ«-å“åº”é€Ÿåº¦ã€åŸç†ç­‰" class="headerlink" title="åŒºåˆ«(å“åº”é€Ÿåº¦ã€åŸç†ç­‰)"></a>åŒºåˆ«(å“åº”é€Ÿåº¦ã€åŸç†ç­‰)</h4><h4 id="åŒºåˆ«-vue-2"><a href="#åŒºåˆ«-vue-2" class="headerlink" title="åŒºåˆ«(vue 2)"></a>åŒºåˆ«(vue 2)</h4><h4 id="è¯­æ³•ï¼Ÿ"><a href="#è¯­æ³•ï¼Ÿ" class="headerlink" title="è¯­æ³•ï¼Ÿ"></a>è¯­æ³•ï¼Ÿ</h4><h3 id="ts"><a href="#ts" class="headerlink" title="ts"></a>ts</h3><h4 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h4><ul><li>åŸºæœ¬ç±»å‹ï¼šstring, number, boolean, null, undefined, Symbol, BigInt</li><li><code>|</code> : è”åˆç±»å‹ï¼ŒåŒæ—¶åªèƒ½æ˜¯å¤šä¸ªç±»å‹ä¸­å…¶ä¸­ä¸€ä¸ª</li><li><code>&amp;</code>: äº¤å‰ç±»å‹ï¼ŒåŒæ—¶æ˜¯æ‰€æœ‰ç±»å‹çš„æ‰€æœ‰</li></ul><h4 id="è¿›é˜¶"><a href="#è¿›é˜¶" class="headerlink" title="è¿›é˜¶"></a>è¿›é˜¶</h4><ul><li><code>type</code>: ç±»å‹åˆ«åï¼Œ<code>=</code> èµ‹å€¼</li><li><code>interface</code>: æ¥å£ï¼Œç›´æ¥èµ‹å€¼<ul><li><code>type</code> ä¸ <code>interface</code> çš„åŒºåˆ«ï¼šåŸºæœ¬ä¸€è‡´ã€‚èµ‹å€¼æ–¹å¼ä¸ä¸€æ ·ï¼›æ¥å£å¯ä»¥åˆå¹¶ï¼Œç±»å‹åˆ«åéœ€ç”¨ <code>&amp;</code> ç”Ÿæˆ <strong>äº¤å‰ç±»å‹</strong></li></ul></li><li><code>class</code>ï¼šç±»<ul><li><code>constructor</code> : æ„é€ å‡½æ•°</li><li><code>extends</code> : ç»§æ‰¿(ç±»-ç±»ï¼Œç±»-æ¥å£ï¼Œæ¥å£-æ¥å£ï¼Œæ¥å£-ç±»)</li><li><code>super</code>: è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°</li><li>ä¿®é¥°ç¬¦<ul><li><code>public</code>: å…¬å¼€ï¼Œé»˜è®¤</li><li><code>private</code>: ç§æœ‰çš„ï¼Œåªèƒ½å½“å‰ç±»ä½¿ç”¨</li><li><code>protected</code>: å’Œ <code>private</code> ç±»ä¼¼ï¼ŒåŒºåˆ«æ˜¯å­ç±»ä¹Ÿå¯ä»¥ä½¿ç”¨</li></ul></li><li><code>implements</code>: ç±»å®ç°æ¥å£</li><li>åœ¨ <code>TS</code> é‡Œï¼Œ<strong>æ¥å£æ˜¯å¯ä»¥ç»§æ‰¿ç±»çš„</strong></li></ul></li><li><code>abstract</code>: æŠ½è±¡ç±»ï¼ŒæŠ½è±¡æ–¹æ³•<ul><li>æŠ½è±¡ç±»ä¸èƒ½è¢«å®ä¾‹åŒ–</li><li>æŠ½è±¡æ–¹æ³•å¿…é¡»åœ¨å­ç±»å®ç°</li></ul></li></ul><h4 id="è‡ªå¸¦å‡½æ•°"><a href="#è‡ªå¸¦å‡½æ•°" class="headerlink" title="è‡ªå¸¦å‡½æ•°"></a>è‡ªå¸¦å‡½æ•°</h4><ul><li>typeof: è·å–å®ä¾‹çš„ç±»å‹, type x = typeof xxInstance</li><li>keyof: è·å– <code>type</code> æˆ– <code>interface</code> çš„ <code>key</code> çš„è”åˆç±»å‹</li><li>partial: æ‰€æœ‰keyå˜ä¸ºå¯é€‰</li><li>required: æ‰€æœ‰keyå˜ä¸ºå¿…å¡«</li><li>readonly: æ‰€æœ‰keyå˜ä¸ºåªè¯»</li><li>record: æ‰€æœ‰keyå˜ä¸ºæŒ‡å®šTç±»å‹</li><li>pick: é€‰æ‹©éƒ¨åˆ†key</li><li>extract: éå†T.keysï¼Œè¿”å›Uä¸­å­˜åœ¨çš„keysçš„ç±»å‹ï¼Œå‚æ•°å’Œç»“æœéƒ½æ˜¯è”åˆç±»å‹</li><li>exclude: éå†T.keysï¼Œ è¿”å›Uä¸­ ä¸å­˜åœ¨çš„keysç±»å‹ï¼Œå‚æ•°å’Œç»“æœéƒ½æ˜¯è”åˆç±»å‹</li><li>omit: pick+excludeç»„åˆï¼Œè¿”å› å¯¹è±¡ä¸­ï¼Œé™¤å‡ ä¸ªkeyå¤–çš„å…¶ä»–æ‰€æœ‰ç±»å‹ã€‚å’Œpickå¯¹åº”</li></ul><h3 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h3><h2 id="è¿›é˜¶2-ç®¡ç†æ–¹å‘"><a href="#è¿›é˜¶2-ç®¡ç†æ–¹å‘" class="headerlink" title="è¿›é˜¶2(ç®¡ç†æ–¹å‘)"></a>è¿›é˜¶2(ç®¡ç†æ–¹å‘)</h2><h3 id="è„šæ‰‹æ¶æ­å»º"><a href="#è„šæ‰‹æ¶æ­å»º" class="headerlink" title="è„šæ‰‹æ¶æ­å»º"></a>è„šæ‰‹æ¶æ­å»º</h3><p><a href="https://jian2333.github.io/2021/01/06/my-cli/">ä¸­åå°è„šæ‰‹æ¶å®è·µ</a></p><h3 id="åŸºç¡€å°è£…"><a href="#åŸºç¡€å°è£…" class="headerlink" title="åŸºç¡€å°è£…"></a>åŸºç¡€å°è£…</h3><p><strong>axios</strong></p><h3 id="es-lint"><a href="#es-lint" class="headerlink" title="es lint"></a>es lint</h3><h3 id="git-hook"><a href="#git-hook" class="headerlink" title="git-hook"></a>git-hook</h3><h3 id="prettier"><a href="#prettier" class="headerlink" title="prettier"></a>prettier</h3><h3 id="jenkins"><a href="#jenkins" class="headerlink" title="jenkins"></a>jenkins</h3><h2 id="è¿›é˜¶3-é¢è¯•é¢˜"><a href="#è¿›é˜¶3-é¢è¯•é¢˜" class="headerlink" title="è¿›é˜¶3(é¢è¯•é¢˜)"></a>è¿›é˜¶3(é¢è¯•é¢˜)</h2><h3 id="åŸå‹é“¾ä¸ç»§æ‰¿"><a href="#åŸå‹é“¾ä¸ç»§æ‰¿" class="headerlink" title="åŸå‹é“¾ä¸ç»§æ‰¿"></a>åŸå‹é“¾ä¸ç»§æ‰¿</h3><p><code>js -&gt; åŸå‹/åŸå‹é“¾</code></p><h3 id="è¾“å…¥urlä¹‹å"><a href="#è¾“å…¥urlä¹‹å" class="headerlink" title="è¾“å…¥urlä¹‹å"></a>è¾“å…¥urlä¹‹å</h3><p><a href="https://jian2333.github.io/2019/05/25/after-input-url/">è·³è½¬</a></p><h3 id="å¼‚æ­¥ï¼šå®ä»»åŠ¡ä¸å¾®ä»»åŠ¡"><a href="#å¼‚æ­¥ï¼šå®ä»»åŠ¡ä¸å¾®ä»»åŠ¡" class="headerlink" title="å¼‚æ­¥ï¼šå®ä»»åŠ¡ä¸å¾®ä»»åŠ¡"></a>å¼‚æ­¥ï¼šå®ä»»åŠ¡ä¸å¾®ä»»åŠ¡</h3><ul><li><p><a href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/7" target="_blank" rel="noopener">https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/7</a></p></li><li><p>é¡ºåºï¼šåŒæ­¥ -&gt; å®ä»»åŠ¡é˜Ÿåˆ—1 -&gt; å¾®ä»»åŠ¡é˜Ÿåˆ—1 -&gt; å®ä»»åŠ¡é˜Ÿåˆ—2 -&gt; å¾®ä»»åŠ¡é˜Ÿåˆ—2</p></li><li><p>å®ä»»åŠ¡ï¼šscript(æ•´ä½“ä»£ç )ã€setTimeoutã€setIntervalã€I/Oã€UIäº¤äº’äº‹ä»¶ã€postMessageã€MessageChannelã€setImmediate(Node.js ç¯å¢ƒ)</p></li><li><p>å¾®ä»»åŠ¡ï¼šPromise.thenã€MutaionObserverã€process.nextTick(Node.js ç¯å¢ƒ)</p></li><li><p>Tips:</p><ul><li><p><code>promise(A).then(B)</code>å†…çš„Aå‡½æ•°ä¸ºç«‹å³æ‰§è¡Œï¼ŒBå‡½æ•°ä¸ºå¾®ä»»åŠ¡é˜Ÿåˆ—</p><ul><li><code>B</code> é‡Œå¦‚æœ <code>return promise</code>ï¼Œä¼šæ·»åŠ åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—æœ€åï¼Œå¦‚æœ <code>return xx(number | string)</code>ï¼Œåˆ™ç«‹å³æ‰§è¡Œ</li></ul></li><li><p><code>await A; B()</code> çš„Aå‡½æ•°ä¸ºç«‹å³æ‰§è¡Œï¼ŒBå‡½æ•°ä¸ºå¾®ä»»åŠ¡é˜Ÿåˆ—</p></li><li><p>å¾®ä»»åŠ¡é‡Œåˆ›å»ºçš„å¾®ä»»åŠ¡(æ— è®ºå¤šå°‘å±‚)ï¼Œéƒ½åœ¨å½“å‰å¾®ä»»åŠ¡é˜Ÿåˆ—å†…æ‰§è¡Œ(æ·»åŠ åˆ°å½“å‰å¾®ä»»åŠ¡åˆ—è¡¨æœ€å)</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">promise.resolve().then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">  promise.resolve().then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// =&gt; è¿”å›1,2,3</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p><code>script</code> æ‰§è¡Œå®Œåï¼Œä¼šç›´æ¥æ‰§è¡Œ <strong>å¾®ä»»åŠ¡</strong>ï¼Œæ‰€ä»¥é»˜è®¤é¡ºåºä¸ºï¼šåŒæ­¥ -&gt; å¾®ä»»åŠ¡1 -&gt; å®ä»»åŠ¡2 -&gt; å¾®ä»»åŠ¡2 -&gt; â€¦</p></li></ul></li></ul><h3 id="PromiseåŸç†"><a href="#PromiseåŸç†" class="headerlink" title="PromiseåŸç†"></a><a href="https://zhuanlan.zhihu.com/p/58428287" target="_blank" rel="noopener">PromiseåŸç†</a></h3><p>æ³¨å†Œ <code>then</code> å›è°ƒå‡½æ•°ï¼Œpush åˆ° <code>callbacks</code>é‡Œã€‚å½“ <code>resolve</code> æ—¶ï¼Œè°ƒç”¨ <code>callbacks</code> é‡Œæ‰€æœ‰å‡½æ•°ã€‚</p><h3 id="PWA"><a href="#PWA" class="headerlink" title="PWA"></a>PWA</h3><p>æ¸è¿›å¼åº”ç”¨ç¨‹åº</p><ul><li><p>web worker: å•ç‹¬å¼€çº¿ç¨‹æ‰§è¡Œä»»åŠ¡ï¼š</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">const</span> myWorker = <span class="keyword">new</span> Worker(<span class="string">'worker.js'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¼ é€’</span></span><br><span class="line">myWorker.postMessage(<span class="string">'hello'</span>)</span><br><span class="line"><span class="comment">// æ¥æ”¶</span></span><br><span class="line">myWorker.onmessage = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(e.data)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// worker.js, å›ç«‹å³æ‰§è¡Œ</span></span><br><span class="line">self.onmessage = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(e.data)</span><br><span class="line">  <span class="comment">// å‘ä¸»æ–‡ä»¶å‘é€ä¿¡æ¯</span></span><br><span class="line">  self.postMessage(<span class="string">'lala'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li></li></ul></li><li><p>service worker: å¯ä»¥æ‹¦æˆªç½‘ç»œè¯·æ±‚ï¼Œå†³å®šèµ°ç½‘ç»œè¿˜æ˜¯è¿”å›ç¼“å­˜æ•°æ®ï¼Œæ‰€ä»¥å¯ä»¥å®ç°ã€Œåé€€ã€åŠŸèƒ½</p></li></ul><h3 id="è„šæ‰‹æ¶å‘å¸ƒ"><a href="#è„šæ‰‹æ¶å‘å¸ƒ" class="headerlink" title="è„šæ‰‹æ¶å‘å¸ƒ"></a>è„šæ‰‹æ¶å‘å¸ƒ</h3><ul><li><code>package.json.main: &quot;bin/mbs.js&quot;</code></li></ul><h3 id="jså–æ•´"><a href="#jså–æ•´" class="headerlink" title="jså–æ•´"></a>jså–æ•´</h3><ul><li><a href="https://www.jianshu.com/p/a3202bc3f7a4" target="_blank" rel="noopener">ç®€ä¹¦</a></li><li>parseInt</li><li><code>~~20.25</code></li><li><code>20.25^0</code></li><li><code>20.25 &lt;&lt; 0</code></li><li><code>Math</code><ul><li><code>Math.floor</code></li><li><code>Math.ceil</code></li><li><code>Math.round</code></li><li><code>Math.trunc</code>: ç›´æ¥å–æ•´</li></ul></li></ul><h3 id="jsåŠ¨æ•ˆ"><a href="#jsåŠ¨æ•ˆ" class="headerlink" title="jsåŠ¨æ•ˆ"></a>jsåŠ¨æ•ˆ</h3><ul><li><p>jsåŠ¨æ•ˆä¸­ï¼š<code>setTimeout</code>ã€<code>setInterval</code> å¹¶ä¸æ˜¯é—´éš” <code>xx</code> å¼€å§‹æ¸²æŸ“é¡µé¢ï¼Œè€Œæ˜¯é—´éš” <code>xx</code> æ·»åŠ åˆ° <strong>ä»»åŠ¡é˜Ÿåˆ—</strong> ä¸­ï¼Œå¦‚æœé˜Ÿåˆ—é‡Œå·²ç»æœ‰ä»»åŠ¡çš„è¯â€¦..</p></li><li><p><code>requestAnimationFrame(callback)</code>: åœ¨ä¸‹ä¸€æ¬¡é‡ç»˜å‰ï¼Œæ‰§è¡ŒåŠ¨æ•ˆã€‚é‡ç»˜æ˜¯æµè§ˆå™¨å†³å®š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> element = <span class="built_in">document</span>.getElementById(<span class="string">'ele'</span>)</span><br><span class="line"><span class="keyword">const</span> start = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// timestamp: å½“å‰æ—¶é—´æˆ³</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">step</span>(<span class="params">timestamp</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (start === <span class="literal">undefined</span>) &#123;</span><br><span class="line">    start = timestamp</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> elapsed = timestamp - start</span><br><span class="line">  element.style.transform = <span class="string">'translateX('</span> + <span class="built_in">Math</span>.min(<span class="number">0.1</span> * elapsed, <span class="number">200</span>) + <span class="string">'px )'</span></span><br><span class="line">  <span class="comment">// 2s ååœæ­¢åŠ¨ç”»</span></span><br><span class="line">  <span class="keyword">if</span> (elapsed &lt; <span class="number">2000</span>) &#123;</span><br><span class="line">    <span class="built_in">window</span>.requestAnimationFrame(step)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.requestAnimationFrame(step)</span><br></pre></td></tr></table></figure></li></ul><h3 id="å®é™…é¢è¯•"><a href="#å®é™…é¢è¯•" class="headerlink" title="å®é™…é¢è¯•"></a>å®é™…é¢è¯•</h3><h4 id="this-nextTick-åŸç†"><a href="#this-nextTick-åŸç†" class="headerlink" title="this.$nextTick åŸç†"></a><a href="https://segmentfault.com/a/1190000020499713" target="_blank" rel="noopener">this.$nextTick åŸç†</a></h4><ul><li>åˆ›å»ºå¼‚æ­¥å»¶è¿Ÿå‡½æ•° <code>timerFunc</code>ï¼Œåœ¨å¼‚æ­¥å»¶è¿Ÿç»“æŸåï¼Œè°ƒç”¨ä¼ å…¥çš„å›è°ƒå‡½æ•°</li><li><code>timerFunc</code>ï¼Œå»¶è¿Ÿè°ƒç”¨ä¼˜å…ˆçº§ï¼š<code>Promise.resolve().then()</code> &gt; <code>MutationObserver</code> &gt; <code>Setimmediate</code> &gt; <code>setTimeout</code>ï¼š2å¾®ä»»åŠ¡ï¼Œ2å®ä»»åŠ¡</li><li><code>nextTick(cb?, ctx)</code>ï¼Œå¦‚æœæœªä¼ å…¥ <code>cb</code>ï¼Œä¼šè‡ªåŠ¨è¿”å› <code>Promise.resolve()</code>ï¼Œå¯ç”¨ <code>then</code> è°ƒç”¨åç»­å‡½æ•°ã€‚</li></ul><h4 id="vuexç¼ºç‚¹"><a href="#vuexç¼ºç‚¹" class="headerlink" title="vuexç¼ºç‚¹"></a>vuexç¼ºç‚¹</h4><ul><li>å†…å­˜å ç”¨å¤§</li></ul><h4 id="vue-æ¸²æŸ“åŸç†"><a href="#vue-æ¸²æŸ“åŸç†" class="headerlink" title="vue æ¸²æŸ“åŸç†"></a>vue æ¸²æŸ“åŸç†</h4><ul><li>è™šæ‹ŸDOMå•¥çš„</li></ul><h4 id="vue-å¤šé¡µé¢æ˜¯ä»€ä¹ˆ"><a href="#vue-å¤šé¡µé¢æ˜¯ä»€ä¹ˆ" class="headerlink" title="vue å¤šé¡µé¢æ˜¯ä»€ä¹ˆ"></a>vue å¤šé¡µé¢æ˜¯ä»€ä¹ˆ</h4><ul><li>å¤šä¸ªhtmlé¡µé¢ï¼Œé™¤äº†ä¸»é¡µå†…æ˜¯vue-routerè·³è½¬ï¼Œå…¶ä»–é¡µé¢éƒ½æ˜¯aæ ‡ç­¾è·³è½¬åˆ°å…¶ä»–é¡µé¢</li><li>ä¸»é¡µé¢åŠ è½½å¿«ï¼Œå¤šé¡µé¢SEOå¥½</li><li>å¤šé¡µé¢ä¹‹é—´è·³è½¬æ…¢ï¼Œå› ä¸ºè¦åŠ è½½csså’Œjs</li></ul><h4 id="jsä¸ºå•¥ä¼šé˜»å¡é¡µé¢æ¸²æŸ“"><a href="#jsä¸ºå•¥ä¼šé˜»å¡é¡µé¢æ¸²æŸ“" class="headerlink" title="jsä¸ºå•¥ä¼šé˜»å¡é¡µé¢æ¸²æŸ“"></a>jsä¸ºå•¥ä¼šé˜»å¡é¡µé¢æ¸²æŸ“</h4><ul><li>jså¯èƒ½ä¼šä¿®æ”¹DOMç»“æ„ï¼Œæ¯”å¦‚ <code>document.write</code></li></ul><h4 id="äº‹ä»¶å§”æ‰˜-äº‹ä»¶ä»£ç†"><a href="#äº‹ä»¶å§”æ‰˜-äº‹ä»¶ä»£ç†" class="headerlink" title="äº‹ä»¶å§”æ‰˜/äº‹ä»¶ä»£ç†"></a>äº‹ä»¶å§”æ‰˜/äº‹ä»¶ä»£ç†</h4><ul><li>åˆ©ç”¨äº‹ä»¶å†’æ³¡ï¼Œåªä¸ºçˆ¶å…ƒç´ æ·»åŠ äº‹ä»¶ï¼Œè¿›è€Œè¾¾åˆ°ä¸ºå¤šä¸ªå­å…ƒç´ æ·»åŠ äº‹ä»¶çš„æ•ˆæœ</li><li>å‡å°‘DOMæŸ¥è¯¢ï¼Œæå‡æ€§èƒ½ï¼Œ</li><li>å¯æ‰©å±•ï¼Œæ–°å¢çš„å­å…ƒç´ ä¹Ÿå¯ç›´æ¥ä»£ç†</li><li>ä¸å†’æ³¡çš„äº‹ä»¶ä¸æ”¯æŒï¼›å†’æ³¡è¿‡å¤šå¯èƒ½è¢«é˜»æ­¢æ‰ï¼›åˆ«äººä½¿ç”¨æ—¶è¯¯åˆ¤å¯¼è‡´è°ƒç”¨2æ¬¡</li><li><a href="https://juejin.cn/post/6844903589052153869" target="_blank" rel="noopener">æ˜é‡‘</a></li></ul><h4 id="äº‹ä»¶å¾ªç¯"><a href="#äº‹ä»¶å¾ªç¯" class="headerlink" title="äº‹ä»¶å¾ªç¯"></a>äº‹ä»¶å¾ªç¯</h4><ul><li>æ‰§è¡Œæ ˆï¼šä¸»çº¿ç¨‹ï¼ŒåŒæ­¥</li><li>äº‹ä»¶é˜Ÿåˆ—ï¼šå¼‚æ­¥ï¼Œ</li><li>ä¸»çº¿ç¨‹ -&gt; äº‹ä»¶é˜Ÿåˆ— -&gt; ä¸»çº¿ç¨‹ -&gt; äº‹ä»¶é˜Ÿåˆ— -&gt; â€¦</li><li><a href="https://zhuanlan.zhihu.com/p/33058983" target="_blank" rel="noopener">çŸ¥ä¹</a> <a href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/7" target="_blank" rel="noopener">github</a></li></ul><h3 id="Web-æ€§èƒ½ä¼˜åŒ–"><a href="#Web-æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="Web æ€§èƒ½ä¼˜åŒ–"></a>Web æ€§èƒ½ä¼˜åŒ–</h3><h4 id="ç½‘ç»œã€èµ„æº"><a href="#ç½‘ç»œã€èµ„æº" class="headerlink" title="ç½‘ç»œã€èµ„æº"></a>ç½‘ç»œã€èµ„æº</h4><ul><li>åŒåŸŸåä¸‹å‡å°‘DNSè§£æ</li><li>å¼€å¯http2ï¼Œå¤šè·¯å¤ç”¨</li><li>å‹ç¼©å›¾ç‰‡ï¼Œæ‡’åŠ è½½(layzsizes)ï¼Œé›ªç¢§å›¾ï¼Œiconfontå›¾æ ‡</li><li>gzipå‹ç¼©ä»£ç </li><li>é™æ€åŒ…ï¼ŒåŒ…å«ä¸‹è½½å¥½çš„é¦–é¡µç­‰</li></ul><h4 id="css-1"><a href="#css-1" class="headerlink" title="css"></a>css</h4><ul><li>ä¿®æ”¹ç±»åè€Œä¸æ˜¯æ ·å¼</li><li>å‡å°‘DOMè®¿é—®ï¼šäº‹ä»¶ä»£ç†</li><li>å‡å°‘é‡æ’é‡ç»˜ï¼š<ul><li>ä¸ä½¿ç”¨table</li><li>å¼€å¯ç¡¬ä»¶åŠ é€Ÿï¼šanimationsã€transformsã€transitionsä¸ä¼šè‡ªåŠ¨å¼€å¯ï¼Œå½“æ£€æµ‹åˆ°DOMå…ƒç´ å¼€å¯æŸäº›è§„åˆ™æ—¶ä¼šå¼€å¯ï¼Œæ¯”å¦‚3Då˜åŒ–<ul><li><code>transform: translate3d(250px, 250px, 250px) rotate3d(250px, 250px, 250px, -120deg) scale3d(0.5, 0.5, 0.5)</code> (å·¦æ‰‹ï¼Œå³ä¸‹å‰)</li><li>æœ‰æ—¶å€™ä¸æƒ³3dçš„è½¬æ¢ï¼Œå¯ä»¥ä½¿ç”¨å°æŠ€å·§æ¬ºéª— <code>transform: translateZ(0)</code></li><li>ä½†æ­¤æ—¶ä¼šå±å¹•é—ªçƒï¼Œå¯ä»¥è¿™æ ·è§£å†³ <code>backface-visibility: hidden; perspective: 1000</code> æˆ–è€… <code>transform: translate3d(0, 0, 0)</code> <a href="https://www.cnblogs.com/rubylouvre/p/3471490.html" target="_blank" rel="noopener">å‚è€ƒèµ„æ–™</a></li><li>å…ƒç´ èƒŒé¢æœå‘è§‚å¯Ÿè€…æ—¶æ˜¯å¦å¯è§ï¼›è§‚å¯Ÿè€…è·ç¦»z=0å¹³é¢çš„è·ç¦»ã€‚</li></ul></li></ul></li></ul><h4 id="js-1"><a href="#js-1" class="headerlink" title="js"></a>js</h4><ul><li>å‡å°‘jsä½“ç§¯ï¼Œwebpack chunkæ‰“åŒ…</li><li>web worker å¼€çº¿ç¨‹</li><li>ä¼˜åŒ–ä»£ç ï¼Œå‡å°‘å¾ªç¯</li><li>å‡½æ•°èŠ‚æµ</li></ul><h3 id="commonJs-ES6-module"><a href="#commonJs-ES6-module" class="headerlink" title="commonJs, ES6 module"></a>commonJs, ES6 module</h3><ul><li>commonJs: åŠ¨æ€ç¼–è¯‘ï¼Œä½¿ç”¨æ—¶æ‰ç¼–è¯‘ï¼›å¯ä½¿ç”¨å˜é‡ï¼›å€¼æ‹·è´ï¼Œä¸å½±å“</li><li>es6 module: é™æ€ç¼–è¯‘ï¼Œå…ˆä¸€æ¬¡æ€§ç¼–è¯‘å¥½ï¼Œåé¢ä½¿ç”¨ï¼›æ‰€ä»¥ç¼–è¯‘çš„æ—¶å€™å°±èƒ½å¤Ÿåˆ†æä»£ç æ˜¯å¦è¢«ä½¿ç”¨ï¼Œè¿›è€Œä½¿ç”¨ <code>tree shaking</code>ï¼›å€¼åº”ç”¨ï¼Œå…±äº«æ•°æ®</li></ul><h3 id="æµè§ˆå™¨ç¼“å­˜"><a href="#æµè§ˆå™¨ç¼“å­˜" class="headerlink" title="æµè§ˆå™¨ç¼“å­˜"></a>æµè§ˆå™¨ç¼“å­˜</h3><p><a href="https://github.com/amandakelake/blog/issues/43" target="_blank" rel="noopener">æµè§ˆå™¨ç¼“å­˜</a></p><h3 id="httpså»ºç«‹è¿‡ç¨‹"><a href="#httpså»ºç«‹è¿‡ç¨‹" class="headerlink" title="httpså»ºç«‹è¿‡ç¨‹"></a>httpså»ºç«‹è¿‡ç¨‹</h3><p><a href="https://segmentfault.com/a/1190000021559557" target="_blank" rel="noopener">TLSå»ºç«‹è¿‡ç¨‹</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;åŸºç¡€ç›¸å…³&quot;&gt;&lt;a href=&quot;#åŸºç¡€ç›¸å…³&quot; class=&quot;headerlink&quot; title=&quot;åŸºç¡€ç›¸å…³&quot;&gt;&lt;/a&gt;åŸºç¡€ç›¸å…³&lt;/h2&gt;&lt;h3 id=&quot;html&quot;&gt;&lt;a href=&quot;#html&quot; class=&quot;headerlink&quot; title=&quot;html&quot;&gt;&lt;/a&gt;html&lt;/h3&gt;&lt;p&gt;-&lt;/p&gt;&lt;h3 id=&quot;css&quot;&gt;&lt;a href=&quot;#css&quot; class=&quot;headerlink&quot; title=&quot;css&quot;&gt;&lt;/a&gt;css&lt;/h3&gt;&lt;h4 id=&quot;ç›’æ¨¡å‹&quot;&gt;&lt;a href=&quot;#ç›’æ¨¡å‹&quot; class=&quot;headerlink&quot; title=&quot;ç›’æ¨¡å‹&quot;&gt;&lt;/a&gt;ç›’æ¨¡å‹&lt;/h4&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;margin&lt;/code&gt;ã€&lt;code&gt;border&lt;/code&gt;ã€&lt;code&gt;padding&lt;/code&gt;ã€&lt;code&gt;content&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code&gt;box-sizing&lt;/code&gt;: &lt;code&gt;content-box(é»˜è®¤)&lt;/code&gt;ã€&lt;code&gt;border-box&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code&gt;inline&lt;/code&gt;: &lt;code&gt;&amp;lt;a&amp;gt;ã€&amp;lt;span&amp;gt;ã€&amp;lt;br&amp;gt;ã€&amp;lt;i&amp;gt;ã€&amp;lt;em&amp;gt;ã€&amp;lt;strong&amp;gt;ã€&amp;lt;label&amp;gt;ã€&amp;lt;q&amp;gt;ã€&amp;lt;var&amp;gt;ã€&amp;lt;cite&amp;gt;ã€&amp;lt;code&amp;gt;&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code&gt;block&lt;/code&gt;: &lt;code&gt;&amp;lt;div&amp;gt;ã€&amp;lt;p&amp;gt;ã€&amp;lt;h1&amp;gt;-&amp;lt;h6&amp;gt;ã€&amp;lt;ol&amp;gt;ã€&amp;lt;ul&amp;gt;ã€&amp;lt;dl&amp;gt;ã€&amp;lt;table&amp;gt;ã€&amp;lt;address&amp;gt;ã€&amp;lt;blockquote&amp;gt; ã€&amp;lt;form&amp;gt;&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code&gt;inline-block&lt;/code&gt;: &lt;code&gt;image&lt;/code&gt;ã€&lt;code&gt;input&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h4 id=&quot;å±…ä¸­&quot;&gt;&lt;a href=&quot;#å±…ä¸­&quot; class=&quot;headerlink&quot; title=&quot;å±…ä¸­&quot;&gt;&lt;/a&gt;å±…ä¸­&lt;/h4&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="webå‰ç«¯" scheme="http://jian2333.github.io/tags/web%E5%89%8D%E7%AB%AF/"/>
    
      <category term="vue" scheme="http://jian2333.github.io/tags/vue/"/>
    
      <category term="js" scheme="http://jian2333.github.io/tags/js/"/>
    
      <category term="é¢è¯•" scheme="http://jian2333.github.io/tags/%E9%9D%A2%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>å®¶åº­ç½‘ç»œçš„å‡çº§ä¹‹æ—…(äºŒ)</title>
    <link href="http://jian2333.github.io/2021/01/19/home-net-2/"/>
    <id>http://jian2333.github.io/2021/01/19/home-net-2/</id>
    <published>2021-01-19T05:54:59.000Z</published>
    <updated>2021-01-24T14:13:50.718Z</updated>
    
    <content type="html"><![CDATA[<p>ä½ é—®æˆ‘(ä¸€)åœ¨å“ªé‡Œï¼Ÿå…¶å®å¹¶æ²¡æœ‰å†™ï¼Œå› ä¸ºæˆ‘æ‡’ã€‚ã€‚ã€‚ã€‚ã€‚(å°å£°bb)</p><p>é‚£ä¹ˆ(ä¸€)æ˜¯ä»€ä¹ˆå‘¢ï¼Œç®€å•æ¥è¯´å°±æ˜¯åŠ äº†ä¸ªè½¯è·¯ç”± <code>r2s</code>ï¼Œç”¨ <code>ä¸»è·¯ç”±</code> çš„æ¨¡å¼å®ç°äº†è·¯ç”±ç¿»å¢™ï½</p><h3 id="å‡çº§ä¹‹æ—…-ä¸€"><a href="#å‡çº§ä¹‹æ—…-ä¸€" class="headerlink" title="å‡çº§ä¹‹æ—…(ä¸€)"></a>å‡çº§ä¹‹æ—…(ä¸€)</h3><h4 id="ç—›ç‚¹"><a href="#ç—›ç‚¹" class="headerlink" title="ç—›ç‚¹"></a>ç—›ç‚¹</h4><ul><li>æ¯ä¸ªè®¾å¤‡å‡ºå›½ç•™å­¦éƒ½è¦å¼€ç›¸åº”çš„è½¯ä»¶ï¼š<code>Windows</code> -&gt; <code>v2rayN</code>ï¼Œ<code>Mac</code> -&gt; <code>v2rayU</code>ï¼Œ<code>ios</code> -&gt; <code>shadowRocket</code></li><li>PCä¸Šä»£ç†æ¸¸æˆæµé‡è¿˜å¾—å•ç‹¬å¼€ <code>proxifier</code> è½¯ä»¶ï¼Œå‚è€ƒä¹‹å‰å†™çš„ä¸€ç‰‡æ–‡ç«  <a href="https://jian2333.github.io/2019/09/10/sstovpn/">ss + proxifier å®ç°vpnæ¸¸æˆä»£ç†</a></li><li><code>switch</code> è”ç½‘å¾—é€šè¿‡å…±äº« <code>wifi</code> çš„æ–¹å¼ï¼Œä¸€ç›´å¼€ç€ <code>PC</code> æˆ–è€… <code>iphone</code></li></ul><p>ç§ç§çš„ä¸ä¾¿å¤§å¤§é™ä½äº†ç”¨æˆ·ä½“éªŒï¼Œå°¤å…¶æ˜¯ç© <code>switch</code> çš„æ—¶å€™ï¼Œæ¯æ¬¡éƒ½è¦ç‰¹æ„å¼€ <code>PC</code> æˆ– <code>iphone</code> æŒ‚ç€ï¼Œå®åœ¨æ˜¯ä¸æ–¹ä¾¿äº†ï½</p><p>é‚£ä¹ˆï¼Œæœ‰ä»€ä¹ˆæ–¹æ³•èƒ½ä¸€èµ·è§£å†³ä¸Šé¢çš„é—®é¢˜å‘¢ï¼Ÿ</p><a id="more"></a><h4 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h4><p>ç­”æ¡ˆï¼Œå½“ç„¶æ˜¯æœ‰çš„ï¼Œ<strong>è·¯ç”±ç¿»å¢™</strong>å°±æ˜¯å¾ˆå¥½çš„ä¸€ç§æ–¹æ¡ˆï¼</p><ul><li>è·¯ç”±å™¨ç¿»å¢™åï¼Œè¿æ¥è·¯ç”±å™¨çš„æ‰€æœ‰è®¾å¤‡(æœ‰çº¿/æ— çº¿)éƒ½ä¼šæ ¹æ®<strong>æµé‡è§„åˆ™</strong>è‡ªè¡Œå†³å®šæ˜¯å¦ç¿»å¢™</li><li>åœ¨ <code>è·¯ç”±ç¿»å¢™æ’ä»¶</code> é‡Œï¼Œè®¾ç½® <code>åè®®è§„åˆ™</code>ï¼š<ul><li><code>TCP</code>: ä½¿ç”¨ <code>v2ray</code> åè®®ï¼Œä¸Šç½‘é€Ÿåº¦å¿«ï¼›</li><li><code>UDP</code>: ä½¿ç”¨ <code>ss</code> åè®®ï¼Œç©æ¸¸æˆç¨³å®š(ä¸Šç½‘é€Ÿåº¦æ…¢)</li></ul></li></ul><p><strong>Tips</strong>ï¼šä¹‹æ‰€ä»¥ <code>UDP</code> ä½¿ç”¨ <code>ss</code> è€Œä¸ä½¿ç”¨ <code>v2ray</code>ï¼Œå› ä¸º <code>v2ray</code> ä¸é€‚åˆä½œä¸º<strong>æ¸¸æˆçš„æµé‡åè®®</strong>ï¼Œ<code>v2ray</code> è¿›è¡Œäº†å¤šæ¬¡æµé‡è½¬æ¢ï¼Œç½‘ç»œç±»å‹å¾ˆå·®ï¼Œæ¯”å¦‚åœ¨ <code>switch</code> é‡Œï¼š</p><ul><li><code>UDP</code> ä½¿ç”¨ <code>ss</code> æ—¶ï¼š<code>NAT</code> ç±»å‹ä¸º<strong>A</strong>ï¼Œç½‘ç»œè´¨é‡æœ€å¥½</li><li><code>UDP</code> ä½¿ç”¨ <code>v2ray</code> æ—¶ï¼š<code>NAT</code> ç±»å‹ä¸º<strong>D</strong>ï¼Œç½‘ç»œè´¨é‡éå¸¸å·®ï¼ŒåŸºæœ¬ä¸èƒ½è”æœº</li></ul><p>Okï¼Œç†è®ºæ–¹æ¡ˆå·²ç»ç¡®å®šï¼Œæ¥ä¸‹æ¥å°±æ˜¯å®è·µå¼€å§‹ï½</p><h5 id="ç¡¬è·¯ç”±å°è¯•"><a href="#ç¡¬è·¯ç”±å°è¯•" class="headerlink" title="ç¡¬è·¯ç”±å°è¯•"></a>ç¡¬è·¯ç”±å°è¯•</h5><p>æœ€å¼€å§‹æ˜¯ç›´æ¥å°è¯•ç”¨ç¡¬è·¯ç”±åˆ· <code>æ¢…æ—å›ºä»¶</code>ã€<code>è€æ¯›å­å›ºä»¶</code> ç­‰ï¼Œä½†ç¡¬è·¯ç”±é…ç½®å¤ªä½ï¼Œåˆ·äº†ç³»ç»Ÿåè·‘ä¸èµ·æ¥ï¼Œæœ€åå†³å®š<strong>ç›´ æ¥ ä¸Š è½¯è·¯ç”±ï¼ï¼</strong></p><h5 id="è½¯è·¯ç”±"><a href="#è½¯è·¯ç”±" class="headerlink" title="è½¯è·¯ç”±"></a>è½¯è·¯ç”±</h5><p>è½¯è·¯ç”±é€‰æ‹©äº†å…¥é—¨çº§çš„ <code>r2s</code> ï¼Œå› ä¸ºæ€§ä»·æ¯”æé«˜ï¼Œåªè¦200å—å°±è¡Œï¼Œæ€§èƒ½ä¹Ÿå¤Ÿï¼Œè€Œä¸”ä½“ç§¯éå¸¸å°ï¼Œå¾ˆæ–¹ä¾¿ï½</p><p>ç„¶åå°±æ˜¯å¸¸è§„æ“ä½œäº†ï¼Œåˆ·å›ºä»¶ï¼Œé…ç½® <code>passwall</code>ï¼Œé€‰æ‹©ä»£ç†æ¨¡å¼ï¼š</p><ul><li><code>TCP</code>: <code>v2ray</code> åè®®ï¼Œé»˜è®¤æ¨¡å¼ä¸º <code>ä¸­å›½å¤§é™†ä»¥å¤–</code></li><li><code>UDP</code>: <code>ss</code> åè®®ï¼Œé»˜è®¤æ¨¡å¼ä¸º <code>æ¸¸æˆæ¨¡å¼</code></li></ul><p>å®¶åº­ç½‘ç»œé‡‡ç”¨ <code>ä¸»è·¯ç”±</code> çš„è¿æ¥æ–¹å¼ï¼š</p><ul><li><code>å…‰çŒ«</code> -&gt; <code>è½¯è·¯ç”±</code> -&gt; <code>ç¡¬è·¯ç”±</code>(ä½œä¸º<strong>è·¯ç”±å™¨</strong>) -&gt; <code>å¤šä¸ªè®¾å¤‡ABCDE</code></li><li><code>è½¯è·¯ç”±</code> ä¸­ä½¿ç”¨ <code>passwall</code> æ’ä»¶è¿›è¡Œ<strong>è·¯ç”±ç¿»å¢™</strong></li><li><code>ç¡¬è·¯ç”±</code> ä¸­è¿›è¡Œ <code>IP</code> ä¸ <code>MAC</code> ç»‘å®šï¼Œ<code>wifi</code> å‘å°„ï¼Œ<code>å¤šä¸ªè®¾å¤‡ABCDE</code> çš„ <code>è¿æ¥é™åˆ¶</code>ã€<code>ç½‘ç»œé™åˆ¶</code>ç­‰åŠŸèƒ½</li></ul><p><img src="/images/hn-before.png" alt="å®¶åº­ç½‘ç»œå‰" style="zoom:40%"></p><p>åˆ°æ­¤ä¸ºæ­¢ï¼Œä¹‹å‰çš„éœ€æ±‚éƒ½æ»¡è¶³äº†ï¼Œå®Œç¾ï¼</p><h3 id="å‡çº§ä¹‹æ—…-äºŒ"><a href="#å‡çº§ä¹‹æ—…-äºŒ" class="headerlink" title="å‡çº§ä¹‹æ—…(äºŒ)"></a>å‡çº§ä¹‹æ—…(äºŒ)</h3><p>ä¹‹åçš„æ—¶é—´ä¸€ç›´éƒ½è¿è¡Œå®Œç¾ï¼Œç›´åˆ°å…¥æ‰‹äº† <code>å–·å–·(å–·å°„æˆ˜å£«2)</code>â€¦.</p><h4 id="æ–°çš„ç—›ç‚¹"><a href="#æ–°çš„ç—›ç‚¹" class="headerlink" title="æ–°çš„ç—›ç‚¹"></a>æ–°çš„ç—›ç‚¹</h4><p>ä¹‹å‰æœ‰è¯´è¿‡ï¼Œç½‘é¡µéƒ½èµ° <code>TCP</code> çš„ <code>v2ray</code> åè®®ï¼Œç½‘é€Ÿå¿«ï¼Œæ¸¸æˆ<strong>éƒ½</strong>èµ° <code>UDP</code> çš„ <code>ss</code> åè®®ï¼Œç½‘ç»œç¨³å®šã€‚</p><p>ä½†æ˜¯ï¼Œ<code>å–·å–·</code> æ˜¯ä¸ªç‰¹ä¾‹â€¦.. è¿™æ¸¸æˆä¼š<strong>åŒæ—¶</strong>èµ° <code>TCP</code> å’Œ <code>UDP</code> åè®®ï¼Œè€Œä¸”å¯¹ç½‘ç»œè¦æ±‚æé«˜ï¼Œ<code>NAT</code> å¿…é¡»æ˜¯ <code>B</code> ä»¥ä¸Šã€‚æ¢å¥è¯è¯´å°±æ˜¯ï¼Œç© <code>å–·å–·</code> çš„æ—¶å€™ï¼Œ<strong><code>TCP</code> ä¹Ÿè¦è®¾ç½®æˆ <code>ss</code> åè®®</strong>ã€‚ã€‚ã€‚ã€‚</p><p>é‚£ä¹ˆï¼Œæ–°é—®é¢˜æ¥äº†ï¼Œç© <code>å–·å–·</code> çš„æ—¶å€™è®¾ç½®æˆ <code>ss</code> åè®®ï¼Œç©å®Œåæ”¹å› <code>v2ray</code> åè®®ï¼Ÿ</p><p>ä¸è¡Œï½ï½ è¿™æ ·å¤ªéº»çƒ¦äº†â€¦..</p><p>æ‰€ä»¥â€¦æœ‰æ–¹æ³•èƒ½è§£å†³ä¸Šé¢çš„é—®é¢˜å—ï¼ŸğŸ¤”ï¸</p><h4 id="æ–¹æ¡ˆ"><a href="#æ–¹æ¡ˆ" class="headerlink" title="æ–¹æ¡ˆ"></a>æ–¹æ¡ˆ</h4><p>ç»è¿‡å¤§é‡çš„æŸ¥é˜…èµ„æ–™ï¼Œå‘ç°äº†ä¸€ç§å¯è¡Œçš„æ–¹æ¡ˆï¼š</p><ul><li><code>passwall</code> é‡Œè®¾ç½®2ä¸ª <code>TCP</code> åè®®ï¼Œåˆ†åˆ«æ˜¯ <code>TCP1</code> -&gt; <code>v2ray</code> å’Œ <code>TCP2</code> -&gt; <code>ss</code></li><li>é»˜è®¤è®¾ç½®ä¸º <code>TCP1</code></li><li><strong>é‡ç‚¹</strong>ï¼š åœ¨ <code>è®¿é—®æ§åˆ¶</code> é‡Œï¼Œé€šè¿‡ <code>IP</code> æˆ– <code>MAC</code> åŒ¹é…åˆ° <code>switch</code>ï¼Œç„¶åè®¾ç½®ä¸º <code>TCP2</code></li></ul><p>æŒ‰ç†æ¥è¯´è¿™æ ·åº”è¯¥å°±å¯è¡Œäº†ã€‚ä½†æ˜¯ï¼Œæ–°çš„é—®é¢˜åˆå‡ºç°äº†ï¼Œå½“å‰ <code>ä¸»è·¯ç”±</code> æ¨¡å¼ä¸‹ï¼Œ<code>è½¯è·¯ç”±</code> åªèƒ½è·å– <code>ç¡¬è·¯ç”±</code> çš„ <code>IP</code> å’Œ <code>MAC</code>ï¼Œ è€Œ <code>è®¾å¤‡ABCDE</code> çš„ <code>IP</code> å’Œ <code>MAC</code> åˆåªèƒ½åœ¨ <code>ç¡¬è·¯ç”±</code> ä¸­è·å–ï¼Œè€Œä¸” <code>è½¯è·¯ç”±r2s</code> åªæœ‰ä¸€ä¸ª <code>LAN</code> å£ï¼Œä¸èƒ½åŒæ—¶æ¥å¤šä¸ª <code>è®¾å¤‡ABCDE</code>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>r2s</code> ä¸èƒ½è¯†åˆ«åˆ° <code>switch</code>ï¼Œè¿›è€Œä¸èƒ½ç”¨ <code>è®¿é—®æ§åˆ¶</code> æ¥è®¾ç½®ä¸º <code>TCP2</code> äº†â€¦</p><p>ç„¶åæˆ‘åˆæƒ³åˆ°äº†<strong>äº¤æ¢æœº</strong>çš„ <code>ä¸­ç»§AP</code> æ¨¡å¼ï¼Œæ­£å¥½å®Œç¾è§£å†³å½“å‰çš„é—®é¢˜äº†â€¦..</p><p>å…¶å®å°±æ˜¯æŠŠä¹‹å‰ <code>ä¸»è·¯ç”±</code> æ¨¡å¼ä¸‹çš„ <code>ç¡¬è·¯ç”±</code>ï¼Œä» <code>è·¯ç”±å™¨</code> æ”¹ä¸º <code>äº¤æ¢æœº</code> çš„åŠŸèƒ½ï¼Œè¿™æ · <code>ç¡¬è·¯ç”±</code> å°±ç›¸å½“äºä¸€ä¸ª <code>hub</code> ç±»ä¼¼çš„åŠŸèƒ½ï¼Œä¸æä¾›å®é™… <code>IP</code> å’Œ <code>MAC</code>ï¼Œåªæä¾›<strong>åˆ†æµ</strong>åŠŸèƒ½ï¼ŒæŠŠ <code>è½¯è·¯ç”±</code> <code>LAN</code> å‡ºæ¥çš„æµé‡ç›´æ¥ç»™å¯¹åº”çš„ <code>è®¾å¤‡ABCDE</code>ï¼Œè€Œä¸”è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>è½¯è·¯ç”±</code> å¯ä»¥ç›´æ¥è·å–åˆ° <code>è®¾å¤‡ABCDE</code> çš„ <code>IP</code> å’Œ <code>MAC</code>ï¼Œè¿›è€Œå°±èƒ½é€šè¿‡ <code>è®¿é—®æ§åˆ¶</code> è®¾ç½® <code>switch</code> çš„ <code>TCP</code> äº†</p><p><strong>æ–°çš„å®¶åº­ç½‘ç»œè¿æ¥æ–¹å¼</strong></p><p><img src="/images/hn-after.png" alt="8txA7M_20210120171154" style="zoom:40%"></p><p><strong>passwallç›¸å…³é…ç½®</strong></p><p><img src="/images/hn-1.jpeg" alt="IPä¸Macç»‘å®š" style="zoom:30%"></p><p><img src="/images/hn-2.jpeg" alt="passwall é»˜è®¤åè®®" style="zoom:33%"></p><p><img src="/images/hn-3.jpeg" alt="passwall é»˜è®¤ä»£ç†æ¨¡å¼" style="zoom:37%"></p><p><img src="/images/hn-4.jpeg" alt="è®¿é—®æ§åˆ¶"></p><p>è¿™æ ·é…ç½®åï¼Œä¸Šé¢çš„é—®é¢˜å°±å®Œç¾è§£å†³å•¦ï½</p><h4 id="å‰©ä½™é—®é¢˜"><a href="#å‰©ä½™é—®é¢˜" class="headerlink" title="å‰©ä½™é—®é¢˜"></a>å‰©ä½™é—®é¢˜</h4><p>ç†è®ºä¸Šè®²ï¼Œä¸Šé¢çš„æ–¹æ¡ˆé…ç½®æ­£ç¡®çš„è¯ï¼Œåº”è¯¥æ˜¯å¯è¡Œçš„ã€‚</p><p>ä½†å®é™…å‘ç°ï¼Œ<code>è®¿é—®æ§åˆ¶</code> è¿™ä¸ªåŠŸèƒ½å¹¶æ²¡æœ‰ç”Ÿæ•ˆã€‚<del>ç½‘ä¸ŠæŸ¥æ‰¾èµ„æ–™åå‘ç°ï¼Œè²Œä¼¼æ˜¯æ–°ç‰ˆæœ¬ <code>passwall</code> æœ‰è¿™ä¸ªé—®é¢˜ï¼Œæ—§ç‰ˆæœ¬å°±æ²¡æœ‰â€¦.</del></p><p>ç„¶åå§â€¦ç»™ä½œè€…æäº†ä¸ª <a href="https://github.com/xiaorouji/openwrt-passwall/issues/887" target="_blank" rel="noopener">issue</a> ï¼Œç­‰å¾…å¤§ä½¬çš„ä¿®å¤â€¦..</p><p><strong>2021.01.24 æ›´æ–°</strong></p><p>ä½œè€…å›å¤äº†ï¼Œå¤‡æ³¨é‡Œä¸èƒ½æœ‰ç©ºæ ¼â€¦.</p><p>ç„¶åè¯•äº†ä¸‹ï¼Œæœç„¶å°±å¯ä»¥äº†â€¦â€¦ä¹‹å‰è¿˜å‡çº§ <code>å›ºä»¶</code>ã€<code>passwall</code> ç‰ˆæœ¬æŠ˜è…¾äº†å¥½ä¹…ã€‚ã€‚ã€‚ã€‚</p><p>å¦å¤–å†åæ§½ä¸‹ï¼Œ<code>switch</code> çš„ <code>wifi</code> æ€§èƒ½<strong>çœŸæ˜¯è¾£é¸¡!!</strong>ï¼Œæ—¶ä¸æ—¶çš„æ¥ä¸€æ¬¡æ‰çº¿â€¦..</p><p>æœ€åè¿˜æ˜¯ä¹°äº† <code>usbç½‘ç»œäº¤æ¢å™¨</code> æœ‰çº¿è¿ <code>switch</code> â€¦</p><p>PSï¼šæ³¨æ„åŒæ—¶å…¼å®¹ <code>æœ‰çº¿æ¨¡å¼</code> å’Œ <code>æ— çº¿æ¨¡å¼</code> ï½ï½</p><p><img src="/images/hn-5.jpeg" alt="è®¿é—®æ§åˆ¶"></p><h3 id="æœ€ç»ˆæˆæœ"><a href="#æœ€ç»ˆæˆæœ" class="headerlink" title="æœ€ç»ˆæˆæœ"></a>æœ€ç»ˆæˆæœ</h3><p>ç»è¿‡è¿™æ¬¡å‡çº§åï¼Œå®¶é‡Œçš„ç½‘ç»œæ›´åŠ æ™ºèƒ½å•¦ï½</p><p>å¯ä»¥æ ¹æ®è§„åˆ™æŒ‡å®š <code>æŸäº›è®¾å¤‡</code> èµ° <code>æŒ‡å®šçš„åè®®</code>ï¼Œè€Œä¸ä¼šå¯¹ä¸»ç½‘ç»œ(é»˜è®¤ <code>v2ray</code> çš„ <code>TCP</code> åè®®)æœ‰å½±å“ã€‚æ¯”å¦‚ <code>switch</code> ï¼Œ å¯ä»¥æŒ‡å®šå…¨ç¨‹èµ° <code>ss</code> åè®®ï¼Œç„¶å</p><p>å°±å¯ä»¥æ„‰å¿«çš„ <code>å–·å–·</code> å•¦ï½ ğŸ˜Š</p><p><img src="/images/hn-splatoon.jpg" alt="splatoon_2 å–·å–·"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä½ é—®æˆ‘(ä¸€)åœ¨å“ªé‡Œï¼Ÿå…¶å®å¹¶æ²¡æœ‰å†™ï¼Œå› ä¸ºæˆ‘æ‡’ã€‚ã€‚ã€‚ã€‚ã€‚(å°å£°bb)&lt;/p&gt;&lt;p&gt;é‚£ä¹ˆ(ä¸€)æ˜¯ä»€ä¹ˆå‘¢ï¼Œç®€å•æ¥è¯´å°±æ˜¯åŠ äº†ä¸ªè½¯è·¯ç”± &lt;code&gt;r2s&lt;/code&gt;ï¼Œç”¨ &lt;code&gt;ä¸»è·¯ç”±&lt;/code&gt; çš„æ¨¡å¼å®ç°äº†è·¯ç”±ç¿»å¢™ï½&lt;/p&gt;&lt;h3 id=&quot;å‡çº§ä¹‹æ—…-ä¸€&quot;&gt;&lt;a href=&quot;#å‡çº§ä¹‹æ—…-ä¸€&quot; class=&quot;headerlink&quot; title=&quot;å‡çº§ä¹‹æ—…(ä¸€)&quot;&gt;&lt;/a&gt;å‡çº§ä¹‹æ—…(ä¸€)&lt;/h3&gt;&lt;h4 id=&quot;ç—›ç‚¹&quot;&gt;&lt;a href=&quot;#ç—›ç‚¹&quot; class=&quot;headerlink&quot; title=&quot;ç—›ç‚¹&quot;&gt;&lt;/a&gt;ç—›ç‚¹&lt;/h4&gt;&lt;ul&gt;&lt;li&gt;æ¯ä¸ªè®¾å¤‡å‡ºå›½ç•™å­¦éƒ½è¦å¼€ç›¸åº”çš„è½¯ä»¶ï¼š&lt;code&gt;Windows&lt;/code&gt; -&amp;gt; &lt;code&gt;v2rayN&lt;/code&gt;ï¼Œ&lt;code&gt;Mac&lt;/code&gt; -&amp;gt; &lt;code&gt;v2rayU&lt;/code&gt;ï¼Œ&lt;code&gt;ios&lt;/code&gt; -&amp;gt; &lt;code&gt;shadowRocket&lt;/code&gt;&lt;/li&gt;&lt;li&gt;PCä¸Šä»£ç†æ¸¸æˆæµé‡è¿˜å¾—å•ç‹¬å¼€ &lt;code&gt;proxifier&lt;/code&gt; è½¯ä»¶ï¼Œå‚è€ƒä¹‹å‰å†™çš„ä¸€ç‰‡æ–‡ç«  &lt;a href=&quot;https://jian2333.github.io/2019/09/10/sstovpn/&quot;&gt;ss + proxifier å®ç°vpnæ¸¸æˆä»£ç†&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;code&gt;switch&lt;/code&gt; è”ç½‘å¾—é€šè¿‡å…±äº« &lt;code&gt;wifi&lt;/code&gt; çš„æ–¹å¼ï¼Œä¸€ç›´å¼€ç€ &lt;code&gt;PC&lt;/code&gt; æˆ–è€… &lt;code&gt;iphone&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;ç§ç§çš„ä¸ä¾¿å¤§å¤§é™ä½äº†ç”¨æˆ·ä½“éªŒï¼Œå°¤å…¶æ˜¯ç© &lt;code&gt;switch&lt;/code&gt; çš„æ—¶å€™ï¼Œæ¯æ¬¡éƒ½è¦ç‰¹æ„å¼€ &lt;code&gt;PC&lt;/code&gt; æˆ– &lt;code&gt;iphone&lt;/code&gt; æŒ‚ç€ï¼Œå®åœ¨æ˜¯ä¸æ–¹ä¾¿äº†ï½&lt;/p&gt;&lt;p&gt;é‚£ä¹ˆï¼Œæœ‰ä»€ä¹ˆæ–¹æ³•èƒ½ä¸€èµ·è§£å†³ä¸Šé¢çš„é—®é¢˜å‘¢ï¼Ÿ&lt;/p&gt;
    
    </summary>
    
      <category term="ä¸€èµ·å“ˆå•¤" scheme="http://jian2333.github.io/categories/%E4%B8%80%E8%B5%B7%E5%93%88%E5%95%A4/"/>
    
    
      <category term="v2ray" scheme="http://jian2333.github.io/tags/v2ray/"/>
    
      <category term="vpn" scheme="http://jian2333.github.io/tags/vpn/"/>
    
      <category term="ç§‘å­¦ä¸Šç½‘" scheme="http://jian2333.github.io/tags/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/"/>
    
  </entry>
  
  <entry>
    <title>ä¸­åå°ç³»ç»Ÿä¹‹mbs-cliè„šæ‰‹æ¶é›†æˆ</title>
    <link href="http://jian2333.github.io/2021/01/06/my-cli/"/>
    <id>http://jian2333.github.io/2021/01/06/my-cli/</id>
    <published>2021-01-06T14:52:14.000Z</published>
    <updated>2021-09-08T02:57:31.370Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ä¸€èˆ¬ï¼Œæˆ‘ä»¬çŸ¥é“"><a href="#ä¸€èˆ¬ï¼Œæˆ‘ä»¬çŸ¥é“" class="headerlink" title="ä¸€èˆ¬ï¼Œæˆ‘ä»¬çŸ¥é“"></a>ä¸€èˆ¬ï¼Œæˆ‘ä»¬çŸ¥é“</h3><p><img src="/images/mc-1.jpg" alt></p><h3 id="ä¸ºä»€ä¹ˆéœ€è¦è„šæ‰‹æ¶ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦è„šæ‰‹æ¶ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦è„šæ‰‹æ¶ï¼Ÿ"></a>ä¸ºä»€ä¹ˆéœ€è¦è„šæ‰‹æ¶ï¼Ÿ</h3><ol><li>å‡å°‘é‡å¤æ€§çš„å·¥ä½œï¼Œä¸å†éœ€è¦å¤åˆ¶å…¶ä»–é¡¹ç›®å†åˆ é™¤æ— å…³ä»£ç ï¼Œæˆ–è€…ä»é›¶åˆ›å»ºä¸€ä¸ªé¡¹ç›®å’Œæ–‡ä»¶ã€‚</li><li>æ ¹æ®äº¤äº’åŠ¨æ€ç”Ÿæˆé¡¹ç›®ç»“æ„å’Œé…ç½®æ–‡ä»¶ï¼Œå…·å¤‡æ›´é«˜çš„çµæ´»æ€§å’Œäººæ€§åŒ–å®šåˆ¶çš„èƒ½åŠ›ã€‚</li><li>å¤šäººåä½œæ›´ä¸ºæ–¹ä¾¿ï¼Œé¿å…äº†äººå·¥ä¼ é€’æ–‡ä»¶çš„ç¹çã€‚</li><li>é›†æˆäº’è”ç½‘ä¸Šçš„æ¨¡æ¿ï¼Œæ–¹ä¾¿è‡ªå·±ä¸ä»–äººä½¿ç”¨ã€‚</li></ol><a id="more"></a><h4 id="è„šæ‰‹æ¶å·¥ä½œæµ"><a href="#è„šæ‰‹æ¶å·¥ä½œæµ" class="headerlink" title="è„šæ‰‹æ¶å·¥ä½œæµ"></a>è„šæ‰‹æ¶å·¥ä½œæµ</h4><p><img src="/images/mc-2.jpg" alt></p><h4 id="è„šæ‰‹æ¶é—®ç­”æµ"><a href="#è„šæ‰‹æ¶é—®ç­”æµ" class="headerlink" title="è„šæ‰‹æ¶é—®ç­”æµ"></a>è„šæ‰‹æ¶é—®ç­”æµ</h4><p><img src="/images/mc-3.jpg" alt></p><h3 id="å¦‚ä½•æ­å»ºä¸€ä¸ªè„šæ‰‹æ¶"><a href="#å¦‚ä½•æ­å»ºä¸€ä¸ªè„šæ‰‹æ¶" class="headerlink" title="å¦‚ä½•æ­å»ºä¸€ä¸ªè„šæ‰‹æ¶"></a>å¦‚ä½•æ­å»ºä¸€ä¸ªè„šæ‰‹æ¶</h3><p><img src="/images/mc-4.jpg" alt></p><h4 id="ç¬¬ä¸‰æ–¹åº“çš„æ”¯æŒ"><a href="#ç¬¬ä¸‰æ–¹åº“çš„æ”¯æŒ" class="headerlink" title="ç¬¬ä¸‰æ–¹åº“çš„æ”¯æŒ"></a>ç¬¬ä¸‰æ–¹åº“çš„æ”¯æŒ</h4><p><img src="/images/mc-5.jpg" alt></p><h4 id="æ­å»ºæ­¥éª¤"><a href="#æ­å»ºæ­¥éª¤" class="headerlink" title="æ­å»ºæ­¥éª¤"></a>æ­å»ºæ­¥éª¤</h4><h5 id="1ã€åˆå§‹åŒ–é¡¹ç›®"><a href="#1ã€åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="1ã€åˆå§‹åŒ–é¡¹ç›®"></a>1ã€åˆå§‹åŒ–é¡¹ç›®</h5><p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªç©ºé¡¹ç›®ï¼Œå‘½åä¸º <strong>mbs-cli</strong> ï¼Œç„¶åæ–°å»ºä¸€ä¸ª <strong>bin/mbs</strong> æ–‡ä»¶ï¼Œå†æ‰§è¡Œ <code>npm init</code> ç”Ÿæˆä¸€ä¸ª <code>package.json</code> æ–‡ä»¶ã€‚æœ€åå®‰è£…ä¸Šé¢éœ€è¦ç”¨åˆ°çš„ä¾èµ–ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir mbs-cli &amp;&amp; <span class="built_in">cd</span> mbs-cli</span><br><span class="line">mkdir bin &amp;&amp; <span class="built_in">cd</span> bin &amp;&amp; touch mbs &amp;&amp; <span class="built_in">cd</span> ../ &amp;&amp; npm init</span><br><span class="line">npm install commander download-git-repo inquirer handlebars ora chalk <span class="built_in">log</span>-symbols cli-table -S</span><br></pre></td></tr></table></figure><h5 id="2ã€å¤„ç†å‘½ä»¤è¡Œ"><a href="#2ã€å¤„ç†å‘½ä»¤è¡Œ" class="headerlink" title="2ã€å¤„ç†å‘½ä»¤è¡Œ"></a>2ã€å¤„ç†å‘½ä»¤è¡Œ</h5><p><strong>node.js</strong> å†…ç½®äº†å¯¹å‘½ä»¤è¡Œæ“ä½œçš„æ”¯æŒï¼Œåœ¨ <code>package.json</code> ä¸­çš„ <code>bin</code> å­—æ®µå¯ä»¥å®šä¹‰å‘½ä»¤åå’Œå…³è”çš„æ‰§è¡Œæ–‡ä»¶ã€‚</p><p>åœ¨ <code>package.json</code> ä¸­åŠ ä¸Š <code>bin</code> çš„å†…å®¹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"mbs-cli"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">"ä¸­åå°ç³»ç»Ÿè„šæ‰‹æ¶"</span>,</span><br><span class="line">  <span class="attr">"bin"</span>: &#123;</span><br><span class="line">    <span class="attr">"mbs"</span>: <span class="string">"bin/mbs"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é¦–å…ˆåœ¨ <code>mbs</code> æ–‡ä»¶ä¸­å¼•å…¥ç›¸å…³ä¾èµ–æ¨¡å—ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env node</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; existsSync &#125; = <span class="built_in">require</span>(<span class="string">'fs'</span>) <span class="comment">// ç³»ç»Ÿå†…ç½®æ¨¡å— ä¸»è¦ç”¨æ¥æ“ä½œæ–‡ä»¶</span></span><br><span class="line"><span class="keyword">const</span> program = <span class="built_in">require</span>(<span class="string">'commander'</span>) <span class="comment">// è‡ªåŠ¨çš„è§£æå‘½ä»¤å’Œå‚æ•°ï¼Œç”¨äºå¤„ç†ç”¨æˆ·è¾“å…¥çš„å‘½ä»¤</span></span><br><span class="line"><span class="keyword">const</span> chalk = <span class="built_in">require</span>(<span class="string">'chalk'</span>) <span class="comment">// ç»™ç»ˆç«¯çš„å­—ä½“åŠ ä¸Šé¢œè‰²</span></span><br><span class="line"><span class="keyword">const</span> symbols = <span class="built_in">require</span>(<span class="string">'log-symbols'</span>) <span class="comment">// åœ¨ç»ˆç«¯ä¸Šæ˜¾ç¤ºå‡º âœ”ï¸ æˆ–è€… âœ˜ ç­‰çš„å›¾æ ‡</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; resolve &#125; = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="keyword">const</span> res = <span class="function"><span class="params">command</span> =&gt;</span> resolve(__dirname, <span class="string">'../commands/'</span>, command)</span><br></pre></td></tr></table></figure><p>ç„¶åç¼–å†™nodejså¤„ç†é€»è¾‘ï¼Œå…·ä½“ç”¨æ³•è§ä¸‹ã€‚</p><h4 id="nodejsä¾èµ–æ¨¡å—ä»‹ç»ä¸ç”¨æ³•"><a href="#nodejsä¾èµ–æ¨¡å—ä»‹ç»ä¸ç”¨æ³•" class="headerlink" title="nodejsä¾èµ–æ¨¡å—ä»‹ç»ä¸ç”¨æ³•"></a>nodejsä¾èµ–æ¨¡å—ä»‹ç»ä¸ç”¨æ³•</h4><h5 id="commanderï¼ˆæŒ‡æŒ¥å®˜ï¼‰"><a href="#commanderï¼ˆæŒ‡æŒ¥å®˜ï¼‰" class="headerlink" title="commanderï¼ˆæŒ‡æŒ¥å®˜ï¼‰"></a>commanderï¼ˆæŒ‡æŒ¥å®˜ï¼‰</h5><p>è‡ªåŠ¨åœ°è§£æå‘½ä»¤å’Œå‚æ•°ï¼Œç”¨äºå¤„ç†ç”¨æˆ·è¾“å…¥çš„å‘½ä»¤</p><ul><li>usage(): è®¾ç½®usageå€¼ï¼Œè‡ªå®šä¹‰å¸®åŠ©ä¿¡æ¯</li><li>command(): å®šä¹‰ä¸€ä¸ªå‘½ä»¤åå­—</li><li>description(): è®¾ç½® descriptionå€¼</li><li>option(): å®šä¹‰å‚æ•°ï¼Œéœ€è¦è®¾ç½®ã€Œå…³é”®å­—ã€å’Œ ã€Œæè¿°ã€ï¼Œå…³é”®å­—åŒ…æ‹¬ã€Œç®€å†™ã€å’Œã€Œå…¨å†™ã€ä¸¤éƒ¨åˆ†ï¼Œä»¥ <code>,</code>ã€<code>|</code>ã€<code>ç©ºæ ¼</code> åšåˆ†éš”</li><li>parse(): è§£æå‘½ä»¤è¡Œå‚æ•° <code>argv</code></li><li>version(): ç»ˆç«¯è¾“å‡ºç‰ˆæœ¬å·</li></ul><p><strong>å®šä¹‰å¸¸è§„å‘½ä»¤ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰å¸¸è§„å‘½ä»¤</span></span><br><span class="line">program.usage(<span class="string">'&lt;command&gt;'</span>)</span><br><span class="line">program.version(<span class="built_in">require</span>(<span class="string">'../package'</span>).version)</span><br></pre></td></tr></table></figure><p><strong>initå‘½ä»¤é€»è¾‘</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// init å‘½ä»¤é€»è¾‘</span></span><br><span class="line">program</span><br><span class="line">  .command(<span class="string">'init &lt;name&gt;'</span>)</span><br><span class="line">  .description(<span class="string">'Generate a new project'</span>)</span><br><span class="line">  .alias(<span class="string">'i'</span>)</span><br><span class="line">  .action(<span class="function">(<span class="params">name</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!existsSync(name)) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(name)</span><br><span class="line">      <span class="built_in">require</span>(res(<span class="string">'init'</span>))</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// é”™è¯¯æç¤ºé¡¹ç›®å·²å­˜åœ¨ï¼Œé¿å…è¦†ç›–åŸæœ‰é¡¹ç›®</span></span><br><span class="line">      <span class="built_in">console</span>.log(symbols.error, chalk.red(<span class="string">'Project already exists'</span>))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure><p><strong>å¤„ç†ç”¨æˆ·è¾“å…¥å‘½ä»¤</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// init å‘½ä»¤é€»è¾‘</span></span><br><span class="line">program</span><br><span class="line">  .command(<span class="string">'init &lt;name&gt;'</span>)</span><br><span class="line">  .description(<span class="string">'Generate a new project'</span>)</span><br><span class="line">  .alias(<span class="string">'i'</span>)</span><br><span class="line">  .action(<span class="function">(<span class="params">name</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!existsSync(name)) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(name)</span><br><span class="line">      <span class="built_in">require</span>(res(<span class="string">'init'</span>))</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// é”™è¯¯æç¤ºé¡¹ç›®å·²å­˜åœ¨ï¼Œé¿å…è¦†ç›–åŸæœ‰é¡¹ç›®</span></span><br><span class="line">      <span class="built_in">console</span>.log(symbols.error, chalk.red(<span class="string">'Project already exists'</span>))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure><p><strong>æœ€åå¤„ç†è§£æå‘½ä»¤è¡Œå‚æ•°</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">program.parse(process.argv)</span><br><span class="line"><span class="comment">// program.parse: è§£æå‘½ä»¤ä¹‹ä¸­çš„å‚æ•°ï¼Œæ ¹æ®ä¸Šé¢å®šä¹‰å¥½çš„è§„åˆ™æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line"><span class="comment">// process: ä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼Œæ§åˆ¶æœ‰å…³ä¿¡æ¯ï¼Œæ§åˆ¶node.jsçš„è¿›ç¨‹</span></span><br><span class="line"><span class="comment">// process.argv: è¯¥å±æ€§è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„åŒ…å«äº†å¯åŠ¨node.jsè¿›ç¨‹æ—¶çš„å‘½ä»¤è¡Œå‚æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!program.args.length) &#123;</span><br><span class="line">  program.help()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="inquirerï¼ˆè¯¢é—®è€…ï¼‰"><a href="#inquirerï¼ˆè¯¢é—®è€…ï¼‰" class="headerlink" title="inquirerï¼ˆè¯¢é—®è€…ï¼‰"></a>inquirerï¼ˆè¯¢é—®è€…ï¼‰</h5><p>é€šç”¨çš„å‘½ä»¤è¡Œç”¨æˆ·ç•Œé¢é›†åˆï¼Œç”¨äºå’Œç”¨æˆ·è¿›è¡Œäº¤äº’ã€‚ç”±äºäº¤äº’çš„é—®é¢˜ç§ç±»ä¸åŒï¼Œ<code>inquirer</code> ä¸ºæ¯ä¸ªé—®é¢˜æä¾›å¾ˆå¤šå‚æ•°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">type: è¡¨ç¤ºæé—®çš„ç±»å‹ï¼ŒåŒ…æ‹¬ï¼šinput, confirm, list, rawlist, expand, checkbox, password, editor;</span><br><span class="line">name: å­˜å‚¨å½“å‰é—®é¢˜å›ç­”çš„å˜é‡;</span><br><span class="line">message: é—®é¢˜çš„æè¿°ï¼›</span><br><span class="line">default: é»˜è®¤å€¼;</span><br><span class="line">choices: åˆ—è¡¨é€‰é¡¹ï¼Œåœ¨æŸäº›typeä¸‹å¯ç”¨ï¼Œå¹¶ä¸”åŒ…å«ä¸€ä¸ªåˆ†éš”ç¬¦(separator)ï¼›</span><br><span class="line">validate: å¯¹ç”¨æˆ·çš„å›ç­”è¿›è¡Œæ ¡éªŒâ€˜</span><br><span class="line">filter: å¯¹ç”¨æˆ·çš„å›ç­”è¿›è¡Œè¿‡æ»¤å¤„ç†ï¼Œè¿”å›å¤„ç†åçš„å€¼;</span><br><span class="line">when: æ ¹æ®å‰é¢é—®é¢˜çš„å›ç­”ï¼Œåˆ¤æ–­å½“å‰é—®é¢˜æ˜¯å¦éœ€è¦è¢«å›ç­”ï¼›</span><br><span class="line">prefix: ä¿®æ”¹messageé»˜è®¤å‰ç¼€ï¼›</span><br><span class="line">suffix: ä¿®æ”¹messageé»˜è®¤åç¼€ï¼›</span><br></pre></td></tr></table></figure><p><strong>è¯­æ³•ç»“æ„</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> inquirer = <span class="built_in">require</span>(<span class="string">'inquirer'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> promptList = [</span><br><span class="line">  <span class="comment">// å…·ä½“äº¤äº’å†…å®¹</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">inquirer.prompt(promptList).then(<span class="function"><span class="params">answers</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(answers) <span class="comment">// è¿”å›çš„ç»“æœ</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><strong>inputç±»å‹</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promptList1 = [</span><br><span class="line">  &#123;</span><br><span class="line">    type: <span class="string">'input'</span>,</span><br><span class="line">    name: <span class="string">'author'</span>,</span><br><span class="line">    message: <span class="string">'è¯·è¾“å…¥ä½œè€…åç§°'</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœ</strong></p><p><img src="/images/mc-6.jpg" alt></p><p><strong>confirmç±»å‹</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promptList2 = [</span><br><span class="line">  &#123;</span><br><span class="line">    type: <span class="string">'confirm'</span>,</span><br><span class="line">    name: <span class="string">'watch'</span>,</span><br><span class="line">    message: <span class="string">'æ˜¯å¦ä½¿ç”¨ç›‘å¬ï¼Ÿ'</span>,</span><br><span class="line">    prefix: <span class="string">'å‰ç¼€'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    type: <span class="string">'confirm'</span>,</span><br><span class="line">    name: <span class="string">'filter'</span>,</span><br><span class="line">    message: <span class="string">'æ˜¯å¦ä½¿ç”¨è¿‡æ»¤ï¼Ÿ'</span>,</span><br><span class="line">    when: <span class="function"><span class="keyword">function</span> (<span class="params">answers</span>) </span>&#123; <span class="comment">// å½“watchä¸ºtureæ—¶æ‰ä¼šæç¤ºå½“å‰é—®é¢˜</span></span><br><span class="line">      <span class="keyword">return</span> answers.watch</span><br><span class="line">    &#125;,</span><br><span class="line">    suffix: <span class="string">'åç¼€'</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœ</strong></p><p><img src="/images/mc-7.jpg" alt></p><p><strong>listç±»å‹</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promptList3 = [</span><br><span class="line">  &#123;</span><br><span class="line">    type: <span class="string">'list'</span>,</span><br><span class="line">    message: <span class="string">'è¯·é€‰æ‹©ä¸€ç§æ°´æœï¼š'</span>,</span><br><span class="line">    name: <span class="string">'fruit'</span>,</span><br><span class="line">    choices: [</span><br><span class="line">      <span class="string">'Apple'</span>,</span><br><span class="line">      <span class="string">'Pear'</span>,</span><br><span class="line">      <span class="string">'Banana'</span></span><br><span class="line">    ],</span><br><span class="line">    filter: <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123; <span class="comment">// ä½¿ç”¨ filter å°†å›ç­”å˜ä¸ºå°å†™</span></span><br><span class="line">      <span class="keyword">return</span> val.toLowerCase()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœ</strong></p><p><img src="/images/mc-8.jpg" alt></p><h5 id="download-git-repo"><a href="#download-git-repo" class="headerlink" title="download-git-repo"></a>download-git-repo</h5><p><code>download-git-repo</code> æ”¯æŒä» <code>Github</code> ã€<code>Gitlab</code>ã€<code>Bitbucket</code> ä¸‹è½½ä»“åº“</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">download(repository, destination, options, callback)</span><br></pre></td></tr></table></figure><p><strong>repository</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- GitHub - github:owner/name or simply owner/name</span><br><span class="line">- GitLab - gitlab:owner/name</span><br><span class="line">- Bitbucket - bithucket:owner/name</span><br><span class="line">- Direct - direct:url:branch</span><br></pre></td></tr></table></figure><p><strong>destination</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The file path to download the repository to. xxxxxxxxx</span><br></pre></td></tr></table></figure><p><strong>options</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">boolean default false - if true use git clone instead of an http download. </span><br><span class="line">while this can be a bit slower, it does allow private repositories to be used </span><br><span class="line">if the appropriate SSH keys are setup.</span><br></pre></td></tr></table></figure><p><strong>callback</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The callback function as function (err).</span><br></pre></td></tr></table></figure><h5 id="oraï¼ˆloadingåŠ¨æ•ˆï¼‰"><a href="#oraï¼ˆloadingåŠ¨æ•ˆï¼‰" class="headerlink" title="oraï¼ˆloadingåŠ¨æ•ˆï¼‰"></a>oraï¼ˆloadingåŠ¨æ•ˆï¼‰</h5><p>ç”¨äºæ˜¾ç¤ºä¸‹è½½ä¸­çš„åŠ¨ç”»æ•ˆæœ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ora = <span class="built_in">require</span>(<span class="string">'ora'</span>)</span><br><span class="line"><span class="keyword">const</span> spinner = ora(<span class="string">'æ­£åœ¨ä¸‹è½½æ¨¡æ¿...'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼€å§‹ä¸‹è½½</span></span><br><span class="line">spinner.start()</span><br><span class="line"><span class="comment">// ä¸‹è½½æˆåŠŸ</span></span><br><span class="line">spinner.succeed(<span class="string">'æ¨¡æ¿ä¸‹è½½æˆåŠŸï¼'</span>)</span><br><span class="line"><span class="comment">// ä¸‹è½½å¤±è´¥</span></span><br><span class="line">spinner.faild(<span class="string">'æ¨¡æ¿ä¸‹è½½å¤±è´¥ï¼'</span>)</span><br></pre></td></tr></table></figure><p><img src="/images/mc-9.jpg" alt></p><h5 id="chalkï¼ˆå­—ä½“é¢œè‰²ï¼‰"><a href="#chalkï¼ˆå­—ä½“é¢œè‰²ï¼‰" class="headerlink" title="chalkï¼ˆå­—ä½“é¢œè‰²ï¼‰"></a>chalkï¼ˆå­—ä½“é¢œè‰²ï¼‰</h5><p>é€šè¿‡ <code>chalk</code> æ¥ä¸ºæ‰“å°ä¿¡æ¯åŠ ä¸Šæ ·å¼ï¼Œæ¯”å¦‚æˆåŠŸä¿¡æ¯ä¸ºç»¿è‰²ï¼Œå¤±è´¥ä¿¡æ¯ä¸ºçº¢è‰²ã€‚è¿™æ ·å­ä¼šè®©ç”¨æˆ·æ›´åŠ å®¹æ˜“è¾¨è®¤ï¼ŒåŒæ—¶ä¹Ÿè®©ç»ˆç«¯çš„æ˜¾ç¤ºæ›´åŠ å¥½çœ‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> chalk = <span class="built_in">require</span>(<span class="string">'chalk'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(chalk.green(<span class="string">'é¡¹ç›®åˆ›å»ºæˆåŠŸ'</span>))</span><br><span class="line"><span class="built_in">console</span>.log(chalk.red(<span class="string">'é¡¹ç›®åˆ›å»ºå¤±è´¥'</span>))</span><br></pre></td></tr></table></figure><h5 id="log-symbolsï¼ˆæ—¥å¿—ç¬¦å·ï¼‰"><a href="#log-symbolsï¼ˆæ—¥å¿—ç¬¦å·ï¼‰" class="headerlink" title="log-symbolsï¼ˆæ—¥å¿—ç¬¦å·ï¼‰"></a>log-symbolsï¼ˆæ—¥å¿—ç¬¦å·ï¼‰</h5><p>ä½¿ç”¨ <code>log-symbols</code> åœ¨ä¿¡æ¯å‰é¢åŠ ä¸Š âœ”ï¸ æˆ–è€… âœ˜ ç­‰çš„å›¾æ ‡ï¼Œä¼˜åŒ–è§†è§‰ä½“éªŒï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(symbols.success, chalk.green(<span class="string">'New project has been initialize successfully!'</span>))</span><br></pre></td></tr></table></figure><p><img src="/images/mc-10.jpg" alt></p><h5 id="handlebars"><a href="#handlebars" class="headerlink" title="handlebars"></a>handlebars</h5><p><code>handlebars</code> å¯ä»¥å¯¹ä»“åº“çš„æ¨¡æ¿ä¸­çš„ <code>package.json</code> æ–‡ä»¶åšä¸€äº›åŠ¨æ€ä¿®æ”¹ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"&#123;&#123;name&#125;&#125;"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">"&#123;&#123;description&#125;&#125;"</span>,</span><br><span class="line">  <span class="attr">"bin"</span>: &#123;</span><br><span class="line">    <span class="attr">"mbs"</span>: <span class="string">"bin/mbs"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">"index.js"</span>,</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"author"</span>: <span class="string">"&#123;&#123;author&#125;&#125;"</span>,</span><br><span class="line">  <span class="attr">"license"</span>: <span class="string">"ISC"</span>,</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¹¶åœ¨ä¸‹è½½æ¨¡æ¿å®Œæˆä¹‹åå°†ç”¨æˆ·è¾“å…¥çš„ç­”æ¡ˆæ¸²æŸ“åˆ° <code>package.json</code> ä¸­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; readFileSync, writeFileSync &#125;  = <span class="built_in">require</span>(<span class="string">'fs'</span>)</span><br><span class="line"><span class="keyword">const</span> handlebars = <span class="built_in">require</span>(<span class="string">'handlebars'</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reWrite</span> (<span class="params">name, answers</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> filename = <span class="string">'./package.json'</span></span><br><span class="line">  <span class="keyword">const</span> meta = &#123;</span><br><span class="line">    name,</span><br><span class="line">    description: answers.description,</span><br><span class="line">    author: answers.author</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> content = readFileSync(filename).toString()</span><br><span class="line">  <span class="keyword">const</span> result = handlebars.compile(content)(meta)</span><br><span class="line">  writeFileSync(filename, result)</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// æˆ–è€…æ·»åŠ å…¶ä»–ä¾èµ–åŒ…</span></span><br><span class="line">  <span class="keyword">const</span> content = readFileSync(filename, <span class="string">'utf-8'</span>)</span><br><span class="line">  <span class="keyword">const</span> obj = <span class="built_in">JSON</span>.parse(content)</span><br><span class="line">  obj.dependencies[<span class="string">'echart'</span>] = <span class="string">'^0.1.3'</span></span><br><span class="line">  <span class="keyword">const</span> result = handlebars.compile(<span class="built_in">JSON</span>.stringify(obj, <span class="literal">null</span>, <span class="number">2</span>))(meta)</span><br><span class="line">  writeFileSync(filename, result)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="cli-table"><a href="#cli-table" class="headerlink" title="cli-table"></a>cli-table</h5><p>è¡¨æ ¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Table = <span class="built_in">require</span>(<span class="string">'cli-table'</span>)</span><br><span class="line"><span class="keyword">const</span> template = <span class="built_in">require</span>(<span class="string">`<span class="subst">$&#123;__dirname&#125;</span>/../templates.json`</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> table = <span class="keyword">new</span> Table(&#123;</span><br><span class="line">  head: [<span class="string">'Template Name'</span>, <span class="string">'Branch'</span>, <span class="string">'Url                                '</span>],</span><br><span class="line">  style: &#123;</span><br><span class="line">    head: [<span class="string">'green'</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ æ•°æ®</span></span><br><span class="line">table.push([<span class="string">'template1'</span>, <span class="string">'branch1'</span>, <span class="string">'url1'</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ˜¾ç¤ºæ•°æ®</span></span><br><span class="line"><span class="built_in">console</span>.log(table.toString())</span><br></pre></td></tr></table></figure><p><img src="/images/mc-11.jpg" alt></p><h5 id="shelljs"><a href="#shelljs" class="headerlink" title="shelljs"></a>shelljs</h5><p>æ‰§è¡Œå‘½ä»¤è¡Œå‘½ä»¤ <code>cd path &amp;&amp; npm i</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> shell = <span class="built_in">require</span>(<span class="string">'shelljs'</span>)</span><br><span class="line"></span><br><span class="line">shell.cd(meta.name)</span><br><span class="line">shell.exec(<span class="string">'npm i'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">err, stdout, stderr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">    spinner.fail()</span><br><span class="line">    <span class="built_in">console</span>.log(symbols.error, chalk.red(err))</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    spinner.succeed()</span><br><span class="line">    <span class="built_in">console</span>.log(</span><br><span class="line">      symbols.success,</span><br><span class="line">      chalk.green(<span class="string">'The object has installed dependence successfully!'</span>)</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="msb-cliè„šæ‰‹æ¶"><a href="#msb-cliè„šæ‰‹æ¶" class="headerlink" title="msb-cliè„šæ‰‹æ¶"></a>msb-cliè„šæ‰‹æ¶</h3><h4 id="mbs-cliå·¥ä½œæµ"><a href="#mbs-cliå·¥ä½œæµ" class="headerlink" title="mbs-cliå·¥ä½œæµ"></a>mbs-cliå·¥ä½œæµ</h4><p><img src="/images/mc-12.jpg" alt></p><h4 id="mbs-cliç›®å½•ç»“æ„"><a href="#mbs-cliç›®å½•ç»“æ„" class="headerlink" title="mbs-cliç›®å½•ç»“æ„"></a>mbs-cliç›®å½•ç»“æ„</h4><p><img src="/images/mc-13.jpg" alt></p><h4 id="mbs-cliæ ¸å¿ƒå‘½ä»¤"><a href="#mbs-cliæ ¸å¿ƒå‘½ä»¤" class="headerlink" title="mbs-cliæ ¸å¿ƒå‘½ä»¤"></a>mbs-cliæ ¸å¿ƒå‘½ä»¤</h4><p><img src="/images/mc-14.jpg" alt></p><h3 id="æœ¬åœ°npmæ¨¡å—è°ƒè¯•"><a href="#æœ¬åœ°npmæ¨¡å—è°ƒè¯•" class="headerlink" title="æœ¬åœ°npmæ¨¡å—è°ƒè¯•"></a>æœ¬åœ°npmæ¨¡å—è°ƒè¯•</h3><h4 id="å¼€å¯è°ƒè¯•æ¨¡å¼"><a href="#å¼€å¯è°ƒè¯•æ¨¡å¼" class="headerlink" title="å¼€å¯è°ƒè¯•æ¨¡å¼"></a>å¼€å¯è°ƒè¯•æ¨¡å¼</h4><p><code>npm link</code> å¯ä»¥å°†å½“å‰ç›®å½• <code>./bin</code> æ–‡ä»¶å¤¹ä¸‹çš„ <code>npmåŒ…</code> é“¾æ¥åˆ°å…¨å±€æ‰§è¡Œç¯å¢ƒï¼Œä»è€Œåœ¨ä»»æ„ä½ç½®ä½¿ç”¨å‘½ä»¤è¡Œéƒ½å¯ä»¥ç›´æ¥è¿è¡Œè¯¥ <code>npmåŒ…</code></p><p><img src="/images/mc-15.jpg" alt></p><h4 id="å…³é—­è°ƒè¯•æ¨¡å¼"><a href="#å…³é—­è°ƒè¯•æ¨¡å¼" class="headerlink" title="å…³é—­è°ƒè¯•æ¨¡å¼"></a>å…³é—­è°ƒè¯•æ¨¡å¼</h4><p>åœ¨å½“å‰ç›®å½•ä¸‹æ‰§è¡Œ <code>npm unlink</code> å³å¯åˆ é™¤é“¾æ¥ç¬¦å·</p><p><img src="/images/mc-16.jpg" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;ä¸€èˆ¬ï¼Œæˆ‘ä»¬çŸ¥é“&quot;&gt;&lt;a href=&quot;#ä¸€èˆ¬ï¼Œæˆ‘ä»¬çŸ¥é“&quot; class=&quot;headerlink&quot; title=&quot;ä¸€èˆ¬ï¼Œæˆ‘ä»¬çŸ¥é“&quot;&gt;&lt;/a&gt;ä¸€èˆ¬ï¼Œæˆ‘ä»¬çŸ¥é“&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;/images/mc-1.jpg&quot; alt&gt;&lt;/p&gt;&lt;h3 id=&quot;ä¸ºä»€ä¹ˆéœ€è¦è„šæ‰‹æ¶ï¼Ÿ&quot;&gt;&lt;a href=&quot;#ä¸ºä»€ä¹ˆéœ€è¦è„šæ‰‹æ¶ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ä¸ºä»€ä¹ˆéœ€è¦è„šæ‰‹æ¶ï¼Ÿ&quot;&gt;&lt;/a&gt;ä¸ºä»€ä¹ˆéœ€è¦è„šæ‰‹æ¶ï¼Ÿ&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;å‡å°‘é‡å¤æ€§çš„å·¥ä½œï¼Œä¸å†éœ€è¦å¤åˆ¶å…¶ä»–é¡¹ç›®å†åˆ é™¤æ— å…³ä»£ç ï¼Œæˆ–è€…ä»é›¶åˆ›å»ºä¸€ä¸ªé¡¹ç›®å’Œæ–‡ä»¶ã€‚&lt;/li&gt;&lt;li&gt;æ ¹æ®äº¤äº’åŠ¨æ€ç”Ÿæˆé¡¹ç›®ç»“æ„å’Œé…ç½®æ–‡ä»¶ï¼Œå…·å¤‡æ›´é«˜çš„çµæ´»æ€§å’Œäººæ€§åŒ–å®šåˆ¶çš„èƒ½åŠ›ã€‚&lt;/li&gt;&lt;li&gt;å¤šäººåä½œæ›´ä¸ºæ–¹ä¾¿ï¼Œé¿å…äº†äººå·¥ä¼ é€’æ–‡ä»¶çš„ç¹çã€‚&lt;/li&gt;&lt;li&gt;é›†æˆäº’è”ç½‘ä¸Šçš„æ¨¡æ¿ï¼Œæ–¹ä¾¿è‡ªå·±ä¸ä»–äººä½¿ç”¨ã€‚&lt;/li&gt;&lt;/ol&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="webå‰ç«¯" scheme="http://jian2333.github.io/tags/web%E5%89%8D%E7%AB%AF/"/>
    
      <category term="nodejs" scheme="http://jian2333.github.io/tags/nodejs/"/>
    
      <category term="è„šæ‰‹æ¶" scheme="http://jian2333.github.io/tags/%E8%84%9A%E6%89%8B%E6%9E%B6/"/>
    
  </entry>
  
  <entry>
    <title>åŠ¨æ•ˆå°ç»“</title>
    <link href="http://jian2333.github.io/2020/11/16/animation/"/>
    <id>http://jian2333.github.io/2020/11/16/animation/</id>
    <published>2020-11-16T06:05:49.000Z</published>
    <updated>2020-11-16T08:24:55.866Z</updated>
    
    <content type="html"><![CDATA[<p>æ¥ä¸Šä¸€ç¯‡æ–‡ç« ï¼Œæœ€è¿‘uiä¼˜åŒ–åšçš„æ¯”è¾ƒå¤šï¼ŒåŠ¨æ•ˆä¼˜åŒ–ä¹Ÿæ˜¯å…¶ä¸­ä¸€éƒ¨åˆ†ã€‚</p><p>åŠ¨æ•ˆçš„å‡ ç§ä½¿ç”¨æ–¹å¼ä¹Ÿéƒ½å°è¯•è¿‡äº†ï¼Œæ‰€ä»¥å§ï¼Œåšä¸ªå°ç»“è®°å½•ä¸€ä¸‹ï½</p><h3 id="ä½¿ç”¨æ–¹å¼"><a href="#ä½¿ç”¨æ–¹å¼" class="headerlink" title="ä½¿ç”¨æ–¹å¼"></a>ä½¿ç”¨æ–¹å¼</h3><ul><li>æ‰‹å†™åŠ¨æ•ˆ<ul><li><code>css</code> å†™æ³•</li><li><code>vue</code> å†™æ³•</li></ul></li><li>ç¬¬ä¸‰æ–¹åŠ¨æ•ˆåº“<ul><li><code>animejs</code></li><li><code>lottie</code></li></ul></li></ul><a id="more"></a><h3 id="æ‰‹å†™åŠ¨æ•ˆ"><a href="#æ‰‹å†™åŠ¨æ•ˆ" class="headerlink" title="æ‰‹å†™åŠ¨æ•ˆ"></a>æ‰‹å†™åŠ¨æ•ˆ</h3><p>æ‰‹å†™åŠ¨æ•ˆï¼Œä½¿ç”¨ <code>css</code> æ¥æè¿°æ ·å¼ï¼Œé€‚ç”¨äºè¾ƒç®€å•çš„åŠ¨æ•ˆ</p><h4 id="css-å†™æ³•"><a href="#css-å†™æ³•" class="headerlink" title="css å†™æ³•"></a>css å†™æ³•</h4><ul><li>åˆ¶å®šçˆ¶å…ƒç´ çš„ <code>transition</code> å±æ€§åï¼Œå­å…ƒç´ çš„ <strong>show</strong> å’Œ <strong>hide</strong> éƒ½ä¼šæœ‰åŠ¨æ•ˆï¼Œå¦‚æœåªåœ¨å­å…ƒç´ é‡Œå†™ <code>transition</code> (æ¯”å¦‚<code>hover</code>)ï¼Œåˆ™åªåœ¨ <strong>show</strong> çš„æ—¶å€™æœ‰åŠ¨æ•ˆ</li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transition" target="_blank" rel="noopener"><code>transition</code></a> ï¼šè¦æ˜¾ç¤ºçš„åŠ¨æ•ˆç±»å‹ï¼Œæ—¶é—´ï¼ŒæŒç»­æ˜¾ç¤ºæ–¹å¼ â€“ <code>all/transform/ç­‰</code>ï¼Œ<code>1000ms/s</code>ï¼Œ<code>ease/ease-in-out/linear/ç­‰</code></li><li>å…·ä½“æ ·å¼ï¼šåŒ…æ‹¬ <code>opacity</code>ã€<code>translate</code>ã€<code>scale</code>ã€<code>rotate</code> ç­‰ã€‚</li></ul><p><strong>Demo</strong></p><p><img src="/images/ani-1.gif" alt></p><p><strong>ç›¸å…³ä»£ç </strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span> @<span class="attr">click</span>=<span class="string">"clickIcon"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bg"</span> <span class="attr">:style</span>=<span class="string">"bgStyles"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"sp"</span>&gt;</span>&#123;&#123;title&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.title</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">500</span>;</span><br><span class="line">  <span class="selector-class">.bg</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="variable">@bg-r</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="variable">@bg-r</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">0.5s</span> ease;</span><br><span class="line">    <span class="selector-tag">&amp;</span>+<span class="selector-class">.sp</span> &#123;</span><br><span class="line">      <span class="attribute">transition</span>: all <span class="number">0.3s</span> ease-in-out;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">      <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">0</span> rgba(<span class="number">0</span>, <span class="number">154</span>, <span class="number">255</span>, <span class="number">0.5</span>);</span><br><span class="line">      <span class="attribute">transform</span>: scale(<span class="number">1.2</span>);</span><br><span class="line">      <span class="selector-tag">&amp;</span>+<span class="selector-class">.sp</span> &#123;</span><br><span class="line">        <span class="attribute">color</span>: <span class="number">#009AFF</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Vue-å†™æ³•"><a href="#Vue-å†™æ³•" class="headerlink" title="Vue å†™æ³•"></a><a href="https://cn.vuejs.org/v2/guide/transitions.html" target="_blank" rel="noopener">Vue å†™æ³•</a></h4><p>å’Œä¼ ç»Ÿçš„ <code>css</code> å†™æ³•ä¸åŒï¼Œ<code>Vue</code> å†™æ³•å¤šäº†ä¸€ä¸ª <code>transition</code> å’Œ <code>transition-group</code> çš„å†™æ³•</p><ul><li>ä½¿ç”¨ <code>name=&#39;x&#39;</code> + <code>x-YYYY</code> çš„å†™æ³•æ¥æè¿°åŠ¨æ•ˆè¿‡ç¨‹</li><li>åªæœ‰åœ¨ç»„ä»¶åˆ‡æ¢çš„æ—¶å€™æ‰ä¼šè§¦å‘åŠ¨æ•ˆ<ul><li><code>v-if</code></li><li><code>v-show</code></li><li>åŠ¨æ€ç»„ä»¶</li><li>ç»„ä»¶æ ¹èŠ‚ç‚¹</li></ul></li><li>åŠ¨æ•ˆè¿‡ç¨‹<ul><li><code>x-enter</code>: åŠ¨æ•ˆå¼€å§‹å‰(<em>vue3 æ”¹ä¸º <code>x-enter-from</code></em>)</li><li><code>x-enter-active</code>: <strong>show</strong> åŠ¨æ•ˆç»“æŸå‰</li><li><code>x-leave-active</code>: <strong>hide</strong> åŠ¨æ•ˆå¼€å§‹å‰</li><li><code>x-leave-to</code>: åŠ¨æ•ˆç»“æŸå</li><li>æ­é…æ‰‹å†™çš„ <code>css</code> åŠ¨æ•ˆï¼Œå¯ä»¥å®ç°æ›´å¤šæ•ˆæœ</li></ul></li><li><code>transition-group</code><ul><li>å¿…é¡»æ˜¯å¤šä¸ªå­å…ƒç´ ï¼Œæ¯ä¸ªå­å…ƒç´ åŒ…å«å”¯ä¸€çš„ <code>key</code>ï¼Œ</li><li>å­å…ƒç´  <strong>show/hide</strong> åˆ‡æ¢æ˜¯æ— åŠ¨æ•ˆçš„ï¼Œä¸ºäº†æ·»åŠ å¹³æ»‘åŠ¨æ•ˆï¼Œå¯ä»¥ä½¿ç”¨ <code>x-move</code></li></ul></li></ul><p><strong>Demo</strong></p><p><img src="/images/ani-2.gif" alt></p><p><strong>ç›¸å…³ä»£ç </strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">transition-group</span> <span class="attr">name</span>=<span class="string">"g"</span> <span class="attr">tag</span>=<span class="string">"ul"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">"1"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-if</span>=<span class="string">"deviceData.type === '1'"</span> <span class="attr">class</span>=<span class="string">"formItem-height-12 l"</span> <span class="attr">key</span>=<span class="string">"2"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">FormItem</span> <span class="attr">prop</span>=<span class="string">"model"</span> <span class="attr">label</span>=<span class="string">"è®¾å¤‡ç±»å‹"</span> <span class="attr">:required</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Select</span> <span class="attr">v-model</span>=<span class="string">"deviceData.model"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Option</span></span></span><br><span class="line"><span class="tag">                <span class="attr">v-for</span>=<span class="string">"(item, index) in deviceType"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">:key</span>=<span class="string">"index"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">:value</span>=<span class="string">"item.key"</span></span></span><br><span class="line"><span class="tag">                &gt;</span>&#123;&#123;item.name&#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">Option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">Select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">FormItem</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">"3"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">"4"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">"5"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">transition-group</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…¶ä»–liä½ç½®ç§»åŠ¨æ—¶ï¼ŒåŠ¨æ•ˆå¹³æ»‘</span></span><br><span class="line"><span class="selector-class">.g-move</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">1s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è®¾å¤‡ç±»å‹ show/hide åŠ¨æ•ˆå˜åŒ–æ–¹å¼</span></span><br><span class="line"><span class="selector-class">.g-enter-active</span>, <span class="selector-class">.g-leave-active</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">432px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.g-enter</span>, <span class="selector-class">.g-leave-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">transform</span>: translateX(<span class="number">30px</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è®¾å¤‡ç±»å‹ åŠ¨æ•ˆå¹³æ»‘</span></span><br><span class="line"><span class="selector-class">.l</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">1s</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç¬¬ä¸‰æ–¹åŠ¨æ•ˆåº“"><a href="#ç¬¬ä¸‰æ–¹åŠ¨æ•ˆåº“" class="headerlink" title="ç¬¬ä¸‰æ–¹åŠ¨æ•ˆåº“"></a>ç¬¬ä¸‰æ–¹åŠ¨æ•ˆåº“</h3><p>ç¬¬ä¸‰æ–¹åº“åŠ¨æ•ˆï¼Œé€šè¿‡ <code>js</code> æ¥è°ƒç”¨ï¼Œé€‚ç”¨äºè¾ƒå¤æ‚çš„åŠ¨æ•ˆ</p><p>æœ¬æ¬¡ä¼˜åŒ–ä¸­ä½¿ç”¨åˆ°çš„ç¬¬ä¸‰æ–¹åº“æœ‰ <code>animejs</code> å’Œ <code>lottie</code></p><h4 id="animejs"><a href="#animejs" class="headerlink" title="animejs"></a><a href="http://animejs.com/" target="_blank" rel="noopener">animejs</a></h4><ul><li>ä½¿ç”¨ <code>js</code> å³å¯ç¼–å†™å¤æ‚çš„åŠ¨æ•ˆ</li><li><a href="https://animejs.com/documentation/#cssSelector" target="_blank" rel="noopener">ä½¿ç”¨æ–‡æ¡£</a></li></ul><p><strong>Demo</strong></p><p><img src="/images/ani-3.gif" alt></p><p><strong>ç›¸å…³ä»£ç </strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"login"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"login-top"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">ref</span>=<span class="string">"lott"</span> <span class="attr">class</span>=<span class="string">"lottie"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"user"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">import</span> anime <span class="keyword">from</span> <span class="string">'animejs/lib/anime.es'</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    mounted () &#123;</span><br><span class="line">      <span class="comment">// å¿…é¡»åœ¨mounted Domæ¸²æŸ“å</span></span><br><span class="line">      setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">this</span>.initAnime(), <span class="number">250</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      initAnime () &#123;</span><br><span class="line">        anime.timeline(&#123;<span class="attr">loop</span>: <span class="literal">false</span>&#125;)</span><br><span class="line">          .add(&#123;</span><br><span class="line">          targets: <span class="string">'.logo-img, .logo-vertical'</span>,</span><br><span class="line">          opacity: [<span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">          translateY: [<span class="string">'20px'</span>, <span class="number">0</span>],</span><br><span class="line">          duration: <span class="number">1000</span>,</span><br><span class="line">          easing: <span class="string">'easeOutCubic'</span></span><br><span class="line">        &#125;, <span class="number">0</span>)</span><br><span class="line">          .add(&#123;</span><br><span class="line">          targets: <span class="string">'.user'</span>,</span><br><span class="line">          opacity: [<span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">          translateY: [<span class="string">'-34%'</span>, <span class="string">'-44%'</span>],</span><br><span class="line">          duration: <span class="number">1000</span>,</span><br><span class="line">          easing: <span class="string">'easeOutCubic'</span></span><br><span class="line">        &#125;, <span class="number">0</span>)</span><br><span class="line">          .add(&#123;</span><br><span class="line">          targets: <span class="string">'.system-name .zh-cn, .system-name .en-us'</span>,</span><br><span class="line">          translateY: [<span class="string">'20px'</span>, <span class="number">0</span>],</span><br><span class="line">          opacity: [<span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">          duration: <span class="number">1000</span>,</span><br><span class="line">          easing: <span class="string">'easeOutCubic'</span></span><br><span class="line">        &#125;, <span class="number">0</span>)</span><br><span class="line">          .add(&#123;</span><br><span class="line">          targets: <span class="string">'.lottie'</span>,</span><br><span class="line">          opacity: <span class="number">1</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><h4 id="lottie"><a href="#lottie" class="headerlink" title="lottie"></a><a href="https://github.com/airbnb/lottie-web" target="_blank" rel="noopener">lottie</a></h4><p><code>lottie</code> æ˜¯ä¸€ç§è·¨å¹³å°çš„åŠ¨æ•ˆæ–¹æ¡ˆã€‚uiå°å§å§è®¾è®¡å¥½åŠ¨æ•ˆåï¼Œåˆ©ç”¨<a href="https://github.com/airbnb/lottie-web" target="_blank" rel="noopener">æ’ä»¶</a>å¯¼å‡º <code>json</code>ï¼Œç„¶åä½¿ç”¨ä¸åŒå¹³å°çš„ <code>lottie</code> + åŒä¸€ä»½ <code>json</code> æ–‡ä»¶ï¼Œå³å¯å®ç°ä¸åŒå¹³å°ä¸‹çš„ç›¸åŒåŠ¨æ•ˆï¼Œæå¤§çš„é™ä½äº†åŠ¨æ•ˆå¼€å‘çš„æˆæœ¬ã€‚</p><p><strong>Demo</strong></p><p><img src="/images/ani-4.gif" alt></p><p><strong>ç›¸å…³ä»£ç </strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ref</span>=<span class="string">"lott"</span> <span class="attr">class</span>=<span class="string">"lottie"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> lottie <span class="keyword">from</span> <span class="string">'lottie-web'</span></span><br><span class="line"><span class="keyword">import</span> loJson <span class="keyword">from</span> <span class="string">'../../static/images/login/login-lottie3.json'</span></span><br><span class="line"></span><br><span class="line">initLottie () &#123;</span><br><span class="line">  <span class="keyword">this</span>.anim = lottie.loadAnimation(&#123;</span><br><span class="line">    container: <span class="keyword">this</span>.$refs.lott,</span><br><span class="line">    renderer: <span class="string">'svg'</span>,</span><br><span class="line">    loop: <span class="literal">true</span>,</span><br><span class="line">    autoPlay: <span class="literal">true</span>,</span><br><span class="line">    animationData: loJson</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">this</span>.$emit(<span class="string">'animCreated'</span>, <span class="keyword">this</span>.anim)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å…¶ä»–èµ„æ–™"><a href="#å…¶ä»–èµ„æ–™" class="headerlink" title="å…¶ä»–èµ„æ–™"></a>å…¶ä»–èµ„æ–™</h3><p><a href="https://juejin.im/post/6844903830098804743" target="_blank" rel="noopener">å‰ç«¯åŠ¨æ•ˆåº“æ±‡æ€»</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ¥ä¸Šä¸€ç¯‡æ–‡ç« ï¼Œæœ€è¿‘uiä¼˜åŒ–åšçš„æ¯”è¾ƒå¤šï¼ŒåŠ¨æ•ˆä¼˜åŒ–ä¹Ÿæ˜¯å…¶ä¸­ä¸€éƒ¨åˆ†ã€‚&lt;/p&gt;&lt;p&gt;åŠ¨æ•ˆçš„å‡ ç§ä½¿ç”¨æ–¹å¼ä¹Ÿéƒ½å°è¯•è¿‡äº†ï¼Œæ‰€ä»¥å§ï¼Œåšä¸ªå°ç»“è®°å½•ä¸€ä¸‹ï½&lt;/p&gt;&lt;h3 id=&quot;ä½¿ç”¨æ–¹å¼&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨æ–¹å¼&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨æ–¹å¼&quot;&gt;&lt;/a&gt;ä½¿ç”¨æ–¹å¼&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;æ‰‹å†™åŠ¨æ•ˆ&lt;ul&gt;&lt;li&gt;&lt;code&gt;css&lt;/code&gt; å†™æ³•&lt;/li&gt;&lt;li&gt;&lt;code&gt;vue&lt;/code&gt; å†™æ³•&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;ç¬¬ä¸‰æ–¹åŠ¨æ•ˆåº“&lt;ul&gt;&lt;li&gt;&lt;code&gt;animejs&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code&gt;lottie&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="webå‰ç«¯" scheme="http://jian2333.github.io/tags/web%E5%89%8D%E7%AB%AF/"/>
    
      <category term="css" scheme="http://jian2333.github.io/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>ä¼ªå…ƒç´ çš„å¦™ç”¨</title>
    <link href="http://jian2333.github.io/2020/11/16/pseudo-element/"/>
    <id>http://jian2333.github.io/2020/11/16/pseudo-element/</id>
    <published>2020-11-16T02:46:22.000Z</published>
    <updated>2020-11-16T08:24:14.392Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘uiä¼˜åŒ–åšçš„æ¯”è¾ƒå¤šï¼Œæ ·å¼å†™ä¹…äº†ï¼Œè¶Šæ¥è¶Šè§‰å¾— <code>ä¼ªå…ƒç´ </code> æ˜¯çœŸçš„å¥½ç”¨ï¼Œå–„ç”¨ <code>ä¼ªå…ƒç´ </code> èƒ½æå¤§çš„æé«˜æ•ˆç‡ã€‚</p><p>ä¸‹é¢æ€»ç»“ä¸‹å‡ ç§å¸¸ç”¨çš„ä¼ªå…ƒç´ ç”¨æ³•ï¼š</p><ul><li>ä¸‰è§’å½¢</li><li>ä¸šåŠ¡åœºæ™¯ä¸‹çš„ä¸€äº›æ ·å¼</li><li>å‚ç›´å±…ä¸­</li></ul><a id="more"></a><h3 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h3><h4 id="ä¸‰è§’å½¢"><a href="#ä¸‰è§’å½¢" class="headerlink" title="ä¸‰è§’å½¢"></a>ä¸‰è§’å½¢</h4><p>åœ¨ <code>css</code> ä¸­ï¼Œ<code>borderè¾¹æ¡†</code> æ˜¯ç”±<strong>ä¸Šä¸‹å·¦å³å››ä¸ªä¸‰è§’å½¢</strong>ç»„æˆçš„ï¼Œæ‰€ä»¥ï¼Œ<strong>è®¾ç½® <code>border</code> è¾¹æ¡†ä¸º <code>transparent</code> ï¼Œå†è®¾ç½®è¦æ˜¾ç¤ºçš„ <code>border</code> é¢œè‰²</strong>ï¼Œ å³å¯ä»¥æ˜¾ç¤ºå‡ºä¸‰è§’å½¢ã€‚</p><ul><li>é€šè¿‡è®¾ç½®ä¸åŒçš„ <code>border</code> å’Œ <code>border-left</code> å®½åº¦ï¼Œå¯ä»¥ç”Ÿæˆä¸åŒæ•ˆæœçš„ä¸‰è§’å½¢</li><li>æ·»åŠ  <code>border-radius</code> ï¼Œ å¯ä»¥è®© <strong>ä¸‰è§’å½¢å˜æˆæ‰‡å½¢</strong></li></ul><p><strong>Demo</strong></p><p><img src="/images/pe-1.jpg" alt></p><p><strong>ç›¸å…³ä»£ç </strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pseudo"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"triangle1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"triangle2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"triangle3"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"triangle4"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.pseudo</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: repeat(auto-fill, <span class="number">120px</span>);</span><br><span class="line">  <span class="attribute">justify-items</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="selector-class">.triangle1</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">      <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">      <span class="attribute">border-top</span>: <span class="number">40px</span> solid green;</span><br><span class="line">      <span class="attribute">border-right</span>: <span class="number">40px</span> solid orange;</span><br><span class="line">      <span class="attribute">border-left</span>: <span class="number">40px</span> solid red;</span><br><span class="line">      <span class="attribute">border-bottom</span>: <span class="number">40px</span> solid blue;</span><br><span class="line">      <span class="attribute">position</span>: absolute;</span><br><span class="line">      <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">10px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.triangle2</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">      <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">      <span class="attribute">border</span>: <span class="number">40px</span> solid transparent;</span><br><span class="line">      <span class="attribute">border-left</span>: <span class="number">40px</span> solid red;</span><br><span class="line">      <span class="attribute">position</span>: absolute;</span><br><span class="line">      <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">10px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.triangle3</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">      <span class="attribute">content</span>: <span class="string">''</span></span><br><span class="line">      <span class="attribute">border</span>: <span class="number">40px</span> solid transparent;</span><br><span class="line">      <span class="attribute">border-left</span>: <span class="number">80px</span> solid red;</span><br><span class="line">      <span class="attribute">position</span>: absolute;</span><br><span class="line">      <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">10px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.triangle4</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">      <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">      <span class="attribute">border</span>: <span class="number">40px</span> solid transparent;</span><br><span class="line">      <span class="attribute">border-left</span>: <span class="number">40px</span> solid red;</span><br><span class="line">      <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">      <span class="attribute">position</span>: absolute;</span><br><span class="line">      <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">10px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä¸šåŠ¡åœºæ™¯"><a href="#ä¸šåŠ¡åœºæ™¯" class="headerlink" title="ä¸šåŠ¡åœºæ™¯"></a>ä¸šåŠ¡åœºæ™¯</h4><p>æœ€è¿‘çš„é¡¹ç›®ä¸­ï¼Œæœ‰ä¸ªéœ€æ±‚æ˜¯<strong>è‡ªé€‚åº”çš„æƒ…å†µä¸‹ï¼Œæ˜¾ç¤º5åˆ—å›¾æ ‡ï¼Œæ¯åˆ—ä¹‹é—´ç”¨ç®­å¤´è¿æ¥</strong>ã€‚</p><p>å•ç‹¬çš„å›¾æ ‡è‡ªé€‚åº”å¥½åšï¼Œ<code>flex</code> ã€ <code>grid</code> å¸ƒå±€éƒ½å¯ä»¥å®ç°ï¼Œä½†æ˜¯å›¾æ ‡é—´çš„ <code>è¿æ¥ç®­å¤´</code> å°±ä¸å¥½åšäº†ï¼Œå› ä¸º2ä¸ªå›¾æ ‡ä¹‹é—´çš„è·ç¦»ï¼Œæ˜¯ä¸å›ºå®šçš„â€¦.<strong>ä½†æ˜¯ï¼å¦‚æœç”¨ä¼ªå…ƒç´ ï¼Œè¿™ä¸ªé—®é¢˜å°±å¾ˆå®¹æ˜“è§£å†³äº†ï½</strong></p><p><strong>Tips:</strong></p><ul><li>1ä¸ª <code>å…ƒç´ </code> åªèƒ½æœ‰1ä¸ª <code>ä¼ªå…ƒç´ </code> ï¼Œå¦‚æœè¦ä½¿ç”¨å¤šä¸ª <code>ä¼ªå…ƒç´ </code> ï¼Œå°±å¾—ç”¨å¤šä¸ª <code>å…ƒç´ div</code></li><li><code>arrows-before.width</code> å®½åº¦å¤š <code>10px</code> ï¼Œæ˜¯ä¸ºäº†èƒ½å’Œ <code>arrows-after</code> é‡å ï¼Œè§†è§‰çœ‹èµ·æ¥è™šçº¿ä¸æ–­è£‚</li></ul><p><strong>Demo</strong></p><p><img src="/images/pe-2.jpg" alt></p><p><strong>ç›¸å…³ä»£ç </strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"home-menu"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">:class</span>=<span class="string">"[&#123;'arrows-after': arrowsAfter&#125;, &#123;'arrows-before': arrowsBefore&#125;]"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">:class</span>=<span class="string">"&#123;'arrows': arrowsBefore&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span> @<span class="attr">click</span>=<span class="string">"clickIcon"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bg"</span> <span class="attr">:style</span>=<span class="string">"bgStyles"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"sp"</span>&gt;</span>&#123;&#123;title&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"body"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">"(item, index) in values"</span> <span class="attr">:key</span>=<span class="string">"index"</span> <span class="attr">:class</span>=<span class="string">"bodyClass"</span> <span class="attr">:style</span>=<span class="string">"bodyStyle"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"value"</span>&gt;</span>&#123;&#123;item.value&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"name"</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span></span></span><br></pre></td></tr></table></figure><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@arrows-border:</span> <span class="number">#E6E6E6</span>;</span><br><span class="line"><span class="variable">@arrows-margin:</span> <span class="number">24px</span>;</span><br><span class="line"><span class="variable">@arrows-width:</span> <span class="number">8px</span>;</span><br><span class="line"><span class="variable">@bg-r:</span> <span class="number">60px</span>;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.arrows</span>(<span class="variable">@arrows-margin</span>) &#123;</span><br><span class="line">  <span class="selector-class">.arrows-before</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">    <span class="attribute">width</span>: calc(<span class="string">~'50% - @&#123;bg-r&#125; / 2 - @&#123;arrows-margin&#125; - @&#123;arrows-width&#125; + 10px'</span>);</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> dashed <span class="variable">@arrows-border</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: -<span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">30px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.arrows</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="variable">@arrows-width</span> / <span class="number">2</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="variable">@arrows-width</span> solid <span class="variable">@arrows-border</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: calc(<span class="string">~'50% - @&#123;bg-r&#125; / 2 - @&#123;arrows-margin&#125; - @&#123;arrows-width&#125;'</span>);</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">27px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.arrows-after</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">    <span class="attribute">width</span>: calc(<span class="string">~'50% - @&#123;bg-r&#125; / 2 - @&#123;arrows-margin&#125; + @&#123;arrows-width&#125;'</span>);</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> dashed <span class="variable">@arrows-border</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">right</span>: -<span class="variable">@arrows-width</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">30px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.arrows</span>(<span class="variable">@arrows-margin</span>);</span><br><span class="line"><span class="keyword">@media</span> only screen and (<span class="attribute">max-width</span>: <span class="number">1600px</span>) &#123;</span><br><span class="line">  <span class="variable">@arrows-margin:</span> <span class="number">12px</span>;</span><br><span class="line">  <span class="selector-class">.arrows</span>(<span class="variable">@arrows-margin</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å‚ç›´å±…ä¸­"><a href="#å‚ç›´å±…ä¸­" class="headerlink" title="å‚ç›´å±…ä¸­"></a>å‚ç›´å±…ä¸­</h4><p>å‚è€ƒä¹‹å‰å†™çš„ä¸€ç¯‡<a href="https://jian2333.github.io/2019/06/22/centered/">æ–‡ç« </a>ï¼Œåˆ©ç”¨ <code>çˆ¶å…ƒç´ </code> çš„ <code>ä¼ªå…ƒç´ </code> ï¼Œå¯ä»¥å®ç°å‚ç›´å±…ä¸­</p><p><strong>ç›¸å…³ä»£ç </strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"centered"</span>&gt;</span></span><br><span class="line">    æˆ‘æ˜¯å±…ä¸­æ–‡å­—</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> soild pink;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span>: &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.parent</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ä¼ªå…ƒç´ çš„ç”¨æ³•è¿˜æœ‰å¾ˆå¤šï¼Œç›®å‰å¸¸ç”¨çš„æš‚æ—¶å°±è¿™äº›ï¼Œå…¶ä»–ç”¨æ³•ç­‰ç”¨çš„å¤šåå†è®°å½•ä¸‹æ¥å§ï½</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€è¿‘uiä¼˜åŒ–åšçš„æ¯”è¾ƒå¤šï¼Œæ ·å¼å†™ä¹…äº†ï¼Œè¶Šæ¥è¶Šè§‰å¾— &lt;code&gt;ä¼ªå…ƒç´ &lt;/code&gt; æ˜¯çœŸçš„å¥½ç”¨ï¼Œå–„ç”¨ &lt;code&gt;ä¼ªå…ƒç´ &lt;/code&gt; èƒ½æå¤§çš„æé«˜æ•ˆç‡ã€‚&lt;/p&gt;&lt;p&gt;ä¸‹é¢æ€»ç»“ä¸‹å‡ ç§å¸¸ç”¨çš„ä¼ªå…ƒç´ ç”¨æ³•ï¼š&lt;/p&gt;&lt;ul&gt;&lt;li&gt;ä¸‰è§’å½¢&lt;/li&gt;&lt;li&gt;ä¸šåŠ¡åœºæ™¯ä¸‹çš„ä¸€äº›æ ·å¼&lt;/li&gt;&lt;li&gt;å‚ç›´å±…ä¸­&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="webå‰ç«¯" scheme="http://jian2333.github.io/tags/web%E5%89%8D%E7%AB%AF/"/>
    
      <category term="css" scheme="http://jian2333.github.io/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>typescript vue å®æˆ˜(1)</title>
    <link href="http://jian2333.github.io/2020/09/02/ts-in-vue-1/"/>
    <id>http://jian2333.github.io/2020/09/02/ts-in-vue-1/</id>
    <published>2020-09-02T06:57:46.000Z</published>
    <updated>2020-09-02T10:21:36.559Z</updated>
    
    <content type="html"><![CDATA[<p><code>typescript</code> å¯¹ <code>vue 2.x</code> çš„æ”¯æŒä¸æ˜¯å¾ˆå¥½ï¼Œä½†æˆ‘ä»¬è¿˜æ˜¯æœ‰å¿…è¦å­¦ä¹ ä¸€ä¸‹ã€‚</p><p>æœ¬æ–‡ä¼šåˆ—å‡º <code>vue</code> ä¸­å¸¸ç”¨åŠŸèƒ½åœ¨ <code>typescript</code> é‡Œçš„å†™æ³•ã€‚</p><h3 id="åŸºäºç±»çš„ç»„ä»¶"><a href="#åŸºäºç±»çš„ç»„ä»¶" class="headerlink" title="åŸºäºç±»çš„ç»„ä»¶"></a>åŸºäºç±»çš„ç»„ä»¶</h3><p>å•é¡µé¢æ˜¯ä»¥ç±»çš„å½¢å¼ä½¿ç”¨çš„ï¼Œæ‰€ä»¥ç”¨ <code>typescript</code> å®šä¹‰ <code>vue</code> åº”ä½¿ç”¨ä¸‹é¢çš„è¯­æ³•</p><ul><li>åœ¨ <code>script</code> é‡Œæ·»åŠ  <code>lang=&#39;ts&#39;</code></li><li>åœ¨ <code>Component</code>é‡Œå®šä¹‰ç»„ä»¶çš„ <code>name</code></li></ul><a id="more"></a><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">"ts"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; Component, Vue &#125; <span class="keyword">from</span> <span class="string">'vue-property-decorator'</span></span></span><br><span class="line"><span class="undefined">  @Component(&#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">'HelloTs'</span></span></span><br><span class="line"><span class="undefined">  &#125;)</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloTs</span> <span class="keyword">extends</span> <span class="title">Vue</span> </span>&#123;&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>javascript</code> çš„ä»£ç ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">'HelloTs'</span></span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="å¼•å…¥å…¶ä»–ç»„ä»¶"><a href="#å¼•å…¥å…¶ä»–ç»„ä»¶" class="headerlink" title="å¼•å…¥å…¶ä»–ç»„ä»¶"></a>å¼•å…¥å…¶ä»–ç»„ä»¶</h4><ul><li>ä½¿ç”¨ <code>import</code> å¼•å…¥å…¶ä»–ç»„ä»¶</li><li>åœ¨ <code>Component.components</code> é‡Œæ·»åŠ å¼•å…¥çš„ç»„ä»¶</li><li>åœ¨ <code>html</code> æ¨¡æ¿é‡Œä½¿ç”¨ç»„ä»¶</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Login</span>&gt;</span><span class="tag">&lt;/<span class="name">Login</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">"ts"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; Component, Vue &#125; <span class="keyword">from</span> <span class="string">'vue-property-decorator'</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> Login <span class="keyword">from</span> <span class="string">'@/components/Login.vue'</span></span></span><br><span class="line"><span class="undefined">  @Component(&#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">'HelloTs'</span>,</span></span><br><span class="line"><span class="undefined">    components: &#123;</span></span><br><span class="line"><span class="undefined">      Login</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;)</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloTs</span> <span class="keyword">extends</span> <span class="title">Vue</span> </span>&#123;&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="åŸºç¡€å±æ€§"><a href="#åŸºç¡€å±æ€§" class="headerlink" title="åŸºç¡€å±æ€§"></a>åŸºç¡€å±æ€§</h3><h4 id="data"><a href="#data" class="headerlink" title="data"></a>data</h4><ul><li>ç›´æ¥å®šä¹‰å³å¯ã€‚</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> HelloTs <span class="keyword">extends</span> Vue &#123;</span><br><span class="line">  <span class="keyword">public</span> name: <span class="built_in">string</span> = <span class="string">'Jane'</span></span><br><span class="line"><span class="keyword">public</span> age: <span class="built_in">number</span> = <span class="number">18</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="prop"><a href="#prop" class="headerlink" title="prop"></a>prop</h4><ul><li>ä½¿ç”¨ <code>import</code> å¼•å…¥ <code>Prop</code></li><li>åœ¨ <code>@Prop</code> è£…é¥°å™¨ä¸­æ·»åŠ å…¶ä»–å±æ€§</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component, Prop, Vue &#125; <span class="keyword">from</span> <span class="string">'vue-property-decorator'</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> HelloTs <span class="keyword">extends</span> Vue &#123;</span><br><span class="line">  <span class="meta">@Prop</span>()</span><br><span class="line">  <span class="keyword">public</span> name!: <span class="built_in">string</span></span><br><span class="line">  <span class="meta">@Prop</span>(&#123; required: <span class="literal">true</span>, <span class="keyword">type</span>: <span class="built_in">Number</span> &#125;)</span><br><span class="line"><span class="keyword">public</span> age!: <span class="built_in">Number</span></span><br><span class="line">  <span class="meta">@Prop</span>(&#123; required: <span class="literal">true</span>, <span class="keyword">type</span>: <span class="built_in">String</span>, <span class="keyword">default</span>: <span class="function">(<span class="params">x: <span class="built_in">string</span></span>) =&gt;</span> <span class="string">`China: <span class="subst">$&#123;x&#125;</span>`</span>&#125;)</span><br><span class="line"><span class="keyword">public</span> address!: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Computed"><a href="#Computed" class="headerlink" title="Computed"></a>Computed</h4><ul><li>ç›´æ¥ä½¿ç”¨ <code>get</code> è¿”å›</li><li>ä½¿ç”¨ <code>set</code> + <code>get</code> å®šä¹‰å¯ä¿®æ”¹çš„ <code>computed</code></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> HelloTs <span class="keyword">extends</span> Vue &#123;</span><br><span class="line">  <span class="keyword">public</span> name: <span class="built_in">string</span> = <span class="string">'Jane'</span></span><br><span class="line">  <span class="keyword">public</span> age: <span class="built_in">number</span> = <span class="number">18</span></span><br><span class="line">  <span class="comment">// Computed</span></span><br><span class="line">  <span class="keyword">get</span> sayHi (): <span class="built_in">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`hi <span class="subst">$&#123;this.name&#125;</span>`</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">get</span> showAge (): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.age + <span class="number">2</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">set</span> showAge (newAge: <span class="built_in">number</span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.age = newAge</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Methods"><a href="#Methods" class="headerlink" title="Methods"></a>Methods</h4><ul><li>ç›´æ¥å®šä¹‰</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component, Vue &#125; <span class="keyword">from</span> <span class="string">'vue-property-decorator'</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> HelloTs <span class="keyword">extends</span> Vue &#123;</span><br><span class="line">  <span class="keyword">public</span> name: <span class="built_in">string</span> = <span class="string">'Jane'</span></span><br><span class="line">  <span class="keyword">public</span> age: <span class="built_in">number</span> = <span class="number">18</span></span><br><span class="line">  <span class="keyword">public</span> sayHi (name: <span class="built_in">string</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`hi <span class="subst">$&#123;this.name&#125;</span>`</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Watchers"><a href="#Watchers" class="headerlink" title="Watchers"></a>Watchers</h4><ul><li><code>Watch</code> çš„ç”¨æ³•å’Œ <code>Javascript</code> ä¸­çš„ <code>handler</code> è¯­æ³•ç±»ä¼¼</li><li>ä½¿ç”¨ <code>import</code> å¯¼å…¥ <code>Watch</code></li><li>åœ¨ <code>Watch</code> è£…é¥°å™¨ä¸­æ·»åŠ  <code>ç›‘å¬å¯¹è±¡</code> å’Œå…¶ä»–å±æ€§</li><li>æ·»åŠ  <code>handler</code> æ–¹æ³•</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component, Watch, Vue &#125; <span class="keyword">from</span> <span class="string">'vue-property-decorator'</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> HelloTs <span class="keyword">extends</span> Vue &#123;</span><br><span class="line">  <span class="keyword">public</span> name: <span class="built_in">string</span> = <span class="string">'Jane'</span></span><br><span class="line">  <span class="keyword">public</span> age: <span class="built_in">number</span> = <span class="number">18</span></span><br><span class="line">  <span class="keyword">public</span> likes: object = &#123;</span><br><span class="line">    sport: <span class="string">'sing'</span>,</span><br><span class="line">    color: <span class="string">'blue'</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Watch</span>(<span class="string">'likes'</span>, &#123;</span><br><span class="line">    immediate: <span class="literal">true</span>,</span><br><span class="line">    deep: <span class="literal">true</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">public</span> likesChanged (): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.table(<span class="keyword">this</span>.likes)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Emit"><a href="#Emit" class="headerlink" title="Emit"></a>Emit</h4><ul><li>çˆ¶ç»„ä»¶æ¥å— <code>Emit</code> çš„å‚æ•°ä¸ºå­ç»„ä»¶ <code>returnçš„å€¼</code> + <code>Emitå‡½æ•°è‡ªèº«çš„å‚æ•°</code></li><li>ä½¿ç”¨ <code>import</code> å¯¼å…¥ <code>Emit</code></li><li>åœ¨ <code>Emit</code> è£…é¥°å™¨ä¸­æ·»åŠ  <code>this.$emit(&#39;xxx&#39;)</code> çš„æ–¹æ³•ï¼Œå¦‚æœªæ·»åŠ ï¼Œä½¿ç”¨ä¸‹é¢å®šä¹‰çš„å‡½æ•°A(ç”¨<code>-</code>åˆ†éš”)</li><li>æ‰§è¡Œå®Œå‡½æ•° <code>A</code> åä¼šè‡ªåŠ¨è°ƒç”¨ <code>this.$emit(&#39;A&#39;,params)</code> æ–¹æ³•</li><li>åœ¨çˆ¶ç»„ä»¶è°ƒç”¨ <code>Emit</code></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ./HelloTs.vue: å­ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> &#123; Component, Emit, Vue &#125; <span class="keyword">from</span> <span class="string">'vue-property-decorator'</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> HelloTs <span class="keyword">extends</span> Vue &#123;</span><br><span class="line">  <span class="keyword">public</span> name: <span class="built_in">string</span> = <span class="string">'Jane'</span></span><br><span class="line">  <span class="keyword">public</span> age: <span class="built_in">number</span> = <span class="number">18</span></span><br><span class="line"></span><br><span class="line">  <span class="meta">@Emit</span>(<span class="string">'addToCount'</span>)</span><br><span class="line">  <span class="keyword">public</span> addToCount (x: <span class="built_in">number</span>, y: <span class="built_in">number</span>, z:<span class="built_in">number</span>): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.table(&#123; x, y, z &#125;)</span><br><span class="line">    <span class="keyword">return</span> x + y + z</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">// ./Father.vue: çˆ¶ç»„ä»¶</span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">HelloTs</span> @<span class="attr">addToCount</span>=<span class="string">"addToCount"</span>&gt;</span><span class="tag">&lt;/<span class="name">HelloTs</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">"ts"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; Component, Vue &#125; <span class="keyword">from</span> <span class="string">'vue-property-decorator'</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> HelloTs <span class="keyword">from</span> <span class="string">'./HelloTs.vue'</span></span></span><br><span class="line"><span class="undefined">  @Component(&#123;</span></span><br><span class="line"><span class="undefined">    components: &#123;</span></span><br><span class="line"><span class="undefined">      HelloTs</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;)</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Father</span> <span class="keyword">extends</span> <span class="title">Vue</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">    public addToCount (total: number, <span class="attr">x</span>: number, <span class="attr">y</span>: number, <span class="attr">z</span>:number): <span class="keyword">void</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(&#123; total, x, y, z &#125;)</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="ç”Ÿå‘½å‘¨æœŸé’©å­"><a href="#ç”Ÿå‘½å‘¨æœŸé’©å­" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸé’©å­"></a>ç”Ÿå‘½å‘¨æœŸé’©å­</h3><ul><li>ç›´æ¥ä½¿ç”¨</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component, Vue &#125; <span class="keyword">from</span> <span class="string">'vue-property-decorator'</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> HelloTs <span class="keyword">extends</span> Vue &#123;</span><br><span class="line">  <span class="keyword">public</span> name: <span class="built_in">string</span> = <span class="string">'Jane'</span></span><br><span class="line">  <span class="keyword">public</span> age: <span class="built_in">number</span> = <span class="number">18</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> mounted () &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'HelloTs mounted ~'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Mixins"><a href="#Mixins" class="headerlink" title="Mixins"></a>Mixins</h3><ul><li><code>Mixins</code> æ–‡ä»¶ <code>extends Vue</code></li><li>å¼•å…¥æ–‡ä»¶ <code>extends Mixins</code></li></ul><h4 id="ç¼–å†™Mixins"><a href="#ç¼–å†™Mixins" class="headerlink" title="ç¼–å†™Mixins"></a>ç¼–å†™Mixins</h4><ul><li>æ–°å»º <code>mixin</code> æ–‡ä»¶å¤¹</li><li>æ–°å»º <code>ProjectMixin.ts</code> æ–‡ä»¶ï¼Œ</li><li>æ·»åŠ æ–‡ä»¶å†…å®¹ï¼Œå’Œ <code>.vue</code> ä¸­çš„ <code>&lt;script&gt;</code> æ ‡ç­¾å†…ä¸€æ ·</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @/mixin/ProjectMixin.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; Component, Vue &#125; <span class="keyword">from</span> <span class="string">'vue-property-decorator'</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">class</span> ProjectMixin <span class="keyword">extends</span> Vue &#123;</span><br><span class="line">  <span class="keyword">public</span> proName: <span class="built_in">string</span> = <span class="string">'My project'</span></span><br><span class="line">  <span class="keyword">public</span> setProjectName (newValue: <span class="built_in">string</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.proName = newValue</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'ä¿®æ”¹æˆåŠŸ'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">public</span> showProjectName (): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'proName: '</span>, <span class="keyword">this</span>.proName)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> ProjectMixin</span><br></pre></td></tr></table></figure><h4 id="å¼•å…¥Mixins"><a href="#å¼•å…¥Mixins" class="headerlink" title="å¼•å…¥Mixins"></a>å¼•å…¥Mixins</h4><ul><li>ä½¿ç”¨ <code>import</code> å¼•å…¥ <code>Mixins</code></li><li>å¼•å…¥ <code>Mixins</code> æ–‡ä»¶ <code>ProjectMixin.ts</code></li><li>ä¿®æ”¹ç»§æ‰¿ <code>extends Vue</code> ä¸º <code>extends Mixins(ProjectMixin)</code></li><li>è°ƒç”¨ <code>ProjectMixin.ts</code> ä¸­çš„å˜é‡å’Œæ–¹æ³•</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @/components/HelloTs.vue</span></span><br><span class="line"><span class="keyword">import</span> &#123; Component, Mixins &#125; <span class="keyword">from</span> <span class="string">'vue-property-decorator'</span></span><br><span class="line"><span class="keyword">import</span> ProjectMixin <span class="keyword">from</span> <span class="string">'@/mixin/ProjectMixin'</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> Father <span class="keyword">extends</span> Mixins(ProjectMixin) &#123;</span><br><span class="line">  <span class="keyword">public</span> mounted () &#123;</span><br><span class="line">    <span class="keyword">this</span>.showProjectName()</span><br><span class="line">    <span class="keyword">this</span>.setProjectName(<span class="string">'New Project Name'</span>)</span><br><span class="line">    <span class="keyword">this</span>.showProjectName()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h3><ul><li>åœ¨ <code>typescript</code> ä¸­ä½¿ç”¨ <code>Vuex</code> éœ€è¦å¼•å…¥2ä¸ªåŒ… <code>vuex-module-decorators</code> å’Œ <code>vuex-class</code></li></ul><h4 id="ç¼–å†™Vuex"><a href="#ç¼–å†™Vuex" class="headerlink" title="ç¼–å†™Vuex"></a>ç¼–å†™Vuex</h4><ul><li>åœ¨ <code>store</code> æ–‡ä»¶å¤¹ä¸‹æ–°å»º <code>modules</code> æ–‡ä»¶å¤¹</li><li>åœ¨ <code>modules</code> æ–‡ä»¶å¤¹ä¸‹æ–°å»º <code>user.ts</code> æ–‡ä»¶</li><li><code>user.ts</code> æ–‡ä»¶æ·»åŠ å†…å®¹</li><li><code>store.index.ts</code> å†…å¼•å…¥ <code>user</code></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @/store/modules/user.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; VuexModule, Module, Mutation, Action &#125; <span class="keyword">from</span> <span class="string">'vuex-module-decorators'</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Module</span>(&#123; namespaced: <span class="literal">true</span> &#125;)</span><br><span class="line"><span class="keyword">class</span> User <span class="keyword">extends</span> VuexModule &#123;</span><br><span class="line">  <span class="keyword">public</span> vuexName: <span class="built_in">string</span> = <span class="string">''</span></span><br><span class="line">  <span class="keyword">public</span> vuexValue: <span class="built_in">string</span> = <span class="string">''</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">get</span> vuexValueUpper (): <span class="built_in">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.vuexName.toUpperCase()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Mutation</span></span><br><span class="line">  <span class="keyword">public</span> setName (newName: <span class="built_in">string</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.vuexName = newName</span><br><span class="line">    <span class="keyword">this</span>.vuexValue = <span class="string">'vuexValue: '</span> + <span class="keyword">this</span>.vuexName</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Action</span></span><br><span class="line">  <span class="keyword">public</span> updateName (newName: <span class="built_in">string</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.context.commit(<span class="string">'setName'</span>, newName)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> User</span><br></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @/store/index.ts</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"><span class="keyword">import</span> User <span class="keyword">from</span> <span class="string">'./modules/user'</span></span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  modules: &#123;</span><br><span class="line">    User</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨Vuex"><a href="#ä½¿ç”¨Vuex" class="headerlink" title="ä½¿ç”¨Vuex"></a>ä½¿ç”¨Vuex</h4><ul><li>å¼•å…¥ <code>vuex-class</code> ä¸­çš„ <code>namespace</code></li><li>å®šä¹‰ <code>modules</code> å¸¸é‡</li><li>å®šä¹‰åŠè°ƒç”¨ <code>Vuex</code></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @/components/HelloTs.vue</span></span><br><span class="line"><span class="keyword">import</span> &#123; Component, Vue &#125; <span class="keyword">from</span> <span class="string">'vue-property-decorator'</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="keyword">namespace</span> &#125; <span class="keyword">from</span> <span class="string">'vuex-class'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> user = <span class="keyword">namespace</span>(<span class="string">'User'</span>)</span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> HelloTs <span class="keyword">extends</span> Vue &#123;</span><br><span class="line">  <span class="meta">@user</span>.State</span><br><span class="line">  <span class="keyword">public</span> vuexName!: <span class="built_in">string</span></span><br><span class="line">  <span class="meta">@user</span>.Getter(<span class="string">'vuexValueUpper'</span>)</span><br><span class="line">  <span class="keyword">public</span> vUpper!: <span class="built_in">string</span></span><br><span class="line">  <span class="meta">@user</span>.Action</span><br><span class="line">  <span class="keyword">public</span> updateName!: <span class="function">(<span class="params">name: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">void</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;code&gt;typescript&lt;/code&gt; å¯¹ &lt;code&gt;vue 2.x&lt;/code&gt; çš„æ”¯æŒä¸æ˜¯å¾ˆå¥½ï¼Œä½†æˆ‘ä»¬è¿˜æ˜¯æœ‰å¿…è¦å­¦ä¹ ä¸€ä¸‹ã€‚&lt;/p&gt;&lt;p&gt;æœ¬æ–‡ä¼šåˆ—å‡º &lt;code&gt;vue&lt;/code&gt; ä¸­å¸¸ç”¨åŠŸèƒ½åœ¨ &lt;code&gt;typescript&lt;/code&gt; é‡Œçš„å†™æ³•ã€‚&lt;/p&gt;&lt;h3 id=&quot;åŸºäºç±»çš„ç»„ä»¶&quot;&gt;&lt;a href=&quot;#åŸºäºç±»çš„ç»„ä»¶&quot; class=&quot;headerlink&quot; title=&quot;åŸºäºç±»çš„ç»„ä»¶&quot;&gt;&lt;/a&gt;åŸºäºç±»çš„ç»„ä»¶&lt;/h3&gt;&lt;p&gt;å•é¡µé¢æ˜¯ä»¥ç±»çš„å½¢å¼ä½¿ç”¨çš„ï¼Œæ‰€ä»¥ç”¨ &lt;code&gt;typescript&lt;/code&gt; å®šä¹‰ &lt;code&gt;vue&lt;/code&gt; åº”ä½¿ç”¨ä¸‹é¢çš„è¯­æ³•&lt;/p&gt;&lt;ul&gt;&lt;li&gt;åœ¨ &lt;code&gt;script&lt;/code&gt; é‡Œæ·»åŠ  &lt;code&gt;lang=&amp;#39;ts&amp;#39;&lt;/code&gt;&lt;/li&gt;&lt;li&gt;åœ¨ &lt;code&gt;Component&lt;/code&gt;é‡Œå®šä¹‰ç»„ä»¶çš„ &lt;code&gt;name&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="webå‰ç«¯" scheme="http://jian2333.github.io/tags/web%E5%89%8D%E7%AB%AF/"/>
    
      <category term="vue" scheme="http://jian2333.github.io/tags/vue/"/>
    
      <category term="typescript" scheme="http://jian2333.github.io/tags/typescript/"/>
    
  </entry>
  
  <entry>
    <title>vue-i18nï¼švueä¸‹çš„ä¸€ç§å¤šè¯­è¨€æ–¹æ¡ˆ</title>
    <link href="http://jian2333.github.io/2020/08/26/vue-i18n/"/>
    <id>http://jian2333.github.io/2020/08/26/vue-i18n/</id>
    <published>2020-08-25T23:43:14.000Z</published>
    <updated>2020-08-26T02:18:15.550Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://kazupon.github.io/vue-i18n/zh/" target="_blank" rel="noopener"><code>vue-i18n</code></a> æ˜¯ <code>vue</code> ä¸‹çš„ä¸€ä¸ªæ’ä»¶ï¼Œç”¨äºè®©é¡¹ç›®æ”¯æŒå›½é™…åŒ–å¤šè¯­è¨€ã€‚</p><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-i18n --save</span><br></pre></td></tr></table></figure><h3 id="å¼•å…¥vue-i18n"><a href="#å¼•å…¥vue-i18n" class="headerlink" title="å¼•å…¥vue-i18n"></a>å¼•å…¥vue-i18n</h3><ol><li><p>å°† <code>vue-i18n</code> æ³¨å…¥åˆ°<code>vue</code>ä¸­ã€‚æ³¨å…¥ååœ¨ä»»ä½• <code>vueç»„ä»¶</code> (.vueç»“å°¾çš„æ–‡ä»¶)å†…ï¼Œéƒ½å¯ä»¥ä½¿ç”¨ <code>this.$t(&#39;xxxx&#39;)</code> æ¥è°ƒç”¨ã€‚</p></li><li><p>æ–°å»º <code>VueI18n</code> å®ä¾‹ã€‚</p><ol><li>æ–°å»ºé»˜è®¤è¯­è¨€ã€‚</li><li>æ–°å»ºå¾…ç¿»è¯‘è¯­è¨€(jsonæ–‡ä»¶)ã€‚</li><li>æ–°å»º <code>VueI18n</code> å®ä¾‹æ—¶å¯¼å…¥ä¸Šé¢æ–‡ä»¶ã€‚</li></ol></li><li>æ–°å»º <code>Vue</code> å®ä¾‹æ—¶å¼•å…¥ <code>VueI18n</code> å®ä¾‹ã€‚</li></ol><a id="more"></a><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ./i18n/index.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> VueI18n form <span class="string">'vue-i18n'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'en'</span> <span class="keyword">from</span> <span class="string">'./i18n/locales/en.json'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'zh'</span> <span class="keyword">from</span> <span class="string">'./i18n/locales/zh.json'</span></span><br><span class="line"></span><br><span class="line">Vue.use(VueI18n)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> DEFAULT_LANG = <span class="string">'zh'</span></span><br><span class="line"><span class="keyword">const</span> messages = &#123;</span><br><span class="line">  en,</span><br><span class="line">  zh</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> i18n = <span class="keyword">new</span> VueI18n(&#123;</span><br><span class="line">  locale: DEFAULT_LANG,</span><br><span class="line">  messages: messages</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> i18n</span><br><span class="line"></span><br><span class="line">----------------------------</span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> i18n <span class="keyword">from</span> <span class="string">'./i18n'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  i18n</span><br><span class="line">&#125;).$mount(<span class="string">'#app'</span>)</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><p><a href="https://kazupon.github.io/vue-i18n/zh/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>æœ‰è¯¦æƒ…çš„ä»‹ç»ï¼Œæœ¬æ–‡åªä»‹ç»å¸¸ç”¨çš„å‡ ç§ä½¿ç”¨æ–¹æ³•ã€‚</p><h4 id="jsonç¼–å†™"><a href="#jsonç¼–å†™" class="headerlink" title="jsonç¼–å†™"></a>jsonç¼–å†™</h4><ul><li><p>ä½¿ç”¨ <code>{}</code> è®¾ç½®å˜é‡</p></li><li><p>ä½¿ç”¨ <code>@xx:yy:zz</code> å¼•ç”¨ <code>json</code> ä¸­<strong>å·²å­˜åœ¨çš„å˜é‡</strong></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  en: &#123;</span><br><span class="line">    hello: 'hello &#123; name &#125;, nice to meet you ~',</span><br><span class="line">  &#125;,</span><br><span class="line">  en1: &#123;</span><br><span class="line">    alsoHello: '@:en.hello' // å’Œen.helloä¸€æ ·ï¼Œä¹Ÿè¦ä¼ å…¥å˜é‡ &#123; name:xx &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h4><ul><li><p><code>vue</code>å®ä¾‹ä¸­ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;$t('en.hello')&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vueä¸­çš„ &lt;script&gt;å†…</span></span><br><span class="line">hello () &#123;</span><br><span class="line">  <span class="keyword">let</span> hello = <span class="keyword">this</span>.$t(<span class="string">'en.hello'</span>)</span><br><span class="line">  <span class="built_in">console</span>.log(hello)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>évue</code> å®ä¾‹ä¸­(æ¯”å¦‚<code>jsæ–‡ä»¶</code>)ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ³¨æ„æ²¡æœ‰$ç¬¦å·</span></span><br><span class="line"><span class="comment">// ./demo.js</span></span><br><span class="line"><span class="keyword">import</span> i18n <span class="keyword">from</span> <span class="string">'./i18n'</span></span><br><span class="line"></span><br><span class="line">hello () &#123;</span><br><span class="line">  <span class="keyword">let</span> hello = i18n.t(<span class="string">'en.hello'</span>)</span><br><span class="line">  <span class="built_in">console</span>.log(hello)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="ä½¿ç”¨æ–¹å¼"><a href="#ä½¿ç”¨æ–¹å¼" class="headerlink" title="ä½¿ç”¨æ–¹å¼"></a>ä½¿ç”¨æ–¹å¼</h4><h5 id="å¸¸è§„ç¿»è¯‘"><a href="#å¸¸è§„ç¿»è¯‘" class="headerlink" title="å¸¸è§„ç¿»è¯‘"></a>å¸¸è§„ç¿»è¯‘</h5><ul><li><p>ç›´æ¥ä½¿ç”¨å³å¯ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// en.json</span></span><br><span class="line">&#123;</span><br><span class="line">  en: &#123;</span><br><span class="line">    hello: <span class="string">'hello world'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// hello.vue</span></span><br><span class="line"><span class="keyword">let</span> hello = <span class="keyword">this</span>.$t(<span class="string">'hello'</span>)</span><br></pre></td></tr></table></figure></li></ul><h5 id="å¸¦å˜é‡çš„ç¿»è¯‘"><a href="#å¸¦å˜é‡çš„ç¿»è¯‘" class="headerlink" title="å¸¦å˜é‡çš„ç¿»è¯‘"></a>å¸¦å˜é‡çš„ç¿»è¯‘</h5><ul><li><p>ä½¿ç”¨ <code>{}</code> è®¾ç½®å˜é‡ã€‚</p></li><li><p>ä½¿ç”¨ <code>Object</code>ã€<code>Array</code> ç­‰ä¼ å…¥å˜é‡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ---------- å¯¹è±¡</span></span><br><span class="line"><span class="comment">// en.json</span></span><br><span class="line">&#123;</span><br><span class="line">  en: &#123;</span><br><span class="line">    hello: <span class="string">'hello &#123; name &#125;, nice to meet you ~'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// hello.vue</span></span><br><span class="line"><span class="keyword">let</span> hello = <span class="keyword">this</span>.$t(<span class="string">'en.hello'</span>, &#123; <span class="attr">name</span>: <span class="string">'Jack'</span> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ---------- æ•°ç»„</span></span><br><span class="line"><span class="comment">// en.json</span></span><br><span class="line">&#123;</span><br><span class="line">  en: &#123;</span><br><span class="line">    hello: <span class="string">'hello &#123; 0 &#125;, nice to meet &#123; 1 &#125; ~'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// hello.vue</span></span><br><span class="line"><span class="keyword">let</span> hello = <span class="keyword">this</span>.$t(<span class="string">'en.hello'</span>, [<span class="string">'Jack'</span>, <span class="string">'you'</span>])</span><br></pre></td></tr></table></figure></li></ul><h3 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h3><h4 id="è°ƒç”¨æ–¹å¼"><a href="#è°ƒç”¨æ–¹å¼" class="headerlink" title="è°ƒç”¨æ–¹å¼"></a>è°ƒç”¨æ–¹å¼</h4><p>æˆ‘ä»¬å‘ç°ï¼Œåœ¨ <code>vue</code> ç»„ä»¶ä¸­æ˜¯é€šè¿‡ <code>this.$t(&#39;xxx&#39;)</code> æ¥è°ƒç”¨ï¼Œåœ¨ <code>évue</code> ç»„ä»¶ä¸­æ˜¯é€šè¿‡å¼•å…¥ <code>i18n</code> ï¼Œç„¶å <code>i18n.t(&#39;xxx&#39;)</code> æ¥è°ƒç”¨ã€‚</p><p>é‚£æ¯æ¬¡è°ƒç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¾—åŒºåˆ†<strong>æ˜¯å¦æ˜¯ <code>vue</code> ç»„ä»¶</strong>ï¼Œ ç„¶å<strong>é‡å¤ã€å¤šæ¬¡å¼•å…¥ <code>i18n</code> </strong>ã€‚</p><p>è¿™æ˜æ˜¾å¢åŠ äº†ä»£ç çš„å¤æ‚æ€§ã€‚æœ‰ä¸ªç›´æ¥çš„è§£å†³æ–¹æ³•å°±æ˜¯ï¼ŒæŠŠ <code>i18n</code> æŒ‚è½½åˆ°å…¨å±€çš„ <code>windows</code> ä¸‹ï¼Œä¹‹ååœ¨ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥é€šè¿‡ <code>i18n.t()</code> æ¥è°ƒç”¨äº†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ./i18n/index.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> VueI18n form <span class="string">'vue-i18n'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'en'</span> <span class="keyword">from</span> <span class="string">'./i18n/locales/en.json'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'zh'</span> <span class="keyword">from</span> <span class="string">'./i18n/locales/zh.json'</span></span><br><span class="line"></span><br><span class="line">Vue.use(VueI18n)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> DEFAULT_LANG = <span class="string">'zh'</span></span><br><span class="line"><span class="keyword">const</span> messages = &#123;</span><br><span class="line">  en,</span><br><span class="line">  zh</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> i18n = <span class="keyword">new</span> VueI18n(&#123;</span><br><span class="line">  locale: DEFAULT_LANG,</span><br><span class="line">  messages: messages</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.i18n = i18n <span class="comment">// +++++</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> i18n</span><br><span class="line"></span><br><span class="line">----------------------------</span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> i18n <span class="keyword">from</span> <span class="string">'./i18n'</span></span><br><span class="line"><span class="comment">// å…¶ä»– import æ–‡ä»¶ +++++</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  i18n</span><br><span class="line">&#125;).$mount(<span class="string">'#app'</span>)</span><br></pre></td></tr></table></figure><h4 id="æ·»åŠ ä¿®æ”¹è¯­è¨€æ–¹æ³•"><a href="#æ·»åŠ ä¿®æ”¹è¯­è¨€æ–¹æ³•" class="headerlink" title="æ·»åŠ ä¿®æ”¹è¯­è¨€æ–¹æ³•"></a>æ·»åŠ ä¿®æ”¹è¯­è¨€æ–¹æ³•</h4><p>æˆ‘ä»¬åœ¨ <code>i18n</code> é‡Œæ·»åŠ ä¸€ä¸ªä¿®æ”¹è¯­è¨€çš„æ–¹æ³•ã€‚</p><ul><li>è¯¥å‡½æ•°åšäº†ä»¥ä¸‹3ä»¶äº‹æƒ…ã€‚</li><li>å°†å½“å‰è¯­è¨€ä¿å­˜åˆ° <code>localStorage</code> ä¸­ï¼›</li><li>ç»™ <code>body</code> æ·»åŠ è¯­ç§ç›¸å…³çš„ <code>class</code>ï¼Œä¼˜åŒ–æ ·å¼æ—¶ä½¿ç”¨ã€‚</li><li>å°†å½“å‰è¯­ç§å­˜åˆ° <code>Vue</code> çš„å…¨å±€é…ç½®ä¸­ï¼Œä»¥ä¾¿æœªæ¥ä½¿ç”¨ã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ./i18n/index.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> VueI18n form <span class="string">'vue-i18n'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'en'</span> <span class="keyword">from</span> <span class="string">'./i18n/locales/en.json'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'zh'</span> <span class="keyword">from</span> <span class="string">'./i18n/locales/zh.json'</span></span><br><span class="line"></span><br><span class="line">Vue.use(VueI18n)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> DEFAULT_LANG = <span class="string">'zh'</span></span><br><span class="line"><span class="keyword">const</span> messages = &#123;</span><br><span class="line">  en,</span><br><span class="line">  zh</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> i18n = <span class="keyword">new</span> VueI18n(&#123;</span><br><span class="line">  locale: DEFAULT_LANG,</span><br><span class="line">  messages: messages</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¿®æ”¹è¯­è¨€çš„å‡½æ•°</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> setup = <span class="function"><span class="params">lang</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (!lang) &#123;</span><br><span class="line">    lang = <span class="built_in">window</span>.localStorage.getItem(LOCALE_KEY)</span><br><span class="line">    <span class="keyword">if</span> (!messages[lang]) &#123;</span><br><span class="line">      lang = DEFAULT_LANG</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">window</span>.localStorage.setItem(LOCALE_KEY, lang)</span><br><span class="line"></span><br><span class="line">  <span class="built_in">Object</span>.keys(messages).forEach(<span class="function"><span class="params">lang</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">document</span>.body.classList.remove(<span class="string">`lang-<span class="subst">$&#123;lang&#125;</span>`</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="built_in">document</span>.body.classList.add(<span class="string">`lang-<span class="subst">$&#123;lang&#125;</span>`</span>)</span><br><span class="line">  <span class="built_in">document</span>.body.setAttribute(<span class="string">'lang'</span>, lang)</span><br><span class="line"></span><br><span class="line">  Vue.config.lang = lang</span><br><span class="line">  i18n.locale = lang</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.i18n = i18n </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> i18n</span><br></pre></td></tr></table></figure><h4 id="çƒ­åŠ è½½-å¾…éªŒè¯"><a href="#çƒ­åŠ è½½-å¾…éªŒè¯" class="headerlink" title="çƒ­åŠ è½½(å¾…éªŒè¯)"></a>çƒ­åŠ è½½(å¾…éªŒè¯)</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">module</span>.hot) &#123;</span><br><span class="line">  <span class="built_in">module</span>.hot.accept([<span class="string">'./i18n/locales/en'</span>, <span class="string">'./i18n/locales/zh'</span>], <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    i18n.setLocaleMessage(<span class="string">'en'</span>, <span class="built_in">require</span>(<span class="string">'./i18n/locales/en'</span>).default)</span><br><span class="line">    i18n.setLocaleMessage(<span class="string">'zh'</span>, <span class="built_in">require</span>(<span class="string">'./i18n/locales/zh'</span>).default)</span><br><span class="line">    <span class="comment">// åŒæ ·å¯ä»¥é€šè¿‡ $i18n å±æ€§è¿›è¡Œçƒ­æ›´æ–°</span></span><br><span class="line">    <span class="comment">// app.$i18n.setLocaleMessage('en', require('./i18n/locales/en').default)</span></span><br><span class="line">    <span class="comment">// app.$i18n.setLocaleMessage('ja', require('../i18n/locales/zh').default)</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://kazupon.github.io/vue-i18n/zh/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;vue-i18n&lt;/code&gt;&lt;/a&gt; æ˜¯ &lt;code&gt;vue&lt;/code&gt; ä¸‹çš„ä¸€ä¸ªæ’ä»¶ï¼Œç”¨äºè®©é¡¹ç›®æ”¯æŒå›½é™…åŒ–å¤šè¯­è¨€ã€‚&lt;/p&gt;&lt;h3 id=&quot;å®‰è£…&quot;&gt;&lt;a href=&quot;#å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£…&quot;&gt;&lt;/a&gt;å®‰è£…&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;npm install vue-i18n --save&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h3 id=&quot;å¼•å…¥vue-i18n&quot;&gt;&lt;a href=&quot;#å¼•å…¥vue-i18n&quot; class=&quot;headerlink&quot; title=&quot;å¼•å…¥vue-i18n&quot;&gt;&lt;/a&gt;å¼•å…¥vue-i18n&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;&lt;p&gt;å°† &lt;code&gt;vue-i18n&lt;/code&gt; æ³¨å…¥åˆ°&lt;code&gt;vue&lt;/code&gt;ä¸­ã€‚æ³¨å…¥ååœ¨ä»»ä½• &lt;code&gt;vueç»„ä»¶&lt;/code&gt; (.vueç»“å°¾çš„æ–‡ä»¶)å†…ï¼Œéƒ½å¯ä»¥ä½¿ç”¨ &lt;code&gt;this.$t(&amp;#39;xxxx&amp;#39;)&lt;/code&gt; æ¥è°ƒç”¨ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;æ–°å»º &lt;code&gt;VueI18n&lt;/code&gt; å®ä¾‹ã€‚&lt;/p&gt;&lt;ol&gt;&lt;li&gt;æ–°å»ºé»˜è®¤è¯­è¨€ã€‚&lt;/li&gt;&lt;li&gt;æ–°å»ºå¾…ç¿»è¯‘è¯­è¨€(jsonæ–‡ä»¶)ã€‚&lt;/li&gt;&lt;li&gt;æ–°å»º &lt;code&gt;VueI18n&lt;/code&gt; å®ä¾‹æ—¶å¯¼å…¥ä¸Šé¢æ–‡ä»¶ã€‚&lt;/li&gt;&lt;/ol&gt;&lt;/li&gt;&lt;li&gt;æ–°å»º &lt;code&gt;Vue&lt;/code&gt; å®ä¾‹æ—¶å¼•å…¥ &lt;code&gt;VueI18n&lt;/code&gt; å®ä¾‹ã€‚&lt;/li&gt;&lt;/ol&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="webå‰ç«¯" scheme="http://jian2333.github.io/tags/web%E5%89%8D%E7%AB%AF/"/>
    
      <category term="vue" scheme="http://jian2333.github.io/tags/vue/"/>
    
      <category term="å¤šè¯­è¨€" scheme="http://jian2333.github.io/tags/%E5%A4%9A%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>Vue Router</title>
    <link href="http://jian2333.github.io/2020/06/29/vue-router/"/>
    <id>http://jian2333.github.io/2020/06/29/vue-router/</id>
    <published>2020-06-29T02:57:05.000Z</published>
    <updated>2022-03-15T02:30:05.616Z</updated>
    
    <content type="html"><![CDATA[<p>æ–­æ–­ç»­ç»­çœ‹äº†å¥½å¤šé <code>Vue Router</code> çš„<a href="https://router.vuejs.org/zh/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ï¼Œç»ˆäºä¸‹å®šå†³å¿ƒæ¥å†™ä¸€ç¯‡ç¬”è®°äº†â€¦..</p><p><img src="/images/vr-1.jpg" alt></p><p>OKï¼Œå¼€å§‹æ­£é¢˜</p><a id="more"></a><p>å®Œæ•´ä»‹ç»çš„è¯å†…å®¹å¤ªå¤šï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç»å·¥ä½œä¸­è¾ƒå¸¸ç”¨åˆ°çš„å‡ ä¸ªçŸ¥è¯†ç‚¹</p><h3 id="router-route"><a href="#router-route" class="headerlink" title="router/route"></a>router/route</h3><h4 id="router"><a href="#router" class="headerlink" title="router"></a>router</h4><p><code>Vue Router</code> å¯¹è±¡ï¼ŒåŒ…å«äº† <code>Vue Router</code> çš„ä¸€äº›å±æ€§å’Œæ–¹æ³•</p><p><strong>Vue Router å±æ€§</strong></p><ul><li>router.app: é…ç½®äº† <code>router</code> çš„Vueæ ¹å®ä¾‹ã€‚</li><li>router.mode: è·¯ç”±ä½¿ç”¨çš„<a href="https://router.vuejs.org/zh/api/#mode" target="_blank" rel="noopener">æ¨¡å¼</a>ã€‚</li><li>router.currentRoute: å½“å‰æ¿€æ´»çš„è·¯ç”±å®ä¾‹ï¼ŒåŒ <code>this.$route</code>ã€‚</li></ul><p><strong>Vue Router æ–¹æ³•</strong></p><ul><li>router.beforeEach: å…¨å±€å‰ç½®å®ˆå«ï¼Œå¿…é¡»è°ƒç”¨ <code>next()</code> æ–¹æ³•ã€‚</li><li>router.beforeResolve: å…¨å±€è§£æå®ˆå«ï¼Œå¿…é¡»è°ƒç”¨ <code>next()</code> æ–¹æ³•ã€‚</li><li>router.afterEach: å…¨å±€åç½®é’©å­ï¼Œæ—  <code>next()</code> æ–¹æ³•ã€‚</li><li>router.push: æ‰“å¼€ä¸€ä¸ªæ–°è·¯ç”±/é¡µé¢ï¼Œ<strong>ä¼š</strong>åœ¨æµè§ˆå™¨æ·»åŠ å†å²è®°å½•ã€‚</li><li>router.replace: æ‰“å¼€/æ›¿æ¢ä¸ºä¸€ä¸ªæ–°è·¯ç”±/é¡µé¢ï¼Œ<strong>ä¸ä¼š</strong>åœ¨æµè§ˆå™¨æ·»åŠ å†å²è®°å½•ã€‚</li><li>router.go: å‰è¿› <code>n</code> ä¸ªé¡µé¢ï¼Œ<code>n</code> å¯ä¸ºè´Ÿæ•°ã€‚</li><li>router.back: ç­‰åŒäº <code>router.go(-1)</code>ã€‚</li><li>router.forward: ç­‰åŒäº <code>router.go(1)</code>ã€‚</li><li>router.getMatchedComponents: è¿”å›ç›®æ ‡ä½ç½®æˆ–æ˜¯å½“å‰è·¯ç”±åŒ¹é…çš„ç»„ä»¶æ•°ç»„(æ˜¯ç»„ä»¶çš„å®šä¹‰/æ„é€ ç±»ï¼Œä¸æ˜¯å®ä¾‹)ï¼Œä¸€èˆ¬ç”¨äº<strong>æœåŠ¡ç«¯æ¸²æŸ“</strong>çš„æ•°æ®é¢„åŠ è½½ä½¿ç”¨ã€‚</li><li>router.resolve: è§£æç›®æ ‡ä½ç½®ã€‚</li><li>router.addRoutes: åŠ¨æ€æ·»åŠ æ›´å¤šçš„è·¯ç”±è§„åˆ™ã€‚</li><li>router.onReady: æŠŠä¸€ä¸ªå›è°ƒæ’é˜Ÿã€‚</li><li>router.onError: æ³¨å†Œä¸€ä¸ªå›è°ƒï¼Œè¯¥å›è°ƒåœ¨è·¯ç”±å¯¼èˆªè¿‡ç¨‹ä¸­å‡ºé”™æ—¶è¢«è°ƒç”¨ã€‚</li></ul><h4 id="route"><a href="#route" class="headerlink" title="route"></a>route</h4><p>å½“å‰æ¿€æ´»çš„è·¯ç”±å®ä¾‹ï¼Œæ‰€æœ‰å±æ€§<strong>åªè¯»</strong></p><ul><li>$route.path: å½“å‰è·¯ç”±çš„<strong>ç»å¯¹</strong>è·¯å¾„ã€‚</li><li>$route.params: å½“å‰è·¯ç”±ä¸Š <code>key/valueå¯¹è±¡</code> å‚æ•°ã€‚</li><li>$route.query: å½“å‰å¯¹è±¡çš„ <code>URL</code> ä¸Šçš„ <code>key/valueå¯¹è±¡</code> å‚æ•°ï¼Œä¼šæ˜¾ç¤ºåœ¨æµè§ˆå™¨åœ°å€æ ä¸Šã€‚</li><li>$route.hash: å½“å‰è·¯ç”±çš„ <code>hash</code> å€¼(å¸¦ <code>#</code>)ã€‚</li><li>$route.fullPath: å®Œæˆè§£æåçš„ <code>URL</code>ï¼ŒåŒ…å«æŸ¥è¯¢å‚æ•°å’Œ <code>hash</code> çš„å®Œæ•´è·¯å¾„ã€‚</li><li>$route.matched: ä¸€ä¸ªåŒ¹é…è·¯ç”±çš„æ•°ç»„ã€‚ä»æ ¹è·¯ç”±å¼€å§‹åˆ°å½“å‰æ‰€åœ¨è·¯ç”±çš„æ‰€æœ‰åµŒå¥—è·¯å¾„ç‰‡æ®µç»„æˆçš„æ•°ç»„ã€‚</li><li>$route.name: å½“å‰è·¯ç”±çš„ <code>name</code>ã€‚</li><li>$route.redirectedFrom: é‡å®šå‘æ¥æºçš„è·¯ç”±çš„åå­—ã€‚</li></ul><h4 id="ç»„ä»¶æ³¨å…¥"><a href="#ç»„ä»¶æ³¨å…¥" class="headerlink" title="ç»„ä»¶æ³¨å…¥"></a>ç»„ä»¶æ³¨å…¥</h4><p>é€šè¿‡åœ¨ Vue æ ¹å®ä¾‹çš„ <code>router</code> é…ç½®ä¼ å…¥ router å®ä¾‹ï¼Œä¸‹é¢è¿™äº›å±æ€§æˆå‘˜ä¼šè¢«æ³¨å…¥åˆ°æ¯ä¸ªå­ç»„ä»¶ã€‚</p><ul><li><strong>this.$router</strong> : <code>router</code> å®ä¾‹ã€‚</li><li><strong>this.$route</strong> : å½“å‰æ¿€æ´»çš„è·¯ç”±å®ä¾‹ï¼Œæ‰€æœ‰å±æ€§<strong>åªè¯»</strong>ã€‚</li></ul><h3 id="å¯¼èˆªå®ˆå«"><a href="#å¯¼èˆªå®ˆå«" class="headerlink" title="å¯¼èˆªå®ˆå«"></a>å¯¼èˆªå®ˆå«</h3><h4 id="å…¨å±€å¯¼èˆªå®ˆå«"><a href="#å…¨å±€å¯¼èˆªå®ˆå«" class="headerlink" title="å…¨å±€å¯¼èˆªå®ˆå«"></a>å…¨å±€å¯¼èˆªå®ˆå«</h4><ul><li>beforeEach: å…¨å±€å‰ç½®å®ˆå«ï¼Œå¯¼èˆªå‰ï¼Œä¸€å®šè¦è°ƒç”¨ <code>next()</code> æ¥ <code>resolve</code> è¿™ä¸ªé’©å­ã€‚</li><li>beforeResolve: å…¨å±€è§£æå®ˆå«ï¼Œå¯¼èˆªå‰ï¼Œå’Œ <code>beforeEach</code> ç±»ä¼¼ï¼ŒåŒºåˆ«æ˜¯å¯¼èˆªåœ¨ç¡®è®¤å‰ï¼Œ<strong>åŒæ—¶åœ¨æ‰€æœ‰ç»„ä»¶å†…å®ˆå«å’Œå¼‚æ­¥è·¯ç”±ç»„ä»¶è§£æä¹‹å</strong>ï¼Œè§£æå®ˆå«æ‰ä¼šè¢«è°ƒç”¨ã€‚</li><li>afterEach: å…¨å±€åç½®é’©å­ï¼Œå¯¼èˆªåï¼Œæ—  <code>next()</code> æ–¹æ³•ä¹Ÿä¸ä¼šæ”¹å˜å¯¼èˆªæœ¬èº«(å¯æ·»åŠ é¡µé¢å®šä½ç­‰åŠŸèƒ½)ã€‚</li></ul><h4 id="è·¯ç”±ç‹¬äº«çš„å®ˆå«"><a href="#è·¯ç”±ç‹¬äº«çš„å®ˆå«" class="headerlink" title="è·¯ç”±ç‹¬äº«çš„å®ˆå«"></a>è·¯ç”±ç‹¬äº«çš„å®ˆå«</h4><ul><li>beforeEnter: è·¯ç”±ç‹¬äº«å®ˆå«ï¼Œé…ç½®åœ¨è·¯ç”±ä¸Šçš„å®ˆå«ï¼Œ<strong>è¯¥è·¯ç”±åŠå…¶å­è·¯ç”±</strong>éƒ½ä¼šå…±äº«è¯¥å®ˆå«ã€‚</li></ul><h4 id="ç»„ä»¶å†…å®ˆå«"><a href="#ç»„ä»¶å†…å®ˆå«" class="headerlink" title="ç»„ä»¶å†…å®ˆå«"></a>ç»„ä»¶å†…å®ˆå«</h4><ul><li><p>beforeRouteEnter: æ¸²æŸ“è¯¥ç»„ä»¶å¯¹åº”çš„è·¯ç”±è¢« <code>confirm</code> å‰è°ƒç”¨ï¼Œ<strong>ä¸èƒ½</strong>è·å– <code>this</code>ï¼Œä½†å¯é€šè¿‡ä¼ å›è°ƒ(å”¯ä¸€ä¸€ä¸ªå¯ä»¥ä¼ å›è°ƒç»™ <code>next</code> çš„å®ˆå«)ç»™ <code>next()</code> æ¥è®¿é—®ç»„ä»¶å®ä¾‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">beforeRouteEnter (to, <span class="keyword">from</span>, next) =&gt; &#123;</span><br><span class="line">  next(<span class="function"><span class="params">vm</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// é€šè¿‡ `vm` è®¿é—®ç»„ä»¶å®ä¾‹</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>beforeRouteUpdate: è·¯ç”±æ”¹å˜ï¼Œä½†æ˜¯è¯¥ç»„ä»¶è¢«å¤ç”¨æ—¶è°ƒç”¨ã€‚</p></li><li><p>beforeRouteLeave: å¯¼èˆªç¦»å¼€è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±æ—¶è°ƒç”¨ã€‚</p></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Foo = &#123;</span><br><span class="line">  template: <span class="string">`...`</span>,</span><br><span class="line">  beforeRouteEnter (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">    <span class="comment">// åœ¨æ¸²æŸ“è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±è¢« confirm å‰è°ƒç”¨</span></span><br><span class="line">    <span class="comment">// ä¸ï¼èƒ½ï¼è·å–ç»„ä»¶å®ä¾‹ `this`</span></span><br><span class="line">    <span class="comment">// å› ä¸ºå½“å®ˆå«æ‰§è¡Œå‰ï¼Œç»„ä»¶å®ä¾‹è¿˜æ²¡è¢«åˆ›å»º</span></span><br><span class="line">  &#125;,</span><br><span class="line">  beforeRouteUpdate (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">    <span class="comment">// åœ¨å½“å‰è·¯ç”±æ”¹å˜ï¼Œä½†æ˜¯è¯¥ç»„ä»¶è¢«å¤ç”¨æ—¶è°ƒç”¨</span></span><br><span class="line">    <span class="comment">// ä¸¾ä¾‹æ¥è¯´ï¼Œå¯¹äºä¸€ä¸ªå¸¦æœ‰åŠ¨æ€å‚æ•°çš„è·¯å¾„ /foo/:idï¼Œåœ¨ /foo/1 å’Œ /foo/2 ä¹‹é—´è·³è½¬çš„æ—¶å€™ï¼Œ</span></span><br><span class="line">    <span class="comment">// ç”±äºä¼šæ¸²æŸ“åŒæ ·çš„ Foo ç»„ä»¶ï¼Œå› æ­¤ç»„ä»¶å®ä¾‹ä¼šè¢«å¤ç”¨ã€‚è€Œè¿™ä¸ªé’©å­å°±ä¼šåœ¨è¿™ä¸ªæƒ…å†µä¸‹è¢«è°ƒç”¨ã€‚</span></span><br><span class="line">    <span class="comment">// å¯ä»¥è®¿é—®ç»„ä»¶å®ä¾‹ `this`</span></span><br><span class="line">  &#125;,</span><br><span class="line">  beforeRouteLeave (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">    <span class="comment">// å¯¼èˆªç¦»å¼€è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±æ—¶è°ƒç”¨</span></span><br><span class="line">    <span class="comment">// å¯ä»¥è®¿é—®ç»„ä»¶å®ä¾‹ `this`</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="å®Œæ•´çš„å¯¼èˆªè§£ææµç¨‹"><a href="#å®Œæ•´çš„å¯¼èˆªè§£ææµç¨‹" class="headerlink" title="å®Œæ•´çš„å¯¼èˆªè§£ææµç¨‹"></a>å®Œæ•´çš„å¯¼èˆªè§£ææµç¨‹</h4><ol><li>å¯¼èˆªè¢«è§¦å‘ã€‚</li><li>åœ¨å¤±æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨ <code>beforeRouteLeave</code> å®ˆå«ã€‚</li><li>è°ƒç”¨å…¨å±€çš„ <code>beforeEach</code> å®ˆå«ã€‚</li><li>åœ¨é‡ç”¨çš„ç»„ä»¶é‡Œè°ƒç”¨ <code>beforeRouteUpdate</code> å®ˆå«ï¼ˆ2.2+ï¼‰ã€‚</li><li>åœ¨è·¯ç”±é…ç½®é‡Œè°ƒç”¨ <code>beforeEnter</code> ã€‚</li><li>è§£æå¼‚æ­¥è·¯ç”±ç»„ä»¶ã€‚</li><li>åœ¨è¢«æ¿€æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨ <code>beforeRouteEnter</code> ã€‚</li><li>è°ƒç”¨å…¨å±€çš„ <code>beforeResolve</code> å®ˆå«ï¼ˆ2.5+ï¼‰ã€‚</li><li>å¯¼èˆªè¢«ç¡®è®¤ã€‚</li><li>è°ƒç”¨å…¨å±€çš„ <code>afterEach</code> é’©å­ã€‚</li><li>è§¦å‘ <code>DOM</code> æ›´æ–°ã€‚</li><li>ç”¨åˆ›å»ºå¥½çš„å®ä¾‹è°ƒç”¨ <code>beforeRouteEnter</code> å®ˆå«ä¼ é€’ç»™ <code>next</code> çš„å›è°ƒå‡½æ•°ã€‚</li></ol><h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><p><strong>falsy/falsey(è™šå€¼)</strong></p><ul><li>åœ¨ <code>Boolean</code> ä¸Šä¸‹æ–‡ä¸­è®¤å®šä¸º <code>false</code> çš„å€¼ã€‚</li><li><code>Javascript</code> åœ¨éœ€è¦ç”¨åˆ° <code>Boolean</code> ç±»å‹çš„å€¼çš„ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢å°†å€¼è½¬æ¢ä¸º <code>Boolean</code> å€¼ï¼Œæ¯”å¦‚æ¡ä»¶è¯­å¥å’Œå¾ªç¯ä¸­ã€‚</li><li>ç›®å‰ <code>Js</code> ä¸­åªæœ‰7ä¸ª <code>falsy</code> å€¼ï¼š<ul><li><code>false</code>ã€<code>0</code>ã€<code>0n</code>ã€<code>&quot;&quot;/&#39;&#39;/</code>ã€``ã€ <code>null</code>ã€<code>undefined</code>ã€<code>NaN</code></li></ul></li></ul><p><strong>æ»šåŠ¨è¡Œä¸º</strong></p><ul><li><code>scrollBehavior(to, from, savedPosition)</code>: æ·»åŠ åœ¨è·¯ç”±å®ä¾‹ <code>new Router({})</code> ä¸­ï¼Œç”¨äºè‡ªå®šä¹‰åˆ‡æ¢æ—¶é¡µé¢å¦‚ä½•æ»šåŠ¨ã€‚</li><li>è¯¥åŠŸèƒ½åªåœ¨æ”¯æŒ <code>history.pushState</code> çš„æµè§ˆå™¨ä¸­å¯ç”¨ã€‚</li><li><code>keep-alive</code> ä¸­æ— æ•ˆï¼Œå› ä¸º <code>keep-alive</code> å·²è‡ªåŠ¨ä¿ç•™äº†ä¹‹å‰çš„çŠ¶æ€ã€‚</li><li>è¿”å›æ»šåŠ¨çš„ä½ç½®ä¿¡æ¯ï¼š<ul><li><code>{ x: number, y: number }</code> : å…·ä½“ä½ç½®ã€‚</li><li><code>{ selector: string, offset? : { x: number, y: number }}</code> : é”šç‚¹+åç§»é‡</li></ul></li><li><a href="https://router.vuejs.org/zh/guide/advanced/scroll-behavior.html" target="_blank" rel="noopener">æ›´å¤šå‚è€ƒ</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ–­æ–­ç»­ç»­çœ‹äº†å¥½å¤šé &lt;code&gt;Vue Router&lt;/code&gt; çš„&lt;a href=&quot;https://router.vuejs.org/zh/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt;ï¼Œç»ˆäºä¸‹å®šå†³å¿ƒæ¥å†™ä¸€ç¯‡ç¬”è®°äº†â€¦..&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/images/vr-1.jpg&quot; alt&gt;&lt;/p&gt;&lt;p&gt;OKï¼Œå¼€å§‹æ­£é¢˜&lt;/p&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="webå‰ç«¯" scheme="http://jian2333.github.io/tags/web%E5%89%8D%E7%AB%AF/"/>
    
      <category term="vue" scheme="http://jian2333.github.io/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>eslint &amp;&amp; babel</title>
    <link href="http://jian2333.github.io/2020/06/24/eslint-and-babel/"/>
    <id>http://jian2333.github.io/2020/06/24/eslint-and-babel/</id>
    <published>2020-06-24T06:28:22.000Z</published>
    <updated>2020-06-24T07:07:06.631Z</updated>
    
    <content type="html"><![CDATA[<p>å…³äº<code>eslint</code>å’Œ<code>babel</code>çš„ä¸€ç‚¹ç†è§£ï¼š</p><p><code>eslint</code>: ä»£ç è¯­æ³•æ ¡éªŒï¼Œä¸»è¦æ˜¯è¯­æ³•çš„ä½¿ç”¨æ˜¯å¦æ­£ç¡®ï¼Œé™„å¸¦ä¹Ÿå¯ä»¥æ ¼å¼åŒ–ä»£ç é£æ ¼ã€‚</p><p><code>babel</code>: è½¬ä¹‰ä»£ç ï¼Œå°†æµè§ˆå™¨ä¸æ”¯æŒçš„æ–°è¯­æ³•ï¼Œè½¬ä¹‰æˆæµè§ˆå™¨æ”¯æŒçš„è¯­æ³•ã€‚æ‰€ä»¥ä½¿ç”¨<code>babel</code>ï¼Œæˆ‘ä»¬å°±å¯ä»¥ <strong>æ¯«æ— é¡¾å¿Œ</strong> çš„ä½¿ç”¨æ–°è¯­æ³•äº†ã€‚</p><p>ä½†æœ‰æ—¶å€™å§ï¼Œ<code>eslint</code> æ ¡éªŒæ–°è¯­æ³•æ—¶è¯†åˆ«ä¸äº†ï¼Œå°±ä¼šæŠ¥é”™äº†ï¼Œè¿™æ—¶å€™<code>babel-eslint</code>å°±ç™»åœºäº†ã€‚</p><p><code>babel-eslint</code>: å°†<code>eslint</code>æ— æ³•è¯†åˆ«çš„æ–°è¯­æ³•è½¬ä¹‰æˆ<code>eslint</code>å¯ä»¥è¯†åˆ«çš„è¯­æ³•ï¼Œè¿›è€Œé€šè¿‡<code>eslint</code>æ ¡éªŒã€‚<code>babel-eslint</code>éœ€æ­é…<code>eslint</code>ä¸€èµ·ä½¿ç”¨ã€‚</p><p>é¢˜å¤–è¯ï¼š</p><ul><li><code>babel</code>æœ‰å¤šç§å¼•å…¥æ–¹å¼ï¼Œæœ€æ–°çš„æ¨èæ–¹å¼æ˜¯ <strong>æŒ‰éœ€è½¬ä¹‰</strong></li><li>æ ¼å¼åŒ–(ç»Ÿä¸€)ä»£ç é£æ ¼ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹2ç§æ–¹å¼ã€‚ä¸»è¦æ˜¯æ”¹å˜ä»£ç çš„æ˜¾ç¤ºé£æ ¼ï¼Œå¹¶ä¸ä¼šå¯¹ä»£ç çš„<code>è¯­æ³•è§„åˆ™</code>åšæ ¡éªŒï¼š<ul><li><code>.editorconfig</code>: æœ¬åœ°é…ç½®æ–‡ä»¶ï¼Œä¸€èˆ¬ç”¨äº<code>æ¢è¡Œã€ç¼©è¿›ç­‰</code>ã€‚</li><li><code>.prettierrc</code>ï¼šå½“å‰ä¸»æµçš„æ–¹æ³•ã€‚æ‰€æœ‰è§„åˆ™<code>åŸºæœ¬éƒ½å¯é…ç½®</code>ã€‚æ­é… <code>webstorm file watch</code> å¯å®ç° <strong>ä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–/æäº¤ä»£ç æ—¶è‡ªåŠ¨æ ¼å¼åŒ–</strong></li></ul></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å…³äº&lt;code&gt;eslint&lt;/code&gt;å’Œ&lt;code&gt;babel&lt;/code&gt;çš„ä¸€ç‚¹ç†è§£ï¼š&lt;/p&gt;&lt;p&gt;&lt;code&gt;eslint&lt;/code&gt;: ä»£ç è¯­æ³•æ ¡éªŒï¼Œä¸»è¦æ˜¯è¯­æ³•çš„ä½¿ç”¨æ˜¯å¦æ­£ç¡®ï¼Œé™„å¸¦ä¹Ÿå¯ä»¥æ ¼å¼åŒ–ä»£ç é£æ ¼ã€‚&lt;/p&gt;&lt;p&gt;&lt;code&gt;babel&lt;/code&gt;: è½¬ä¹‰ä»£
      
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="webå‰ç«¯" scheme="http://jian2333.github.io/tags/web%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€ç§æ–°çš„ç§‘å­¦ä¸Šç½‘æ–¹å¼ -- v2ray</title>
    <link href="http://jian2333.github.io/2020/01/05/v2ray/"/>
    <id>http://jian2333.github.io/2020/01/05/v2ray/</id>
    <published>2020-01-05T10:23:55.000Z</published>
    <updated>2020-08-09T04:36:51.988Z</updated>
    
    <content type="html"><![CDATA[<p>ç”±äºæŸäº›ä¼—æ‰€å‘¨çŸ¥çš„åŸå› ï¼Œemmmmmâ€¦.ï¼Œä¸ä¹…å‰çš„è¡€è‰²åæœˆï¼Œä¸€å¤§æ³¢æ¢¯å­è¢«å°äº†ã€‚æ¯«æ— æ„å¤–ï¼Œæˆ‘çš„ <code>ss</code> ä¹Ÿè¢«å°äº†ï¼Œè€Œä¸”ä»é‚£ä¹‹åï¼Œ<code>ss</code> å°±å˜å¾—ä¸å¥½ç”¨äº†ï¼Œé€Ÿåº¦æ…¢ï¼Œè¿˜ç»å¸¸ä¸Šä¸äº†ç½‘ã€‚</p><p>ç„¶åå§ï¼Œç ”ç©¶äº†ä¸‹ç›®å‰æ¯”è¾ƒä¸»æµçš„æ–¹å¼ <code>v2ray</code> ï¼ŒåŒ…æ‹¬ <code>æ­å»ºæ–¹å¼</code> ã€<code>é€Ÿåº¦ä¼˜åŒ–</code>ã€<code>ipä¼ªè£…é˜²å°</code> ç­‰ï¼Œå‘ç° <code>v2ray : ws + tls + nginx + cdn</code> çš„æ–¹å¼é€Ÿåº¦å’Œä¼ªè£…æ€§éƒ½å¾ˆå¥½ã€‚</p><p>å†ç„¶åå§ï¼Œä»Šå¤©å°±æ€»ç»“ä¸€ä¸‹è¿™ä¸ªå¥½äº†â€¦..</p><a id="more"></a><p>æœ¬æ–‡ä¸»è¦æ€»ç»“äº†ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p><ul><li><a href="#æœ€ç»ˆæ€»ç»“åŠæ¨è">æœ€ç»ˆæ€»ç»“åŠæ¨è</a></li><li><a href="#åè¯è§£é‡Š">åè¯è§£é‡Š</a></li><li><a href="#å…·ä½“æ­å»ºæµç¨‹">å…·ä½“æ­å»ºæµç¨‹</a></li><li><a href="#æ•ˆæœ">æ•ˆæœ</a></li><li><a href="#ç›¸å…³èµ„æ–™ä»‹ç»">ç›¸å…³èµ„æ–™ä»‹ç»</a></li></ul><h3 id="æœ€ç»ˆæ€»ç»“åŠæ¨è"><a href="#æœ€ç»ˆæ€»ç»“åŠæ¨è" class="headerlink" title="æœ€ç»ˆæ€»ç»“åŠæ¨è"></a>æœ€ç»ˆæ€»ç»“åŠæ¨è</h3><p>æ ¹æ®å®é™…æµ‹è¯•ä¸‹æ¥çš„ç»“æœï¼Œæœ€ç»ˆæ¨è <strong>googleäº‘é¦™æ¸¯æœåŠ¡å™¨+ws+tls+nginx+ä¼ªè£…ä¸»é¡µ+bbr</strong> è¿™ç§é…ç½®ã€‚ä¸æ¨èä½¿ç”¨ <code>cdn</code> ã€‚å› ä¸ºå…è´¹çš„ <code>cdn</code> è™½ç„¶èƒ½éšè—çœŸå®<code>ip</code>ï¼Œä½†æ˜¯ä¼š <strong>å¤§å¤§é™ä½ç½‘ç»œé€Ÿåº¦</strong>ï¼Œå†åŠ ä¸Š <code>ws+tls+nginx+ä¼ªè£…ä¸»é¡µ</code>ï¼Œå·²ç»èƒ½è¾¾åˆ°å¾ˆå¥½çš„æ¬ºéª— <code>GFW</code> çš„æ•ˆæœäº†ï¼Œè€Œæ”¶è´¹çš„ <code>cdn</code> è™½ç„¶æ•ˆæœå¥½ï¼Œä½†æ˜¯<strong>å¤ªè´µäº†</strong>ï¼æ‰€ä»¥ä¸æ¨èä½¿ç”¨ <code>cdn</code>ã€‚</p><h4 id="æœåŠ¡å™¨"><a href="#æœåŠ¡å™¨" class="headerlink" title="æœåŠ¡å™¨"></a>æœåŠ¡å™¨</h4><ul><li>é€Ÿåº¦æœ€å¿«çš„ä¾›åº”å•†æ˜¯ <a href="https://cloud.google.com/" target="_blank" rel="noopener"><code>googleäº‘</code></a>ï¼Œå…¶æ¬¡æ˜¯ <a href="https://bandwagonhost.com/" target="_blank" rel="noopener"><code>æ¬ç“¦å·¥</code></a>ï¼Œæœ€åæ˜¯ <a href="https://www.vultr.com/" target="_blank" rel="noopener"><code>vultr</code></a>ã€‚</li><li>é¦™æ¸¯æœåŠ¡å™¨æœ€å¿«(<code>vultr</code>æ²¡æœ‰é¦™æ¸¯æœåŠ¡å™¨)ã€‚</li><li><code>æ¬ç“¦å·¥</code> æœåŠ¡å™¨é€Ÿåº¦ï¼šé¦™æ¸¯æœåŠ¡å™¨ &gt; CN2 GIA-E = CN2 GIA &gt; KVM = vultr ã€‚</li></ul><h4 id="åè®®"><a href="#åè®®" class="headerlink" title="åè®®"></a>åè®®</h4><ul><li><code>mkcp</code> åè®®æ­å»ºç®€å•ï¼Œä½†æ˜¯é€Ÿåº¦ä¸å¤Ÿå¿«ï¼Œä¼ªè£…è¿˜è¡Œï¼Œä½†åœ¨æœ‰äº›åœºåˆè¿æ¥ä¸ç¨³å®š(æ¯”å¦‚ <strong>åœ¨å…¬å¸ç½‘ç»œ ï¼Œæˆ‘å°±ç»å¸¸è¿ä¸ä¸Šâ€¦..</strong> )ã€‚</li><li><code>ws+tls</code> åè®®æ­å»ºå¤æ‚ä¸€ä¸‹ï¼Œéœ€è¦æœ‰åŸŸåï¼Œä½†æ˜¯é€Ÿåº¦å¿«ï¼Œè€Œä¸”ç¨³å®šï¼Œ<strong>åœ¨å…¬å¸ç½‘ç»œï¼Œä¸€æ ·ç¨³å¦‚è€ç‹—ï¼ï¼</strong></li><li><code>ws+tls+nginx+cdn</code> ä¼ªè£…æ€§æ›´å¥½ï¼Œä½†æ˜¯æ›´å¤æ‚ï¼Œéœ€è¦æ‡‚ä¸€äº›<code>nginx</code>çš„ç›¸å…³é…ç½®ï¼Œè¿˜è¦ä¼š<code>cdn</code>ä»£ç†ä¼ªè£…ã€‚ä¸è¿‡ä¸æ¨è <code>cdn</code> ä»£ç†ã€‚åŸå› ä¹‹å‰è¯´åˆ°äº†ï¼š<ul><li>å…è´¹çš„ <strong>å¤§å¤§é™ä½ç½‘é€Ÿ</strong>ï¼Œæ”¶è´¹çš„å¤ªè´µã€‚(å…è´¹çš„<code>cloudflare</code>æœåŠ¡å™¨åœ¨ç¾å›½ï¼Œ<code>ping</code> å˜æˆ200+ï¼Œ ç›´è¿<code>googleäº‘é¦™æ¸¯æœåŠ¡å™¨</code> <code>ping</code> æ‰20+ï¼Œé€Ÿåº¦å·®10å€)ã€‚</li><li><code>ws+tls+nginx+ä¸»é¡µä¼ªè£…</code> å·²ç»èƒ½å¾ˆå¥½çš„ä¼ªè£…äº†ï¼Œèƒ½ <strong>å¾ˆå¥½çš„éª—è¿‡ <code>GFW</code> äº†</strong> ã€‚</li></ul></li><li>æ‰€ä»¥æ¨èçš„æ˜¯ <code>ws+tls+nginx+ä¼ªè£…ä¸»é¡µ</code>ã€‚</li></ul><h4 id="bbråŠ é€Ÿ"><a href="#bbråŠ é€Ÿ" class="headerlink" title="bbråŠ é€Ÿ"></a>bbråŠ é€Ÿ</h4><ul><li><code>bbr</code> æ˜¯ <code>google</code> çš„ä¸€ç§ç®—æ³•åŠ é€Ÿï¼Œå¯¹é€Ÿåº¦ <strong>å½±å“æå¤§</strong>ï¼Œ<strong>å¼ºçƒˆæ¨èå¼€å¯</strong>ã€‚</li><li>å°±ä¸ªäººæµ‹è¯•è€Œè¨€ï¼ŒåŒæ ·é…ç½® <code>youtube 4K 60fps</code> ä¸‹ï¼Œæœªå¼€å¯ <code>bbr</code> é€Ÿåº¦ä¸º <code>20k Kbps</code>ï¼Œå¼€å¯ <code>bbr</code> åä¸º <code>150k Kbps</code>ï¼Œ<strong>é€Ÿåº¦ç›¸å·®æå¤§</strong>ã€‚</li><li><del>ç›´æ¥ä½¿ç”¨ä¸€é”®å®‰è£…è„šæœ¬é‡Œçš„å‘½ä»¤å¼€å¯å³å¯ï¼Œé€‰æ‹© <code>bbrPlusç‰ˆæœ¬</code>ï¼Œå³ <code>11-2-7</code></del> (2020.08.08æ›´æ–°)ä¸€é”®è„šæœ¬çš„<code>bbrå®‰è£…å¯åŠ¨</code>å‘½ä»¤å·²ç»å¤±æ•ˆï¼Œè¯·ä½¿ç”¨ä¸‹æ–¹æ–°å‘½ä»¤ã€‚</li></ul><h3 id="åè¯è§£é‡Š"><a href="#åè¯è§£é‡Š" class="headerlink" title="åè¯è§£é‡Š"></a>åè¯è§£é‡Š</h3><p><strong>ä¸€é”®å®‰è£…è„šæœ¬</strong></p><p>ä¸€é”®å®‰è£… <code>v2ray+ws+tls+nginx+httpsè¯ä¹¦+httpsè¯ä¹¦å®šæ—¶ç»­ç­¾</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -L -s https://raw.githubusercontent.com/wulabing/V2Ray_ws-tls_bash_onekey/master/install.sh) | tee v2ray_ins.log</span><br></pre></td></tr></table></figure><p>ç›¸å…³è·¯å¾„ï¼š</p><ul><li>Web ç›®å½•ï¼š<code>/home/wwwroot/3DCEList</code></li><li>V2ray æœåŠ¡ç«¯é…ç½®ï¼š<code>/etc/v2ray/config.json</code></li><li>V2ray å®¢æˆ·ç«¯é…ç½®: <code>~/v2ray_info.txt</code></li><li>Nginx ç›®å½•ï¼š <code>/etc/nginx</code></li><li>è¯ä¹¦æ–‡ä»¶: <code>/data/v2ray.key å’Œ /data/v2ray.crt</code></li></ul><p><strong>cdn</strong></p><p>ç”¨æ¥ <code>ä¼ªè£…çœŸå®ip</code>ï¼Œè¿˜æœ‰é˜² <code>DDOSæµé‡æ”»å‡»</code> ç­‰å…¶ä»–åŠŸèƒ½ã€‚</p><p><strong>cloudflare</strong></p><p>ä¸€ä¸ª<strong>å…è´¹</strong>é…ç½® <code>cdn</code> çš„<a href="https://www.cloudflare.com/" target="_blank" rel="noopener">ç½‘ç«™</a>ï¼Œä½†æ˜¯ä¸æ¨èä½¿ç”¨ï¼ŒåŸå› å‰é¢æœ‰è¯´åˆ°ï¼Œä¼š <strong>å¤§å¤§é™ä½ç½‘ç»œé€Ÿåº¦</strong>ã€‚</p><p><strong>ws</strong></p><p><code>websocket</code> ï¼Œä¸€ç§åè®®ã€‚éœ€è¦æœ‰åŸŸåã€‚æŠŠç¿»å¢™æµé‡ä¼ªè£…æˆæ­£å¸¸è®¿é—®é…ç½®åŸŸåçš„æµé‡ã€‚</p><p><strong>tls</strong></p><p>ä¸€ç§åŠ å¯†åè®®ï¼Œéœ€è¦ä½¿ç”¨åŸŸåã€‚ä¸€èˆ¬é…åˆ <code>ws</code> ä½¿ç”¨ã€‚</p><p><strong>nginx</strong>(éå¿…é¡»)</p><p>æœåŠ¡å™¨é…ç½® <code>webç½‘ç«™</code> ä½¿ç”¨ï¼Œé…ç½®ä¸€ä¸ª <code>.html</code> æ–‡ä»¶ <code>ä¼ªè£…æˆé™æ€ç½‘ç«™</code>ã€‚</p><p><strong>httpsè¯ä¹¦</strong>(éå¿…é¡»)</p><p>ç»™ä¼ªè£…çš„ <code>web</code> ç½‘ç«™æ·»åŠ è¯ä¹¦ï¼Œè®©ç½‘ç«™æ›´çœŸå®ã€‚è¯ä¹¦æœ‰æ•ˆæœŸ3ä¸ªæœˆï¼Œ<code>ä¸€é”®å®‰è£…è„šæœ¬</code> ä¼šè‡ªåŠ¨ <code>ç”³è¯·ï¼Œä¸‹è½½è¯ä¹¦</code>ï¼Œå¹¶æ·»åŠ  <code>è¯ä¹¦è‡ªåŠ¨ç»­ç­¾ä»»åŠ¡</code>ï¼Œ<strong>ä½†æ˜¯ï¼Œéœ€è¦è‡ªå·±ä¿®æ”¹nginxé…ç½®ï¼Œé€‰æ‹©è¯ä¹¦è·¯å¾„ï¼ï¼</strong></p><p><strong>bbrä¸€é”®å®‰è£…è„šæœ¬</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate <span class="string">"https://raw.githubusercontent.com/chiakge/Linux-NetSpeed/master/tcp.sh"</span></span><br><span class="line">chmod +x tcp.sh</span><br><span class="line">./tcp.sh</span><br></pre></td></tr></table></figure><h3 id="å…·ä½“æ­å»ºæµç¨‹"><a href="#å…·ä½“æ­å»ºæµç¨‹" class="headerlink" title="å…·ä½“æ­å»ºæµç¨‹"></a>å…·ä½“æ­å»ºæµç¨‹</h3><h4 id="ç”³è¯·åŸŸå"><a href="#ç”³è¯·åŸŸå" class="headerlink" title="ç”³è¯·åŸŸå"></a>ç”³è¯·åŸŸå</h4><p>å¯ä»¥åœ¨ <a href="https://www.freenom.com/" target="_blank" rel="noopener">freenom</a> ç”³è¯·å…è´¹çš„åŸŸåã€‚ä¸è¿‡è¿™ä¸ªç½‘ç«™æ³¨å†Œæ¯”è¾ƒéº»çƒ¦â€¦..</p><p>ä¹Ÿå¯ä»¥åœ¨ <a href="https://cn.aliyun.com/" target="_blank" rel="noopener">é˜¿é‡Œäº‘</a>ï¼Œ<a href="https://cloud.tencent.com/" target="_blank" rel="noopener">è…¾è®¯äº‘</a> ç­‰æ³¨å†Œï¼Œéƒ½å¯ä»¥ã€‚</p><h4 id="é…ç½®cdn"><a href="#é…ç½®cdn" class="headerlink" title="é…ç½®cdn"></a>é…ç½®cdn</h4><p>å…è´¹çš„è¯å¯ä»¥åœ¨ <a href="https://www.cloudflare.com/" target="_blank" rel="noopener">cloudflare</a> é…ç½® cdnã€‚</p><ul><li>é…ç½®æ—¶ï¼Œä»£ç† <code>Proxy status</code> è®°å¾—ç‚¹æˆç°è‰²ï¼Œåœ¨ <code>bbr</code> å®‰è£…å®Œæˆåï¼Œåœ¨å†³å®šç‚¹äº®ã€‚</li><li>ç‚¹äº®ä¸ç‚¹äº®éƒ½å¯ä»¥ä½¿ç”¨ï¼Œç‚¹äº®å³ä½¿ç”¨ä»£ç†ï¼Œä¼ªè£…äº†çœŸå®ipï¼Œä½†é€Ÿåº¦ä¼šæ…¢å¾ˆå¤šï¼Œä¸ç‚¹äº®å³ç›´è¿ã€‚</li><li>é…ç½®å¥½åï¼Œéœ€è¦åœ¨ <code>åŸŸåç®¡ç†</code> çš„åœ°æ–¹(æ¯”ä¾‹å¦‚<code>é˜¿é‡Œäº‘-&gt;åŸŸå-&gt;ç®¡ç†-&gt;cdn</code>)ï¼Œå°† <code>dns</code> çš„2ä¸ªåœ°å€æ·»åŠ ä¸Šå»ã€‚</li></ul><h4 id="åˆ›å»ºvmå®ä¾‹"><a href="#åˆ›å»ºvmå®ä¾‹" class="headerlink" title="åˆ›å»ºvmå®ä¾‹"></a>åˆ›å»ºvmå®ä¾‹</h4><p>ä½¿ç”¨ä¸»æœºä¾›åº”å•†æ·»åŠ  <code>vmå®ä¾‹</code>å³å¯ï¼Œæ¨è <code>googleäº‘</code>ï¼Œ é€Ÿåº¦æœ€å¿«ã€‚</p><p>ä»¥ä¸‹ä»¥ <code>google</code> ä¸ºæ ‡å‡†ï¼š</p><p>åˆ›å»º <code>vm</code> å®ä¾‹</p><ul><li>é€‰æ‹© <code>é¦™æ¸¯+N1+f1-micro+å‹¾é€‰httpã€https+ç½‘ç»œæ ‡è®°rz,cz</code></li><li>ç¼–è¾‘é˜²ç«å¢™è§„åˆ™ <code>rz</code> ï¼š<code>æ–¹å‘ï¼šå…¥ç«™ï¼›ç›®æ ‡ï¼šç½‘ç»œä¸­çš„å®ä¾‹ï¼›æ¥æºè¿‡æ»¤æ¡ä»¶ï¼šIPåœ°å€èŒƒå›´ï¼›æ¥æºIPåœ°å€èŒƒå›´ï¼š0.0.0.0/0</code></li><li>ç¼–è¾‘é˜²ç«å¢™è§„åˆ™ <code>cz</code>ï¼š<code>æ–¹å‘ï¼šå‡ºç«™ï¼›ç›®æ ‡ï¼šç½‘ç»œä¸­çš„å®ä¾‹ï¼›æ¥æºè¿‡æ»¤æ¡ä»¶ï¼šIPåœ°å€èŒƒå›´ï¼›æ¥æºIPåœ°å€èŒƒå›´ï¼š0.0.0.0/0</code></li></ul><h4 id="ä¸€é”®è„šæœ¬å®‰è£…"><a href="#ä¸€é”®è„šæœ¬å®‰è£…" class="headerlink" title="ä¸€é”®è„šæœ¬å®‰è£…"></a>ä¸€é”®è„šæœ¬å®‰è£…</h4><p>åœ¨ <code>googleäº‘ vmå®ä¾‹</code> é¡µé¢ï¼Œç‚¹å‡» <code>SSH</code> é“¾æ¥ï¼š</p><ul><li><p>è¾“å…¥ <code>sudo -i</code> è·å– <code>root</code> æƒé™ï¼›</p></li><li><p>è¾“å…¥ä¸€é”®å®‰è£…è„šæœ¬</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -L -s https://raw.githubusercontent.com/wulabing/V2Ray_ws-tls_bash_onekey/master/install.sh) | tee v2ray_ins.log</span><br></pre></td></tr></table></figure></li><li><p>æŒ‰è¦æ±‚è¾“å…¥åŸŸåï¼Œç­‰å¾…è„šæœ¬æ‰§è¡Œå®Œæˆå³å¯ã€‚</p></li></ul><h4 id="ä¿®æ”¹nginxé…ç½®æ–‡ä»¶-éå¿…é¡»"><a href="#ä¿®æ”¹nginxé…ç½®æ–‡ä»¶-éå¿…é¡»" class="headerlink" title="ä¿®æ”¹nginxé…ç½®æ–‡ä»¶(éå¿…é¡»)"></a>ä¿®æ”¹nginxé…ç½®æ–‡ä»¶(éå¿…é¡»)</h4><p><strong>æ·»åŠ  <code>nginx</code> å‘½ä»¤åˆ°ç¯å¢ƒå˜é‡</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> PATH=<span class="variable">$PATH</span>:/etc/nginx/sbin &gt;&gt; /etc/profile</span><br><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure><p><strong>ä¸‹è½½å¹¶ä¿®æ”¹nginxé…ç½®æ–‡ä»¶</strong></p><p>çª—å£å³ä¸Šè§’ä¸‹è½½ï¼Œä¸‹è½½åç¼–è¾‘ï¼Œä¸»è¦ä¿®æ”¹ <code>åŸŸåã€ç«¯å£å·ã€/ptahã€httpsè¯ä¹¦è·¯å¾„</code></p><p>å¯ä»¥å‚è€ƒä¸‹é¢çš„é…ç½®</p><p>è¯¥é…ç½®åšäº†ä»¥ä¸‹å‡ ä»¶äº‹ï¼š</p><ul><li>é‡å®šå‘ <code>http(80ç«¯å£)</code> åˆ° <code>https(443ç«¯å£)</code>ã€‚</li><li>é‡å®šå‘ <code>/path</code> æˆ– <code>websocket</code> åè®®åˆ° <code>23188</code> ç«¯å£ï¼Œ<code>v2ray ws</code> åè®®ç”¨ã€‚</li><li>ä¿®æ”¹ <code>httpsè¯ä¹¦è·¯å¾„</code>ã€‚</li><li>ä¿®æ”¹ <code>åŸŸåã€ç«¯å£å·</code>ã€‚</li></ul><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="attribute">user</span>  root;</span><br><span class="line"><span class="attribute">worker_processes</span>  <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#error_log  logs/error.log;</span></span><br><span class="line"><span class="comment">#error_log  logs/error.log  notice;</span></span><br><span class="line"><span class="comment">#error_log  logs/error.log  info;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#pid        logs/nginx.pid;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section">events</span> &#123;</span><br><span class="line">    <span class="attribute">worker_connections</span>  <span class="number">4096</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    <span class="attribute">include</span>       mime.types;</span><br><span class="line">    <span class="attribute">default_type</span>  application/octet-stream;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '</span></span><br><span class="line">    <span class="comment">#                  '$status $body_bytes_sent "$http_referer" '</span></span><br><span class="line">    <span class="comment">#                  '"$http_user_agent" "$http_x_forwarded_for"';</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#access_log  logs/access.log  main;</span></span><br><span class="line"></span><br><span class="line">    <span class="attribute">sendfile</span>        <span class="literal">on</span>;</span><br><span class="line">    <span class="comment">#tcp_nopush     on;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#keepalive_timeout  0;</span></span><br><span class="line">    <span class="attribute">keepalive_timeout</span>  <span class="number">65</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#gzip  on;</span></span><br><span class="line"></span><br><span class="line">    <span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">listen</span>       <span class="number">80</span>;</span><br><span class="line">        <span class="attribute">server_name</span>  kxsw.jianwill.cn;</span><br><span class="line">        <span class="attribute">return</span> <span class="number">301</span> https://kxsw.jianwill.cn:443;</span><br><span class="line"></span><br><span class="line">        <span class="comment">#charset koi8-r;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#access_log  logs/host.access.log  main;</span></span><br><span class="line"></span><br><span class="line">        <span class="attribute">location</span> / &#123;</span><br><span class="line">            <span class="attribute">root</span>   /home/wwwroot/3DCEList;</span><br><span class="line">            <span class="attribute">index</span>  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">#error_page  404              /404.html;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># redirect server error pages to the static page /50x.html</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="attribute">error_page</span>   <span class="number">500</span> <span class="number">502</span> <span class="number">503</span> <span class="number">504</span>  /50x.html;</span><br><span class="line">        <span class="attribute">location</span> = /50x.html &#123;</span><br><span class="line">            <span class="attribute">root</span>   html;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># proxy the PHP scripts to Apache listening on 127.0.0.1:80</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment">#location ~ \.php$ &#123;</span></span><br><span class="line">        <span class="comment">#    proxy_pass   http://127.0.0.1;</span></span><br><span class="line">        <span class="comment">#&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment">#location ~ \.php$ &#123;</span></span><br><span class="line">        <span class="comment">#    root           html;</span></span><br><span class="line">        <span class="comment">#    fastcgi_pass   127.0.0.1:9000;</span></span><br><span class="line">        <span class="comment">#    fastcgi_index  index.php;</span></span><br><span class="line">        <span class="comment">#    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;</span></span><br><span class="line">        <span class="comment">#    include        fastcgi_params;</span></span><br><span class="line">        <span class="comment">#&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># deny access to .htaccess files, if Apache's document root</span></span><br><span class="line">        <span class="comment"># concurs with nginx's one</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment">#location ~ /\.ht &#123;</span></span><br><span class="line">        <span class="comment">#    deny  all;</span></span><br><span class="line">        <span class="comment">#&#125;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># another virtual host using mix of IP-, name-, and port-based configuration</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#server &#123;</span></span><br><span class="line">    <span class="comment">#    listen       8000;</span></span><br><span class="line">    <span class="comment">#    listen       somename:8080;</span></span><br><span class="line">    <span class="comment">#    server_name  somename  alias  another.alias;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#    location / &#123;</span></span><br><span class="line">    <span class="comment">#        root   html;</span></span><br><span class="line">    <span class="comment">#        index  index.html index.htm;</span></span><br><span class="line">    <span class="comment">#    &#125;</span></span><br><span class="line">    <span class="comment">#&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># HTTPS server</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">listen</span>       <span class="number">443</span> ssl http2;</span><br><span class="line">        <span class="attribute">server_name</span>  kxsw.jianwill.cn;</span><br><span class="line"></span><br><span class="line">        <span class="attribute">ssl_certificate</span>      /data/v2ray.crt;</span><br><span class="line">        <span class="attribute">ssl_certificate_key</span>  /data/v2ray.key;</span><br><span class="line"></span><br><span class="line">        <span class="attribute">ssl_session_cache</span>    shared:SSL:<span class="number">1m</span>;</span><br><span class="line">        <span class="attribute">ssl_session_timeout</span>  <span class="number">5m</span>;</span><br><span class="line"></span><br><span class="line">        <span class="attribute">ssl_ciphers</span>  HIGH:!aNULL:!MD5;</span><br><span class="line">        <span class="attribute">ssl_prefer_server_ciphers</span>  <span class="literal">on</span>;</span><br><span class="line">        <span class="attribute">ssl_protocols</span> TLSv1 TLSv1.<span class="number">1</span> TLSv1.<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">        <span class="attribute">location</span> / &#123;</span><br><span class="line">            <span class="attribute">root</span> /home/wwwroot/3DCEList;</span><br><span class="line">            <span class="attribute">index</span> index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="attribute">location</span> /8fded3d7/ &#123;</span><br><span class="line">            <span class="attribute">proxy_redirect</span> <span class="literal">off</span>;</span><br><span class="line">            <span class="attribute">proxy_pass</span> http://127.0.0.1:23188;</span><br><span class="line">            <span class="attribute">proxy_http_version</span> <span class="number">1</span>.<span class="number">1</span>;</span><br><span class="line">            <span class="attribute">proxy_set_header</span> Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">            <span class="attribute">proxy_set_header</span> Connection <span class="string">"upgrade"</span>;</span><br><span class="line">            <span class="attribute">proxy_set_header</span> Host <span class="variable">$http_host</span>;</span><br><span class="line">            <span class="attribute">proxy_intercept_errors</span> <span class="literal">on</span>;</span><br><span class="line">            <span class="attribute">if</span> (<span class="variable">$http_upgrade</span> = <span class="string">"websocket"</span> )&#123;</span><br><span class="line">               <span class="attribute">proxy_pass</span> http://127.0.0.1:23188;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="attribute">include</span> conf.d/<span class="regexp">*.conf</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ä¸Šä¼ nginx.confé…ç½®æ–‡ä»¶</strong><br>çª—å£å³ä¸Šè§’ï¼Œä¸Šä¼ æ–‡ä»¶ï¼Œä¸Šä¼ ååˆ°æ–‡ä»¶é»˜è®¤åœ¨ <code>/home/googleç”¨æˆ·å/</code> è·¯å¾„ä¸‹ï¼Œæ¯”å¦‚æˆ‘çš„æ˜¯ <code>/home/jian23333/</code></p><p><strong>æ‹·è´nginx.confåˆ°nginxé…ç½®ç›®å½•</strong></p><p><code>nginx</code> é…ç½®æ–‡ä»¶è·¯å¾„æ˜¯ <code>/etc/nginx/conf/</code></p><p>æ‰€ä»¥ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /home/jian23333/</span><br><span class="line">cp nginx.conf /etc/nginx/conf/</span><br><span class="line">// é»˜è®¤ä¼šç›´æ¥è¦†ç›–</span><br></pre></td></tr></table></figure><p>PSï¼š å¦‚æœä¸Šä¼ çš„æ—¶å€™ï¼Œå·²ç»å­˜åœ¨ <code>nginx.conf</code>ï¼Œä¸Šä¼ çš„æ–‡ä»¶ä¼šè¢«å‘½åä¸º <code>nginx_(n).conf</code>ï¼Œåé¢æ‰§è¡Œå‘½ä»¤çš„æ—¶å€™ <code>(</code> è¿™ä¸ªç¬¦å·å¯èƒ½ä¼šè¯†åˆ«æŠ¥é”™ï¼Œè¿™æ—¶å¯ä»¥åˆ æ‰åŸæ¥çš„æ‰€æœ‰ <code>nginx_(n).conf</code> æ–‡ä»¶ï¼Œé‡æ–°ä¸Šä¼ ï¼Œå°±å‘½åæˆ <code>nginx.conf</code> æ–‡ä»¶äº†ã€‚</p><p>åˆ é™¤å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /home/jian23333/</span><br><span class="line">rm *.conf</span><br></pre></td></tr></table></figure><p><strong>æ ¡éªŒå¹¶é‡æ–°å¯åŠ¨nginx</strong></p><ul><li>æ ¡éªŒï¼š<code>nginx -t</code></li></ul><ul><li>é‡æ–°å¯åŠ¨ï¼š<code>nginx -s reload</code></li></ul><ul><li>æŸ¥çœ‹nginxæ˜¯å¦å¯åŠ¨ï¼š<code>ps -ef | grep nginx</code>ï¼Œçœ‹æ˜¯å¦æœ‰ <code>master</code> çš„è¡Œ</li></ul><p>å¦‚æœæ ¡éªŒæŠ¥é”™ï¼Œæ ¹æ®é”™è¯¯æç¤ºï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ã€‚</p><p>å¯ä»¥ä½¿ç”¨ <code>vi /etc/nginx/conf/nginx.conf</code> ç›´æ¥ä¿®æ”¹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸Šé¢çš„æ–¹å¼ä¸‹è½½åˆ°æœ¬åœ°ï¼Œä¿®æ”¹ï¼Œå†ä¸Šä¼ çš„æ–¹å¼ã€‚</p><p>å¦‚æœæç¤º <code>nginx: command not found</code> ï¼Œå°±æ˜¯æ²¡æœ‰æŠŠ <code>nginx</code> é…ç½®åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼Œé‡æ–°æ‰§è¡Œä¸Šé¢çš„ <code>ç¬¬ä¸€æ­¥ï¼šæ·»åŠ nginxå‘½ä»¤åˆ°ç¯å¢ƒå˜é‡</code> å³å¯ã€‚</p><h4 id="å®‰è£…bbråŠ é€Ÿ"><a href="#å®‰è£…bbråŠ é€Ÿ" class="headerlink" title="å®‰è£…bbråŠ é€Ÿ"></a>å®‰è£…bbråŠ é€Ÿ</h4><p><strong>å®‰è£…bbr</strong></p><p>æ‰§è¡Œbbrä¸€é”®å®‰è£…è„šæœ¬</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate <span class="string">"https://raw.githubusercontent.com/chiakge/Linux-NetSpeed/master/tcp.sh"</span></span><br><span class="line">chmod +x tcp.sh</span><br><span class="line">./tcp.sh</span><br></pre></td></tr></table></figure><p>ä¾æ¬¡æ‰§è¡Œ<code>2-7</code>ï¼Œå³<code>å®‰è£…bbrPlus</code>ï¼Œ<code>ä½¿ç”¨bbrPlusåŠ é€Ÿ</code></p><p>å®‰è£…ä¹‹åä½¿ç”¨<code>./tcp.sh</code>å³å¯é‡å¤æ‰§è¡Œå‘½ä»¤</p><p><del>æœŸé—´ä¼šé‡å¯ä¸€æ¬¡ã€‚</del></p><p>ç»æµ‹è¯•ï¼Œå‘ç° <code>bbrPlus</code> æ¯” <code>bbr</code> åŠ é€Ÿæ•ˆæœæ›´å¥½ã€‚</p><p><strong>æ£€æŸ¥bbræ˜¯å¦å®‰è£…æˆåŠŸ</strong></p><ul><li><p>éªŒè¯å½“å‰<code>TCP</code>çš„æ§åˆ¶ç®—æ³•(<strong>æ˜¯å¦å®‰è£…<code>bbr</code></strong>)ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysctl net.ipv4.tcp_available_congestion_control</span><br></pre></td></tr></table></figure><p>è¿”å›å€¼ä¸€èˆ¬ä¸ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">net.ipv4.tcp_available_congestion_control = bbr cubic reno</span><br><span class="line">// æˆ–è€…</span><br><span class="line">net.ipv4.tcp_available_congestion_control = reno cubic bbr</span><br></pre></td></tr></table></figure></li><li><p>éªŒè¯<code>BBR</code>æ˜¯å¦å·²ç»å¯åŠ¨(<strong>æ˜¯å¦å¯åŠ¨<code>bbr</code></strong>)ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysctl net.ipv4.tcp_congestion_control</span><br></pre></td></tr></table></figure><p>è¿”å›å€¼ä¸€èˆ¬ä¸ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net.ipv4.tcp_congestion_control = bbr</span><br></pre></td></tr></table></figure></li><li><p>æˆ–è€…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsmod | grep bbr</span><br></pre></td></tr></table></figure><p>è¿”å›å€¼ä¸€èˆ¬ä¸ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// è¿”å›å€¼æœ‰tcp_bbrplus å³è¯´æ˜bbrå·²ç»å¯åŠ¨ã€‚</span><br><span class="line">// PSï¼šä½†ä¸æ˜¯æ‰€æœ‰vpséƒ½ä¼šæœ‰æ­¤è¿”å›å€¼ï¼Œæ²¡æœ‰ä¹Ÿæ­£å¸¸ã€‚</span><br><span class="line">tcp_bbrplus            20480  21</span><br></pre></td></tr></table></figure></li><li><p><strong>æ³¨æ„ï¼š</strong> <code>bbrPlus</code> æœ‰æ—¶å€™ä¼šè‡ªåŠ¨å¤±æ•ˆ(æ¯”å¦‚é‡å¯æœåŠ¡å™¨åï¼Ÿ)ï¼Œæ­¤æ—¶éœ€æ‰‹åŠ¨å†æ¬¡å¼€å¯<code>bbrPlus</code></p></li></ul><h4 id="å…¶ä»–é—®é¢˜"><a href="#å…¶ä»–é—®é¢˜" class="headerlink" title="å…¶ä»–é—®é¢˜"></a>å…¶ä»–é—®é¢˜</h4><p><strong>å¦‚æœè¦æ›´æ¢åŸŸåï¼Œå‘ç°åŸŸåè¯ä¹¦æ²¡æœ‰ä¸€èµ·æ›´æ–°æ€ä¹ˆåŠï¼Ÿ</strong></p><p><del>åˆ æ‰è¯ä¹¦æ–‡ä»¶ï¼Œé‡æ–°æ‰§è¡Œä¸€é”®å®‰è£…è„šæœ¬ï¼Œé€‰æ‹©é‡æ–°å®‰è£… <code>ws+tls+nginx</code></del></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// ä½œåºŸï¼ä½œåºŸï¼ä½œåºŸï¼</span><br><span class="line"><span class="built_in">cd</span> /data/</span><br><span class="line">rm v2ray.crt</span><br><span class="line">rm v2ray.key</span><br><span class="line">bash &lt;(curl -L -s https://raw.githubusercontent.com/wulabing/V2Ray_ws-tls_bash_onekey/master/install.sh) | tee v2ray_ins.log</span><br><span class="line">1</span><br></pre></td></tr></table></figure><p>ä¸€é”®å®‰è£…è„šæœ¬å·²æ›´æ–°å¹¶æ·»åŠ <strong>åˆ é™¤è¯ä¹¦é—ç•™æ–‡ä»¶</strong>åŠŸèƒ½ï¼Œæ‰§è¡Œä¸€é”®å®‰è£…è„šæœ¬ï¼Œé€‰æ‹©<code>16</code>å³å¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -L -s https://raw.githubusercontent.com/wulabing/V2Ray_ws-tls_bash_onekey/master/install.sh) | tee v2ray_ins.log</span><br><span class="line">16</span><br></pre></td></tr></table></figure><p><strong>å¦‚ä½•é‡å¯æœåŠ¡å™¨</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure><h3 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h3><p><code>bbr</code> åŠ é€Ÿåï¼Œ<code>youtube 4K 60fps</code> ï¼Œé€Ÿåº¦å¯ä»¥è¾¾åˆ° <code>170k Kbps</code>ï¼Œç½‘é€Ÿ <code>17m/s</code> ï¼ˆæˆ‘ç”¨çš„100Mç”µä¿¡ï¼Œç¨³å®š20k Kbpså°±å¯ä»¥æµç•…çœ‹ 4K 60fpsï¼‰ã€‚</p><p>æ‰€ä»¥ï¼Œç°åœ¨æ˜¯ <strong>ç§’å¼€4Kï¼Œ8K</strong></p><p><strong>ç”¨æˆ·ä½“æ£€æå¥½ï¼â€¦</strong></p><p><img src="/images/v2ray-1.jpg" alt></p><p><strong>è€Œä¸”è¿˜æœ‰ä¼ªè£…ä¸»é¡µ</strong>(httpsåŠ å¯†)</p><p>åœ°å€ä¸ºï¼š<a href="https://kxsw.jianwill.cn/" target="_blank" rel="noopener">kxsw.jianwill.cn</a></p><h3 id="ç›¸å…³èµ„æ–™ä»‹ç»"><a href="#ç›¸å…³èµ„æ–™ä»‹ç»" class="headerlink" title="ç›¸å…³èµ„æ–™ä»‹ç»"></a>ç›¸å…³èµ„æ–™ä»‹ç»</h3><p>æŠ˜è…¾äº†å‡ ä¸ªæœˆï¼Œå°è¯•äº†å¤šå®¶ä¾›åº”å•†ä¸åŒåœ°åŒºçš„æœåŠ¡å™¨ï¼Œ<code>vultr ç¾å›½ã€å·´é»ã€æ–°åŠ å¡ã€æ—¥æœ¬ç­‰</code>ï¼Œ<code>googleäº‘ é¦™æ¸¯ç­‰</code>ï¼Œä¸åŒçš„åè®® <code>tcpã€mckpä¼ªè£…BTä¸‹è½½ã€mkcpä¼ªè£…Facetimeç«¥è¯ã€mkcpä¼ªè£…å¾®ä¿¡è§†é¢‘ã€websocket</code>ï¼Œ<code>cdn</code>ï¼Œ<code>nginx</code> ç­‰å¤šç§æ–¹æ¡ˆï¼Œæœ€åå†³å®šä½¿ç”¨ <code>googleäº‘é¦™æ¸¯æœåŠ¡å™¨+ws+tls+nginx+ä¼ªè£…ä¸»é¡µ</code> çš„æ–¹å¼ã€‚</p><p>å‚è€ƒäº†å¾ˆå¤šèµ„æ–™ï¼Œè§†é¢‘ï¼Œä¸‹é¢ä¸ºå‡ ä¸ªä¸»è¦çš„ã€‚</p><ol><li><a href="https://www.youtube.com/watch?v=GrHEVhGoqK0&amp;list=PLFQSCKX4FTD7P0PYNTFkUA3Dd2BhatadZ&amp;index=3&amp;t=13s" target="_blank" rel="noopener">è§†é¢‘:v2ray+ws+tls+nginx</a></li><li><a href="https://briteming.blogspot.com/2019/01/v2ray-websocket-web-nginx.html" target="_blank" rel="noopener">æ–‡ç« :v2ray+ws+tls+nginxæ‰‹åŠ¨åŠä¸€é”®è„šæœ¬</a></li><li><a href="https://www.freenom.com/" target="_blank" rel="noopener">ç”³è¯·å…è´¹åŸŸåfroomon</a></li><li><a href="https://www.cloudflare.com/" target="_blank" rel="noopener">å…è´¹cdn cloudflare</a></li><li><a href="https://cloud.google.com/" target="_blank" rel="noopener">googleäº‘ gcp</a></li><li><a href="http://ping.chinaz.com/" target="_blank" rel="noopener">pingæµ‹è¯•</a></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç”±äºæŸäº›ä¼—æ‰€å‘¨çŸ¥çš„åŸå› ï¼Œemmmmmâ€¦.ï¼Œä¸ä¹…å‰çš„è¡€è‰²åæœˆï¼Œä¸€å¤§æ³¢æ¢¯å­è¢«å°äº†ã€‚æ¯«æ— æ„å¤–ï¼Œæˆ‘çš„ &lt;code&gt;ss&lt;/code&gt; ä¹Ÿè¢«å°äº†ï¼Œè€Œä¸”ä»é‚£ä¹‹åï¼Œ&lt;code&gt;ss&lt;/code&gt; å°±å˜å¾—ä¸å¥½ç”¨äº†ï¼Œé€Ÿåº¦æ…¢ï¼Œè¿˜ç»å¸¸ä¸Šä¸äº†ç½‘ã€‚&lt;/p&gt;&lt;p&gt;ç„¶åå§ï¼Œç ”ç©¶äº†ä¸‹ç›®å‰æ¯”è¾ƒä¸»æµçš„æ–¹å¼ &lt;code&gt;v2ray&lt;/code&gt; ï¼ŒåŒ…æ‹¬ &lt;code&gt;æ­å»ºæ–¹å¼&lt;/code&gt; ã€&lt;code&gt;é€Ÿåº¦ä¼˜åŒ–&lt;/code&gt;ã€&lt;code&gt;ipä¼ªè£…é˜²å°&lt;/code&gt; ç­‰ï¼Œå‘ç° &lt;code&gt;v2ray : ws + tls + nginx + cdn&lt;/code&gt; çš„æ–¹å¼é€Ÿåº¦å’Œä¼ªè£…æ€§éƒ½å¾ˆå¥½ã€‚&lt;/p&gt;&lt;p&gt;å†ç„¶åå§ï¼Œä»Šå¤©å°±æ€»ç»“ä¸€ä¸‹è¿™ä¸ªå¥½äº†â€¦..&lt;/p&gt;
    
    </summary>
    
      <category term="ä¸€èµ·å“ˆå•¤" scheme="http://jian2333.github.io/categories/%E4%B8%80%E8%B5%B7%E5%93%88%E5%95%A4/"/>
    
    
      <category term="v2ray" scheme="http://jian2333.github.io/tags/v2ray/"/>
    
      <category term="vpn" scheme="http://jian2333.github.io/tags/vpn/"/>
    
      <category term="ç§‘å­¦ä¸Šç½‘" scheme="http://jian2333.github.io/tags/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/"/>
    
  </entry>
  
  <entry>
    <title>ss + proxifier å®ç°vpnæ¸¸æˆä»£ç†</title>
    <link href="http://jian2333.github.io/2019/09/10/sstovpn/"/>
    <id>http://jian2333.github.io/2019/09/10/sstovpn/</id>
    <published>2019-09-10T14:40:54.000Z</published>
    <updated>2019-09-13T02:48:14.588Z</updated>
    
    <content type="html"><![CDATA[<p>ä¹‹å‰æ­è¿‡ä¸€ä¸ª <code>ss</code> (æ­å»ºæ•™ç¨‹å¯ä»¥å‚è€ƒ <a href="https://github.com/Alvin9999/new-pac/wiki/%E8%87%AA%E5%BB%BAss%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%95%99%E7%A8%8B" target="_blank" rel="noopener">è‡ªå»ºss/ssræœåŠ¡å™¨æ•™ç¨‹</a>)ï¼Œä½† <code>ss</code> åªèƒ½åœ¨æµè§ˆå™¨ä¸Šç”¨ï¼Œå¦‚æœæƒ³åƒ <code>vpn</code> ä¸€æ ·ä»£ç†æ¸¸æˆçš„è¯ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p>å¥½åœ¨è¿™ä¸ªé—®é¢˜å·²ç»æœ‰è§£å†³æ–¹æ¡ˆäº†ï¼Œå°±æ˜¯æ­é… <code>Proxifier</code> ä½¿ç”¨ã€‚</p><p>ä¸‹é¢ï¼Œå°±æ˜¯è®¾ç½® <code>Proxifier</code> çš„æ­¥éª¤ã€‚</p><a id="more"></a><h3 id="ä¸‹è½½-ss-å’Œ-Proxifier"><a href="#ä¸‹è½½-ss-å’Œ-Proxifier" class="headerlink" title="ä¸‹è½½ ss å’Œ Proxifier"></a>ä¸‹è½½ <code>ss</code> å’Œ <code>Proxifier</code></h3><p><strong>ä¸‹è½½ <code>ss</code></strong></p><ul><li><strong>Windows SSRå®¢æˆ·ç«¯</strong> ï¼š<a href="https://github.com/shadowsocksr-backup/shadowsocksr-csharp/releases" target="_blank" rel="noopener">ä¸‹è½½åœ°å€</a></li><li><strong>Mac SSRå®¢æˆ·ç«¯</strong> ï¼š<a href="https://github.com/shadowsocksr-backup/ShadowsocksX-NG/releases" target="_blank" rel="noopener">ä¸‹è½½åœ°å€</a></li></ul><p><strong>ä¸‹è½½ <code>Proxifier</code></strong></p><ul><li><strong>Windows ä¾¿æºç‰ˆ</strong> ï¼š<a href="https://www.proxifier.com/distr/ProxifierPE.zip" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></li><li><strong>Windows å®‰è£…ç‰ˆ</strong> ï¼š<a href="https://www.proxifier.com/distr/ProxifierSetup.exe" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></li><li><strong>Macç‰ˆ</strong> ï¼š<a href="https://www.proxifier.com/distr/ProxifierMac.zip" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></li></ul><h3 id="å®ç°æ­¥éª¤"><a href="#å®ç°æ­¥éª¤" class="headerlink" title="å®ç°æ­¥éª¤"></a>å®ç°æ­¥éª¤</h3><h4 id="å¯åŠ¨ss"><a href="#å¯åŠ¨ss" class="headerlink" title="å¯åŠ¨ss"></a>å¯åŠ¨ss</h4><p>å¯åŠ¨å¹¶è®¾ç½®å¥½ <code>ss</code> ï¼Œä¿è¯èƒ½æ­£å¸¸è¿è¡Œå³å¯ã€‚</p><h4 id="å¯åŠ¨å¹¶è®¾ç½®-Proxifier"><a href="#å¯åŠ¨å¹¶è®¾ç½®-Proxifier" class="headerlink" title="å¯åŠ¨å¹¶è®¾ç½® Proxifier"></a>å¯åŠ¨å¹¶è®¾ç½® <code>Proxifier</code></h4><p>å¯åŠ¨ <code>Proxifier</code> åï¼Œè¦é…ç½®ä»¥ä¸‹ä¸‰ä¸ªæ­¥éª¤ï¼š</p><ul><li>ä»£ç†æœåŠ¡å™¨è®¾ç½®</li><li>ä»£ç†è§„åˆ™è®¾ç½®</li><li>åŸŸåè§£æè®¾ç½®</li></ul><h5 id="ä»£ç†æœåŠ¡å™¨è®¾ç½®"><a href="#ä»£ç†æœåŠ¡å™¨è®¾ç½®" class="headerlink" title="ä»£ç†æœåŠ¡å™¨è®¾ç½®"></a>ä»£ç†æœåŠ¡å™¨è®¾ç½®</h5><ul><li><code>profile</code> â€“&gt; <code>Proxy Servers</code></li><li>æ·»åŠ  <code>Server</code></li><li>è®¾ç½® <code>Address</code> å’Œ <code>Port</code></li><li>ä¿®æ”¹ <code>Protocol</code></li><li><code>Check</code></li><li><code>OK</code></li></ul><p><img src="/images/sspro-1.jpg" alt></p><p><img src="/images/sspro-2.jpg" alt></p><h5 id="ä»£ç†è§„åˆ™è®¾ç½®"><a href="#ä»£ç†è§„åˆ™è®¾ç½®" class="headerlink" title="ä»£ç†è§„åˆ™è®¾ç½®"></a>ä»£ç†è§„åˆ™è®¾ç½®</h5><ul><li><code>profile</code> â€“&gt; <code>Proxification Rules</code></li><li>è®¾ç½® <code>Localhost</code></li><li>è®¾ç½® <code>éœ€è¦ä»£ç†çš„æ¸¸æˆ</code>ï¼Œæ¯”å¦‚ <code>GTAV</code></li><li>è®¾ç½® <code>é»˜è®¤è¿æ¥æ–¹å¼</code></li></ul><p><img src="/images/sspro-3.jpg" alt></p><p><img src="/images/sspro-4.jpg" alt></p><p><img src="/images/sspro-5.jpg" alt></p><h5 id="åŸŸåè§£æè®¾ç½®"><a href="#åŸŸåè§£æè®¾ç½®" class="headerlink" title="åŸŸåè§£æè®¾ç½®"></a>åŸŸåè§£æè®¾ç½®</h5><ul><li><code>profile</code> â€“&gt; <code>Name Resolution</code></li><li>è®¾ç½® <code>é€šè¿‡ä»£ç†æœåŠ¡å™¨è§£æåŸŸå</code></li><li>è®¾ç½® <code>ä¸è§£æä»¥ä¸‹ä¸»æœº</code></li></ul><p><img src="/images/sspro-6.jpg" alt></p><h3 id="æ•ˆæœå›¾"><a href="#æ•ˆæœå›¾" class="headerlink" title="æ•ˆæœå›¾"></a>æ•ˆæœå›¾</h3><p>ä¸‹é¢æ˜¯ <code>ss</code> + <code>Proxifier</code> ä»£ç†åï¼Œå¯åŠ¨ <code>GTAV</code> çš„æ•ˆæœå›¾</p><p><img src="/images/sspro-7.jpg" alt></p><p>ç„¶åï¼Œç»ˆäºå¯ä»¥æ„‰å¿«çš„ä½“éªŒ <strong>GTAV èµŒåœºDLC</strong> äº†â€¦</p><p>(æ‰‹åŠ¨ç‹—å¤´ï¼Œæ»‘é¸¡!)</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¹‹å‰æ­è¿‡ä¸€ä¸ª &lt;code&gt;ss&lt;/code&gt; (æ­å»ºæ•™ç¨‹å¯ä»¥å‚è€ƒ &lt;a href=&quot;https://github.com/Alvin9999/new-pac/wiki/%E8%87%AA%E5%BB%BAss%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%95%99%E7%A8%8B&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;è‡ªå»ºss/ssræœåŠ¡å™¨æ•™ç¨‹&lt;/a&gt;)ï¼Œä½† &lt;code&gt;ss&lt;/code&gt; åªèƒ½åœ¨æµè§ˆå™¨ä¸Šç”¨ï¼Œå¦‚æœæƒ³åƒ &lt;code&gt;vpn&lt;/code&gt; ä¸€æ ·ä»£ç†æ¸¸æˆçš„è¯ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ&lt;/p&gt;&lt;p&gt;å¥½åœ¨è¿™ä¸ªé—®é¢˜å·²ç»æœ‰è§£å†³æ–¹æ¡ˆäº†ï¼Œå°±æ˜¯æ­é… &lt;code&gt;Proxifier&lt;/code&gt; ä½¿ç”¨ã€‚&lt;/p&gt;&lt;p&gt;ä¸‹é¢ï¼Œå°±æ˜¯è®¾ç½® &lt;code&gt;Proxifier&lt;/code&gt; çš„æ­¥éª¤ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="ä¸€èµ·å“ˆå•¤" scheme="http://jian2333.github.io/categories/%E4%B8%80%E8%B5%B7%E5%93%88%E5%95%A4/"/>
    
    
      <category term="vpn" scheme="http://jian2333.github.io/tags/vpn/"/>
    
      <category term="ss" scheme="http://jian2333.github.io/tags/ss/"/>
    
  </entry>
  
  <entry>
    <title>æ­£åˆ™è¡¨è¾¾å¼</title>
    <link href="http://jian2333.github.io/2019/09/05/regexp/"/>
    <id>http://jian2333.github.io/2019/09/05/regexp/</id>
    <published>2019-09-05T14:51:00.000Z</published>
    <updated>2020-03-18T07:55:22.686Z</updated>
    
    <content type="html"><![CDATA[<style>table{width:auto}</style><p>ç ”ç©¶äº†ä¸€ä¸‹æ­£åˆ™è¡¨è¾¾å¼</p><p>ç†è§£çš„ä¸æ·±ï¼Œä½†ä¹Ÿæœ‰äº›å¿ƒå¾—</p><p>æ‰€ä»¥</p><p>åšä¸ªæ€»ç»“ï½</p><p>å“ˆå“ˆå“ˆ</p><a id="more"></a><h3 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><p>æ­£åˆ™è¡¨è¾¾å¼åœ¨ä¸åŒçš„è¯­è¨€æœ‰ä¸åŒçš„ä½¿ç”¨æ–¹æ³•</p><p>ä¸€èˆ¬éƒ½æ˜¯ <code>/^xxxx$/</code></p><p>å…¶ä¸­ï¼š</p><ul><li><code>//</code> ï¼šä»£è¡¨é‡Œé¢æ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…è§„åˆ™</li><li><code>^</code> ï¼šè¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼çš„å¼€å§‹</li><li><code>$</code> ï¼šè¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼çš„ç»“æŸ</li><li><code>xxx</code> ï¼š ä½äº <code>^</code> å’Œ <code>$</code> ä¹‹é—´çš„ä¸ºæ­£åˆ™è¡¨è¾¾å¼è§„åˆ™ï¼Œç”¨äºåŒ¹é…å­—ç¬¦ä¸²ç­‰</li></ul><h3 id="ç†è§£"><a href="#ç†è§£" class="headerlink" title="ç†è§£"></a>ç†è§£</h3><p>è¯´å‡ ä¸ªè‡ªèº«çš„ç†è§£å§</p><h4 id="ç‰¹æ®Šå­—ç¬¦"><a href="#ç‰¹æ®Šå­—ç¬¦" class="headerlink" title="ç‰¹æ®Šå­—ç¬¦"></a>ç‰¹æ®Šå­—ç¬¦</h4><table><thead><tr><th style="text-align:center">ç¬¦å·</th><th style="text-align:left">ä½œç”¨</th></tr></thead><tbody><tr><td style="text-align:center">^</td><td style="text-align:left">å¼€å§‹æ ‡è¯†ã€‚æ–¹æ‹¬å· <code>[ ]</code> ä¸­è¡¨ç¤ºä¸åŒ…å«å¯¹åº”çš„é›†åˆ</td></tr><tr><td style="text-align:center">$</td><td style="text-align:left">ç»“æŸæ ‡è¯†</td></tr><tr><td style="text-align:center">[ ]</td><td style="text-align:left">ç”¨äºåŒ¹é…å…·ä½“çš„å€¼ï¼Œæ¯”å¦‚ <code>[A-Z] [A-Za-z] [0-9]</code></td></tr><tr><td style="text-align:center">( )</td><td style="text-align:left">ç”¨äºæ•´ç†è¡¨è¾¾å¼ï¼Œç¡®å®šåŒ¹é…çš„ä¼˜å…ˆçº§ï¼Œç±»ä¼¼æ•°å­¦ä¸­çš„ <code>()</code><br>ç”¨äºåˆ†ç»„ï¼Œå¯ç”¨$1ï¼Œ$2 â€¦ è·å–å¯¹åº”åˆ†ç»„é‡Œçš„å†…å®¹</td></tr><tr><td style="text-align:center">{ }</td><td style="text-align:left">ç”¨äºè®¾ç½®åŒ¹é…æ¬¡æ•°ï¼Œå¦‚æœªè®¾ç½®ï¼Œ<strong>é»˜è®¤ä¸º1æ¬¡</strong></td></tr><tr><td style="text-align:center">[ç«–æ†]</td><td style="text-align:left">åŒ¹é…ä¸¤è€…ä¸­çš„ä¸€ä¸ªï¼Œéœ€ç”¨æ‹¬å·æ‹¬èµ·æ¥ï¼Œæ¯”å¦‚ <code>(0[ç«–æ†][1-9][0-9]*)</code></td></tr><tr><td style="text-align:center">\</td><td style="text-align:left">è½¬ä¹‰å­—ç¬¦</td></tr><tr><td style="text-align:center">.</td><td style="text-align:left">åŒ¹é…é™¤æ¢è¡Œç¬¦ <code>\n</code> ä¹‹å¤–çš„ä»»ä½•å•å­—ç¬¦ã€‚è¦åŒ¹é… <code>.</code> ï¼Œè¯·ä½¿ç”¨ <code>\.</code></td></tr></tbody></table><h4 id="é™å®šç¬¦"><a href="#é™å®šç¬¦" class="headerlink" title="é™å®šç¬¦"></a>é™å®šç¬¦</h4><p>æœªä½¿ç”¨é™å®šç¬¦æ—¶ï¼Œ<strong>é»˜è®¤åŒ¹é…1æ¬¡</strong></p><table><thead><tr><th style="text-align:center">ç¬¦å·</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td style="text-align:center">*</td><td>åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼<strong>é›¶æ¬¡æˆ–å¤šæ¬¡</strong>ã€‚ä¾‹å¦‚ï¼Œzo<em> èƒ½åŒ¹é…â€zâ€ ä»¥åŠ â€œzooâ€ã€‚</em> ç­‰ä»·äº{0,}ã€‚</td></tr><tr><td style="text-align:center">+</td><td>åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼<strong>ä¸€æ¬¡æˆ–å¤šæ¬¡</strong>ã€‚ä¾‹å¦‚ï¼Œâ€™zo+â€™ èƒ½åŒ¹é… â€œzoâ€ ä»¥åŠ â€œzooâ€ï¼Œä½†ä¸èƒ½åŒ¹é… â€œzâ€ã€‚+ ç­‰ä»·äº {1,}ã€‚</td></tr><tr><td style="text-align:center">ï¼Ÿ</td><td>åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼<strong>é›¶æ¬¡æˆ–ä¸€æ¬¡</strong>ã€‚ä¾‹å¦‚ï¼Œâ€do(es)?â€ å¯ä»¥åŒ¹é… â€œdoâ€ ã€ â€œdoesâ€ ä¸­çš„ â€œdoesâ€ ã€ â€œdoxyâ€ ä¸­çš„ â€œdoâ€ ã€‚? ç­‰ä»·äº {0,1}ã€‚</td></tr><tr><td style="text-align:center">{n}</td><td>n æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚åŒ¹é…ç¡®å®šçš„ n æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€™o{2}â€™ ä¸èƒ½åŒ¹é… â€œBobâ€ ä¸­çš„ â€˜oâ€™ï¼Œä½†æ˜¯èƒ½åŒ¹é… â€œfoodâ€ ä¸­çš„ä¸¤ä¸ª oã€‚</td></tr><tr><td style="text-align:center">{n,}</td><td>n æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚è‡³å°‘åŒ¹é…n æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€™o{2,}â€™ ä¸èƒ½åŒ¹é… â€œBobâ€ ä¸­çš„ â€˜oâ€™ï¼Œä½†èƒ½åŒ¹é… â€œfooooodâ€ ä¸­çš„æ‰€æœ‰ oã€‚â€™o{1,}â€™ ç­‰ä»·äº â€˜o+â€™ã€‚â€™o{0,}â€™ åˆ™ç­‰ä»·äº â€˜o*â€™ã€‚</td></tr><tr><td style="text-align:center">{n,m}</td><td>m å’Œ n å‡ä¸ºéè´Ÿæ•´æ•°ï¼Œå…¶ä¸­n &lt;= mã€‚æœ€å°‘åŒ¹é… n æ¬¡ä¸”æœ€å¤šåŒ¹é… m æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€o{1,3}â€ å°†åŒ¹é… â€œfoooooodâ€ ä¸­çš„å‰ä¸‰ä¸ª oã€‚â€™o{0,1}â€™ ç­‰ä»·äº â€˜o?â€™ã€‚è¯·æ³¨æ„åœ¨é€—å·å’Œä¸¤ä¸ªæ•°ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ã€‚</td></tr></tbody></table><h4 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h4><ul><li><p><code>\d</code> ï¼šæ•°å­—</p></li><li><p>å¤§å†™ä¸ºåŸæ¥çš„åçš„å€¼ï¼š<code>\D</code> ï¼šé™¤æ•°å­—ä¹‹å¤–çš„æ‰€æœ‰å€¼</p></li><li><p>$1, $2â€¦ ï¼šç”¨äºè·å– <code>()</code> å¯¹åº”åˆ†ç»„é‡Œçš„å†…å®¹ï¼Œåœ¨ <code>replace</code> ç­‰åœ°æ–¹å¾ˆå¸¸è§ã€‚</p><ul><li><p>æ¯”å¦‚å¯ä»¥ç”¨ <code>$1,$2,$3</code> è·å–å¹´æœˆæ—¥ï¼š<code>/^(\d{4})[\/-](\d{1,2})[\/-](\d{1,2})$/</code> ã€‚</p></li><li><p><code>&#39;2020/01/16&#39;.replace(/^(\d{4})[\/-](\d{1,2})[\/-](\d{1,2})$/, &#39;$1-$2-$3&#39;)</code></p><p><img src="/images/reg-1.jpg" alt></p></li></ul></li></ul><h3 id="å¸¸ç”¨ğŸŒ°"><a href="#å¸¸ç”¨ğŸŒ°" class="headerlink" title="å¸¸ç”¨ğŸŒ°"></a>å¸¸ç”¨ğŸŒ°</h3><ul><li><strong>0å’Œé0å¼€å¤´çš„çº¯æ•°å­—</strong> ï¼š<code>/^(0|[1-9][0-9]*)$/</code></li><li><strong>é0å¼€å¤´çš„æœ€å¤šå¸¦ä¸¤ä½å°æ•°çš„æ•°å­—</strong> ï¼š<code>/^([1-9][0-9]*)+(\.[0-9]{1,2})?$/</code></li><li><strong>å¸¦1ï½2ä½å°æ•°çš„æ­£æ•°æˆ–è´Ÿæ•°</strong> ï¼š<code>/^(-)?([1-9][0-9]*)(\.d{1,2})?$/</code></li><li><strong>éè´Ÿçš„æ•´æ•°æˆ–æœ€å¤š2ä½å°æ•°çš„æ•°å­—(0.0, 0.00 æœªè¿‡æ»¤æ‰)</strong> ï¼š<code>/^(0|([1-9][0-9]*))(\.[0-9]{1,2})?$/</code></li><li><strong>éè´Ÿçš„æ•´æ•°æˆ–æœ€å¤š2ä½å°æ•°çš„æ•°å­—+2ä½å­—æ¯(0.0, 0.00åŠåŠ å­—æ¯ æœªè¿‡æ»¤æ‰)</strong> ï¼š<code>/^(0|[1-9][0-9]*)(\.[0-9]{1,2})?([A-Za-z]{1,2})?$/</code></li></ul><h3 id="æ¨èèµ„æ–™"><a href="#æ¨èèµ„æ–™" class="headerlink" title="æ¨èèµ„æ–™"></a>æ¨èèµ„æ–™</h3><ul><li><a href="https://www.cnblogs.com/zxin/archive/2013/01/26/2877765.html" target="_blank" rel="noopener">1. å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼å¤§å…¨</a></li><li><a href="https://www.runoob.com/regexp/regexp-syntax.html" target="_blank" rel="noopener">2. æ­£åˆ™è¡¨è¾¾å¼ - èœé¸Ÿæ•™ç¨‹</a></li><li><a href="https://www.baidufe.com/fehelper/regexp/index.html" target="_blank" rel="noopener">3. FeHelper</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;style&gt;table{width:auto}&lt;/style&gt;&lt;p&gt;ç ”ç©¶äº†ä¸€ä¸‹æ­£åˆ™è¡¨è¾¾å¼&lt;/p&gt;&lt;p&gt;ç†è§£çš„ä¸æ·±ï¼Œä½†ä¹Ÿæœ‰äº›å¿ƒå¾—&lt;/p&gt;&lt;p&gt;æ‰€ä»¥&lt;/p&gt;&lt;p&gt;åšä¸ªæ€»ç»“ï½&lt;/p&gt;&lt;p&gt;å“ˆå“ˆå“ˆ&lt;/p&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="åç«¯" scheme="http://jian2333.github.io/tags/%E5%90%8E%E7%AB%AF/"/>
    
      <category term="webå‰ç«¯" scheme="http://jian2333.github.io/tags/web%E5%89%8D%E7%AB%AF/"/>
    
      <category term="æ­£åˆ™è¡¨è¾¾å¼" scheme="http://jian2333.github.io/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>nginxå­¦ä¹ ï¼ˆ1ï¼‰</title>
    <link href="http://jian2333.github.io/2019/08/25/nginx-1/"/>
    <id>http://jian2333.github.io/2019/08/25/nginx-1/</id>
    <published>2019-08-25T09:08:41.000Z</published>
    <updated>2019-09-01T15:17:03.669Z</updated>
    
    <content type="html"><![CDATA[<p>å› ä¸ºå…¬å¸çš„éœ€è¦ï¼Œç½‘ç«™éœ€è¦æ¥å…¥ç½‘å…³ï¼Œå¯¹åŸŸåæœ‰æ ¡éªŒ</p><p>äºæ˜¯ç ”ç©¶äº†ä¸€ä¸‹ <code>nginx</code> å’Œ <code>ä»£ç†</code></p><p>å‘ç°è¿˜æŒºå¥½ç©çš„ã€‚ã€‚</p><p>ç„¶åï¼Œ</p><p>å°±æ€»ç»“äº†ä¸€ä¸‹è¿™ä»½</p><p><strong>nginx-1 ï¼</strong></p><a id="more"></a><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p><code>nginx</code> çš„åŠŸèƒ½å¤ªå¤šï¼Œç®€å•æ¥è¯´å°±æ˜¯å¯ä»¥<strong>é…ç½®ç›¸åº”çš„æœåŠ¡å™¨</strong>ã€‚</p><p>å¯ä»¥é…ç½®åŒ…æ‹¬ä½†ä¸é™äºï¼š</p><ul><li>ä»£ç†</li><li>åŸŸåè¿‡æ»¤</li><li>IPè¿‡æ»¤</li><li>ç­‰ç­‰å…¶ä»–ï¼Œå…·ä½“å¯ä»¥å‚è€ƒ <a href="http://www.nginx.cn/doc/" target="_blank" rel="noopener">ä¸­æ–‡æ–‡æ¡£</a> ä»¥åŠ <a href="https://docs.nginx.com/nginx/" target="_blank" rel="noopener">è‹±æ–‡æ–‡æ¡£</a></li></ul><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>mac å®‰è£… <code>nginx</code> å¾ˆç®€å•ï¼Œå…ˆå®‰è£… <code>homebrew</code> ï¼Œç„¶åå®‰è£… <code>nginx</code></p><h4 id="å®‰è£…-homebrew"><a href="#å®‰è£…-homebrew" class="headerlink" title="å®‰è£… homebrew"></a>å®‰è£… <code>homebrew</code></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ruby -e <span class="string">"<span class="variable">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>"</span></span><br></pre></td></tr></table></figure><p>å‡ºç°ä»¥ä¸‹ <code>log</code> è¡¨ç¤ºå®‰è£…å®Œæˆäº†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Installation successful!</span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ <code>homebrew</code> çš„ç‰ˆæœ¬</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">brew -v</span><br><span class="line">Homebrew 2.1.7</span><br><span class="line">Homebrew/homebrew-core (git revision 270f; last commit 2019-07-18)</span><br></pre></td></tr></table></figure><h4 id="å¸¸ç”¨çš„-brew-å‘½ä»¤"><a href="#å¸¸ç”¨çš„-brew-å‘½ä»¤" class="headerlink" title="å¸¸ç”¨çš„ brew å‘½ä»¤"></a>å¸¸ç”¨çš„ <code>brew</code> å‘½ä»¤</h4><ul><li>brew æœç´¢è½¯ä»¶ ï¼š<code>brew search nginx</code></li><li>brew å®‰è£…è½¯ä»¶ ï¼š<code>brew install nginx</code></li><li>brew å¸è½½è½¯ä»¶ ï¼š<code>brew uninstall nginx</code></li><li>brew å‡çº§ ï¼š<code>sudo brew update</code></li><li>brew æŸ¥çœ‹å®‰è£…ä¿¡æ¯ ï¼š<code>sudo brew info nginx</code></li><li>brew æŸ¥çœ‹å·²å®‰è£…è½¯ä»¶ ï¼š<code>brew list</code></li></ul><h4 id="å®‰è£…-nginx"><a href="#å®‰è£…-nginx" class="headerlink" title="å®‰è£… nginx"></a>å®‰è£… <code>nginx</code></h4><p>å®‰è£… <code>nginx</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo brew install nginx</span><br></pre></td></tr></table></figure><p>å¯åŠ¨ <code>nginx</code> æœåŠ¡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo brew services start nginx</span><br></pre></td></tr></table></figure><p>åˆ©ç”¨ <code>http://localhost:8080</code> è¿›è¡Œè®¿é—®ï¼Œå¦‚æœå‡ºç°å¦‚ä¸‹é¡µé¢ï¼Œè¯´æ˜ <code>nginx</code> å¯åŠ¨æˆåŠŸ</p><p><img src="/images/nginx1-1.jpg" alt></p><p><strong>ç›¸å…³ æ–‡ä»¶åœ°å€</strong></p><ul><li><strong>host</strong> ï¼š<code>/private/etc/hosts</code></li><li><strong>nginx</strong> ï¼š<ul><li>æ–‡ä»¶é…ç½®è·¯å¾„ï¼š<code>/usr/local/etc/nginx/nginx.conf</code></li><li>æœåŠ¡å™¨é»˜è®¤è·¯å¾„ï¼š<code>usr/local/var/www</code></li><li>å®‰è£…è·¯å¾„ï¼š<code>/usr/local/Caller/nginx/1.17.1</code></li></ul></li></ul><h4 id="å¸¸ç”¨çš„-nginx-å‘½ä»¤"><a href="#å¸¸ç”¨çš„-nginx-å‘½ä»¤" class="headerlink" title="å¸¸ç”¨çš„ nginx å‘½ä»¤"></a>å¸¸ç”¨çš„ <code>nginx</code> å‘½ä»¤</h4><p><strong>åœ¨ä»»æ„è·¯å¾„ä¸‹æ‰§è¡Œéƒ½å¯ä»¥ï¼ ğŸ¤ª</strong></p><ul><li>å¯åŠ¨ï¼š<code>nginx</code> / <code>nginx -c /usr/local/etc/nginx/nginx.conf</code></li><li>æ›´æ–°é…ç½®æ–‡ä»¶åé‡å¯ï¼š<code>nginx -s reload</code></li><li>æ ¡éªŒé…ç½®æ–‡ä»¶ï¼š<code>nginx -t</code></li><li>åœæ­¢ï¼š<ul><li>å¿«é€Ÿåœæ­¢ï¼š<code>nginx -s stop</code></li><li>æ­£å¸¸åœæ­¢(æ‰§è¡Œå®Œå½“å‰é˜Ÿåˆ—)ï¼š<code>nginx -s quit</code></li></ul></li><li>æŸ¥çœ‹æ˜¯å¦å¯åŠ¨ <code>nginx</code>ï¼š<ul><li><code>ps -ef|grep nginx</code> ï¼šæŸ¥çœ‹æ˜¯å¦æœ‰ <code>master</code> çš„è¿›ç¨‹</li><li>è®°ä½ <strong>ç¬¬äºŒåˆ—</strong> çš„ <code>pid</code> å· xxxï¼Œå¯ä»¥ç”¨æ¥ <strong>æ€è¿›ç¨‹</strong></li></ul></li><li>åœæ­¢(æ€æ‰è¿›ç¨‹)ï¼š<ul><li>å¿«é€Ÿåœæ­¢(ç«‹åˆ»)ï¼š<code>kill -TERM xxx</code></li><li>æ­£å¸¸åœæ­¢ï¼š<code>kill -QUIT xxx</code></li><li>å’Œä¸Šé¢ä¸€æ ·ï¼š<code>kill -INT xxx</code></li></ul></li></ul><h3 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h3><p>è¿™é‡Œä¸»è¦è¯´ä¸‹ï¼Œåœ¨å…¬å¸ç”¨åˆ°çš„ï¼Œ<strong>ä»£ç†</strong></p><h4 id="ä»£ç†"><a href="#ä»£ç†" class="headerlink" title="ä»£ç†"></a>ä»£ç†</h4><p><strong>éœ€æ±‚</strong></p><p>å…¬å¸çš„åç«¯æ¥å…¥äº†ç½‘å…³ï¼Œå¯¹åŸŸåæœ‰æ ¡éªŒï¼Œåªæœ‰ç¬¦åˆè§„åˆ™çš„åŸŸåæ‰èƒ½è°ƒç”¨ç½‘å…³</p><p>äºæ˜¯ï¼Œæœ¬åœ°å¼€å‘çš„æ—¶å€™ï¼Œå¦‚æœç”¨ <code>http://localhost:3001</code> å»è°ƒå¼€å‘ç¯å¢ƒçš„åç«¯ï¼Œä¼šå¤±è´¥ï¼Œå› ä¸ºé€šè¿‡ä¸äº†ç½‘å…³</p><p>æ‰€ä»¥ï¼Œéœ€è¦åšä¸€ä¸ªä»£ç†ï¼Œä»£ç† <code>xxx.ym</code> åŸŸåï¼Œå½“è°ƒç”¨ <code>/</code> çš„æ—¶å€™è°ƒæœ¬åœ°çš„å‰ç«¯ï¼Œå½“è°ƒç”¨ <code>/api</code> çš„æ—¶å€™è°ƒæœåŠ¡å™¨ä¸Šçš„åç«¯ï¼Œè¿™æ ·å°±èƒ½å’Œå¼€å‘ç¯å¢ƒçš„åç«¯è¿è°ƒäº†</p><p><strong>æ­¥éª¤</strong></p><p>ä¸Šé¢è¯´äº†éœ€æ±‚ï¼Œé‚£å¦‚æœè¦å®ç°è¿™æ ·æ•ˆæœï¼Œæˆ‘ä»¬è¦æ‰§è¡Œä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p><ul><li>é…ç½® <code>host</code> æ–‡ä»¶</li><li>é…ç½® <code>nginx.conf</code> æ–‡ä»¶</li><li>å¯åŠ¨ <code>nginx</code></li><li>å¯åŠ¨ <code>å‰ç«¯å¼€å‘ç¯å¢ƒ</code></li><li>ä½¿ç”¨ <code>http://xxx.ym</code> åœ°å€è¿›è¡Œæµ‹è¯•</li></ul><p><code>é…ç½® host æ–‡ä»¶</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># host æ–‡ä»¶</span><br><span class="line">127.0.0.1 xxx.ym</span><br></pre></td></tr></table></figure><p><code>é…ç½® nginx.conf æ–‡ä»¶</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"># nginx.conf æ–‡ä»¶</span><br><span class="line">server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  xxx.ym;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">            proxy_pass   http://127.0.0.1:3001;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        location /api &#123;</span><br><span class="line">            proxy_pass   http://10.1.0.67:9523;</span><br><span class="line">            proxy_set_header Host xxx.yy.ym;</span><br><span class="line">            proxy_set_header X-Forward-For $remote_addr;</span><br><span class="line">        &#125;</span><br><span class="line">        location /oba3/api &#123;</span><br><span class="line">            proxy_pass   http://10.1.0.67:9523;</span><br><span class="line">            proxy_set_header Host xxx.yy.ym;</span><br><span class="line">            proxy_set_header X-Forward-For $remote_addr;</span><br><span class="line">        &#125;</span><br><span class="line">        error_page   500 502 503 504  /50x.html;</span><br><span class="line">        location = /50x.html &#123;</span><br><span class="line">            root   html;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p><code>å¯åŠ¨æˆ–é‡å¯ nginx</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// å¯åŠ¨</span><br><span class="line">nginx</span><br><span class="line">// æˆ–é‡å¯</span><br><span class="line">nginx -s reload</span><br><span class="line">// æˆ–å…ˆæ ¡éªŒæ–‡ä»¶æ­£ç¡®æ€§ï¼Œå†é‡å¯</span><br><span class="line">nginx -t</span><br><span class="line">nginx -s reload</span><br></pre></td></tr></table></figure><p><code>å¯åŠ¨å‰ç«¯ç¯å¢ƒ</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /xxxx</span><br><span class="line">npm run dev</span><br></pre></td></tr></table></figure><p><code>æ‰“å¼€ç½‘ç«™</code></p><p>åœ¨æµè§ˆå™¨è¾“å…¥ <code>http://xxx.ym</code> æ‰“å¼€å°±å¯ä»¥å•¦</p><h4 id="æ­é…-host-æ–‡ä»¶"><a href="#æ­é…-host-æ–‡ä»¶" class="headerlink" title="æ­é… host æ–‡ä»¶"></a>æ­é… <code>host</code> æ–‡ä»¶</h4><p>æ­é… <code>host</code> æ–‡ä»¶ï¼Œå¯ä»¥åœ¨æœ¬åœ° <strong>æ‰“å¼€ä»»æ„åŸŸåï¼Œè·³è½¬åˆ°ä»»æ„æƒ³è·³è½¬çš„åœ°å€</strong>ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºè·³è½¬åˆ° <code>https://www.google.com</code>ï¼Œ<code>https://www.baidu.com</code>ï¼Œ<code>http://localhost:4000</code> ç­‰ä»»æ„åœ°å€ã€‚</p><p>æˆ‘ä»¬å¯ä»¥è¿™æ ·ç†è§£ï¼š</p><ul><li><p>å¤šä¸ª <code>serverå—</code> æ‰ä¼šåŒ¹é… <code>server_name</code> ï¼Œ1ä¸ªè¯ä¸åŒ¹é…ç›´æ¥ä½¿ç”¨</p></li><li><p><code>nginx</code> æ˜¯æœåŠ¡å™¨ä¸Šç”¨çš„ï¼Œæ‰€ä»¥æƒ³åƒæˆæœåŠ¡å™¨çš„è¯ï¼Œ1ä¸ªæœåŠ¡å™¨æœ‰1ä¸ªipï¼Œä½†æ˜¯å¯ä»¥æœ‰å¤šä¸ª åŸŸå è§£ææˆè¿™ä¸ªipï¼Œæ‰€ä»¥å½“ä¸åŒçš„åŸŸåè®¿é—®è¿™ä¸ªæœåŠ¡å™¨çš„æ—¶å€™ï¼Œæ€ä¹ˆåŒºåˆ†ä¸åŒçš„åŸŸåå‘¢ï¼Ÿï¼Œäºæ˜¯ï¼Œ <code>server_name</code> è¿™ä¸ªå­—æ®µå°±å‡ºç°äº†ï¼Œå®ƒå¯ä»¥ä½¿ç”¨ <strong>æ­£åˆ™å’Œé€šé…ç¬¦</strong> æ¥åŒ¹é…åŸŸåï¼Œå†³å®š <strong>å“ªä¸ªåŸŸåä½¿ç”¨é‚£ä¸ª serverå—</strong>ï¼Œè¿›è€Œä½¿ç”¨ç›¸åº”çš„é…ç½®ã€‚<strong>ç«¯å£</strong> ç›¸å½“äºäºŒæ¬¡æ ¡éªŒã€‚</p></li><li><p>ç„¶åå¯ä»¥ä½¿ç”¨ <code>location / + prox_pass</code> è¿›è¡Œä»£ç†</p></li><li><p>é€šè¿‡é…åˆ <code>host</code> æ–‡ä»¶ä½¿ç”¨ï¼Œ<code>host</code> æ–‡ä»¶å¯ä»¥å°†æŒ‡å®šåŸŸåæ˜ å°„åˆ°æŒ‡å®šipï¼Œæ¯”å¦‚å¯ä»¥æŠŠä»»æ„ç½‘ç«™xxxæ˜ å°„åˆ° <code>127.0.0.1</code> ï¼Œæˆ‘ä»¬å¯ä»¥æ­é…nginxçš„ <code>serverå—</code> çš„ <code>ç«¯å£å·</code>ï¼Œç„¶åè¿›è¡Œä»£ç†ï¼Œä»£ç†åˆ°ä»»æ„ ipä¸Š</p></li><li><p>ä¸¾ä¸ªğŸŒ°ï¼Œä¸‹é¢çš„é…ç½®å¯ä»¥æŠŠ <code>longge666.huiwan</code> æ˜ å°„æˆæœ¬åœ°çš„ <code>http://localhost:4000</code>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># host æ–‡ä»¶</span><br><span class="line"># .comåŸŸå chromeä¼šè‡ªåŠ¨è½¬æ¢æˆ httpsï¼Œè·³è½¬ä¸äº†</span><br><span class="line">127.0.0.1 longge666.huiwan</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># nginx.conf æ–‡ä»¶</span><br><span class="line">server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  longge666.huiwan;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">            proxy_pass   http://localhost:4000;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        error_page   500 502 503 504  /50x.html;</span><br><span class="line">        location = /50x.html &#123;</span><br><span class="line">            root   html;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="/images/nginx1-2.jpg" alt></p></li></ul><h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><p>å¯¹ <code>nginx</code> çš„ç†è§£æš‚æ—¶å°±è¿™ä¹ˆå¤š</p><p>åé¢æœ‰äº†æ–°çš„ç†è§£å†ç»§ç»­è¡¥å……ï½ ğŸ˜‹</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å› ä¸ºå…¬å¸çš„éœ€è¦ï¼Œç½‘ç«™éœ€è¦æ¥å…¥ç½‘å…³ï¼Œå¯¹åŸŸåæœ‰æ ¡éªŒ&lt;/p&gt;&lt;p&gt;äºæ˜¯ç ”ç©¶äº†ä¸€ä¸‹ &lt;code&gt;nginx&lt;/code&gt; å’Œ &lt;code&gt;ä»£ç†&lt;/code&gt;&lt;/p&gt;&lt;p&gt;å‘ç°è¿˜æŒºå¥½ç©çš„ã€‚ã€‚&lt;/p&gt;&lt;p&gt;ç„¶åï¼Œ&lt;/p&gt;&lt;p&gt;å°±æ€»ç»“äº†ä¸€ä¸‹è¿™ä»½&lt;/p&gt;&lt;p&gt;&lt;strong&gt;nginx-1 ï¼&lt;/strong&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="åç«¯" scheme="http://jian2333.github.io/tags/%E5%90%8E%E7%AB%AF/"/>
    
      <category term="nginx" scheme="http://jian2333.github.io/tags/nginx/"/>
    
  </entry>
  
  <entry>
    <title>ompé¡¹ç›®æ€»ç»“</title>
    <link href="http://jian2333.github.io/2019/08/18/omp/"/>
    <id>http://jian2333.github.io/2019/08/18/omp/</id>
    <published>2019-08-18T08:15:00.000Z</published>
    <updated>2021-04-01T03:08:48.225Z</updated>
    
    <content type="html"><![CDATA[<p>è¿ç»­åŠ ç­1ä¸ªæœˆäº†ï¼Œå¤©å¤©åŠ ç­10ç‚¹å¤šï¼Œåˆ°å®¶11ç‚¹åŠï¼Œå‘¨æœ«ä¹Ÿåœ¨åŠ ç­ï¼ŒåŸºæœ¬æ²¡æœ‰å“ªå¤©æ˜¯12ç‚¹ä»¥å‰ç¡çš„ã€‚æ˜æ˜¾æ„Ÿè§‰æ‰›ä¸ä½äº†ï¼Œèº«ä½“è¶Šæ¥è¶Šå·®ï¼Œä¸€åº¦å¤„äº <strong>çŒæ­»çš„è¾¹ç¼˜</strong> â€¦..</p><p>å¥½åœ¨è¿™ä¸ªé¡¹ç›®ç»ˆäºå®Œæˆäº†(å…¶å®è¿˜æ²¡å®Œå…¨ç»“æŸï¼Œè¿˜åœ¨ä¿®bugé˜¶æ®µï¼Œç„¶ååˆè¢«å®‰æ’å»å¦ä¸€ä¸ªé¡¹ç›®äº†â€¦7å¤©å¼€å‘æ—¶é—´ï¼Œ1ä¸ªæ˜ŸæœŸ+2ä¸ªå‘¨å…­ï¼Œ<strong>æ„Ÿè§‰è¦çŒæ­»äº†</strong> â€¦..)</p><p>åæ§½ä¸è¦å¤ªå¤š</p><p>å½“ç„¶ï¼Œæ”¶è·ä¹Ÿæ˜¯å¾ˆå¤š</p><p>æ‰€ä»¥ï¼Œå°±æ€»ç»“äº†ä¸€å“ˆâ€¦.</p><a id="more"></a><p><img src="/images/omp-1.jpg" alt></p><h2 id="é¡¹ç›®"><a href="#é¡¹ç›®" class="headerlink" title="é¡¹ç›®"></a>é¡¹ç›®</h2><p><strong>å¼€å‘å‘¨æœŸ</strong></p><p>å‘¨æœŸæ²¡å•¥å¥½å†™çš„ï¼Œå°±æ˜¯1ä¸ªæœˆï¼Œä»å¼€å‘åˆ°ä¸Šçº¿ï¼Œæ€»å…±ä¸€ä¸ªæœˆâ€¦</p><p><strong>åæ§½</strong></p><p>åæ§½ä¸è¦å¤ªå¤šâ€¦</p><p>å¼€å‘å‘¨æœŸå¤ªçŸ­ï¼Œé¡¹ç›®å¤ªèµ¶äº†ã€‚</p><p>æœ€åˆè®¡åˆ’æ˜¯1ä¸ªæœˆæ—¶é—´ä¸Šçº¿ã€‚å¼€å‘2å‘¨ï¼Œæµ‹è¯•è”è°ƒ2å‘¨ï¼Œç„¶è€Œå®é™…æƒ…å†µæ˜¯ï¼Œå¼€å‘å’Œæµ‹è¯•åŒæ­¥è¿›è¡Œã€‚</p><p>å¼€å‘1ä¸ªé¡µé¢ï¼Œæµ‹è¯•å°±å¼€å§‹æµ‹ï¼Œç„¶åå°±æ˜¯å‰æœŸæµ‹è¯•ä¸€ç›´åœ¨å‚¬ï¼Œé¡µé¢å¼€å‘å¥½äº†æ²¡ï¼Œå¼€å‘å¥½äº†æ²¡ã€‚ã€‚ã€‚ è¿™ xx$%^^&amp;*ï¼Œ å¼€å‘æ€ä¹ˆèƒ½èµ¶ä¸Šæµ‹è¯•çš„è¿›åº¦â€¦.</p><p>å…¶æ¬¡ï¼Œå¼€å‘é¢„è®¡æ—¶é—´ï¼Œå®‰æ’çš„æä¸åˆç†ã€‚æ‰€æœ‰å¼€å‘é¢„è®¡æ—¶é—´éƒ½æ˜¯æœ€ç†æƒ³çŠ¶æ€çš„ã€‚å°±æ˜¯æ²¡äººæ‰“æ‰°ï¼Œä¸ä¼šé‡åˆ°éš¾ç‚¹ï¼Œåªåšå¼€å‘ä¸€ä»¶äº‹çš„æ—¶é—´ã€‚ç„¶è€Œå®é™…æƒ…å†µæ˜¯ï¼Œæœ‰å¤ªå¤šçš„ç¬¬ä¸‰æ–¹å› ç´ ä¼šå½±å“å¼€å‘è¿›åº¦ï¼Œæ¯”å¦‚ï¼š</p><ul><li>é‡åˆ°éš¾ç‚¹ï¼šè‡ªå·±æˆ–è€…å…¶ä»–åŒäº‹é‡åˆ°éš¾ç‚¹ï¼Œè§£å†³ä¸€ä¸ªéš¾ç‚¹å°±èŠ±äº†2ä¸ªäººä¸€ä¸Šåˆçš„æ—¶é—´</li><li>å°è£…å…¬å…±ç»„ä»¶ï¼šè¿™äº›ä»»åŠ¡æ˜¯æ²¡æœ‰è€ƒè™‘åœ¨å¼€å‘é¢„è®¡æ—¶é—´å†…çš„ï¼Œé‚£ä¸ªæ—¶é—´åªè€ƒè™‘äº†é¡µé¢çš„å¼€å‘æ—¶é—´â€¦</li><li>å…¶ä»–äº‹æƒ…ï¼š<ul><li>æ¯”å¦‚å¼€ä¼šï¼Œå„ç§ä¼šè®®ã€‚</li><li>æµ‹è¯•å«å»æ”¹bugç­‰(æµ‹è¯•å’Œå¼€å‘åŒæ­¥è¿›è¡Œçš„â€¦.)</li><li>åç«¯æ¥å£æœ‰é—®é¢˜ï¼Œè”è°ƒçš„æ—¶å€™ä¸€ç›´åœ¨ç­‰åç«¯çš„æ¥å£æ­£å¸¸</li></ul></li></ul><p>æ€»ä¹‹å°±æ˜¯ï¼Œ<strong>æ—¶é—´å¤ªèµ¶ï¼Œ2å‘¨æ—¶é—´å¼€å‘æ ¹æœ¬ä¸å¤Ÿ</strong> ã€‚</p><p>ç„¶åå§ï¼Œå°±æ˜¯ç–¯ç‹‚åŠ ç­äº†ã€‚ã€‚ã€‚</p><p>ä½çš„ç¦»å…¬å¸è¿‘è¿˜å¥½ï¼Œåƒæˆ‘è¿™ç§è¿™ä¹ˆè¿œçš„ï¼Œæ¯å¤©10ç‚¹å¤šä¸‹ç­ï¼Œå›å»åˆ°å®¶å°±11ç‚¹åŠäº†ï¼Œæ¯å¤©è¦12ç‚¹å¤šæ‰èƒ½ç¡è§‰ï¼Œè€Œä¸”ï¼Œ<strong>é•¿æœŸæ²¡æœ‰ä¼‘æ¯</strong>ï¼Œå‘¨æœ«èƒ½ä¼‘æ¯ä¸‹è¿˜å¥½ï¼Œé—®é¢˜æ˜¯å‘¨æœ«è¿˜å¾—åŠ ç­â€¦..</p><p>å†ç„¶åå§ï¼Œèº«ä½“è¶Šæ¥è¶Šå·®äº†ï¼Œå¤©å¤©éƒ½å›°çš„è¦æ­»ï¼Œæ„Ÿè§‰è¦çŒæ­»äº†ã€‚ã€‚ã€‚</p><p>æ‰€ä»¥ï¼Œæ¥ä¸‹æ¥ï¼Œè¦<strong>èµ¶ç´§æ”¹å˜ä¸‹å½“å‰çš„çŠ¶æ€</strong>ï¼Œè¿™æ˜¯å½“å‰æœ€é‡è¦çš„äº‹äº†..</p><h2 id="æ”¶è·"><a href="#æ”¶è·" class="headerlink" title="æ”¶è·"></a>æ”¶è·</h2><p>okï¼Œåæ§½å®Œæ¯•ï¼Œè¯´ä¸‹æ”¶è·å§ã€‚</p><p>èŠ±è´¹äº†è¿™ä¹ˆå¤šç²¾åŠ›ï¼Œä»¥åŠæ— æ•°ä¸ªåŠ ç­ã€‚ã€‚ã€‚æ”¶è·è¿˜æ˜¯æŒºå¤šçš„ã€‚ã€‚</p><h3 id="å¼€å‘è§„èŒƒ"><a href="#å¼€å‘è§„èŒƒ" class="headerlink" title="å¼€å‘è§„èŒƒ"></a>å¼€å‘è§„èŒƒ</h3><h4 id="æ•æ·å¼€å‘æµç¨‹"><a href="#æ•æ·å¼€å‘æµç¨‹" class="headerlink" title="æ•æ·å¼€å‘æµç¨‹"></a>æ•æ·å¼€å‘æµç¨‹</h4><p>é¡¹ç›®é‡‡ç”¨çš„æ˜¯æ•æ·å¼€å‘ï¼Œå’Œä¼ ç»Ÿå¼€å‘æœ€å¤§çš„åŒºåˆ«ï¼Œå°±æ˜¯æ²¡æœ‰é¢„æœŸçš„å¼€å‘æ—¶é—´ã€‚</p><p>ä¼ ç»Ÿå¼€å‘ä¼šæœ‰å……è¶³çš„å¼€å‘è®¡åˆ’ï¼Œxxxxæ—¶é—´æ®µå¼€å‘ï¼Œxxxxæ—¶é—´æ®µæµ‹è¯•é˜¶æ®µï¼Œç„¶åä¸Šçº¿ã€‚ç›®çš„æ˜¯ æŒ‰æ—¶äº¤ä»˜<strong>é«˜è´¨é‡çš„äº§å“</strong>ã€‚</p><p>è€Œæ•æ·å¼€å‘(ompé¡¹ç›®å°±ç®—å§)ï¼Œæ˜¯æœ‰éœ€æ±‚äº†ï¼Œç«‹åˆ»å¼€å‘ï¼Œå¹¶ä¸” <strong>å¼€å‘å’Œæµ‹è¯•åŒæ­¥è¿›è¡Œ</strong>ï¼Œç›®çš„ <strong>æœ€çŸ­æ—¶é—´å†…</strong> äº¤ä»˜äº§å“ã€‚</p><h4 id="gitä½¿ç”¨è§„èŒƒï¼šgit-flow"><a href="#gitä½¿ç”¨è§„èŒƒï¼šgit-flow" class="headerlink" title="gitä½¿ç”¨è§„èŒƒï¼šgit-flow"></a>gitä½¿ç”¨è§„èŒƒï¼šgit-flow</h4><p>é¡¹ç›®ä½¿ç”¨ <code>git-flow</code> è§„èŒƒæ¥ç®¡ç†ä»£ç ï¼Œå¸¸è§çš„åˆ†æ”¯ç»“æ„æœ‰ï¼š</p><ul><li><strong>master</strong> ï¼šç”¨æ¥å­˜å‚¨å‘å¸ƒåçš„ç¨³å®šä»£ç åˆ†æ”¯ï¼Œä¸€èˆ¬ä¼šä½¿ç”¨ <code>tag</code> æ ‡ç­¾è¿›è¡Œç®¡ç†</li><li><strong>hotfix-xxx</strong> ï¼šçƒ­ä¿®å¤çº¿ä¸Šbugçš„åˆ†æ”¯ï¼Œä» <code>master</code> åˆ›å»ºï¼Œç›´æ¥åˆå¹¶åˆ° <code>master</code></li><li><strong>dev</strong> ï¼šå¼€å‘åˆ†æ”¯ï¼Œä» <code>master</code> åˆ›å»º</li><li><strong>test</strong> ï¼šæµ‹è¯•åˆ†æ”¯ï¼Œä» <code>master</code> åˆ›å»º</li><li><strong>release</strong> ï¼šå‘å¸ƒåˆ†æ”¯ï¼Œä» <code>master</code> åˆ›å»º</li><li><strong>feature-xxx</strong> ï¼šæ–°éœ€æ±‚åˆ†æ”¯ï¼Œä» <code>master</code> åˆ›å»ºï¼Œåˆå¹¶åˆ° <code>dev</code></li><li><img src="/images/omp-2.jpg" alt></li></ul><p>å…¶ä¸­æœ‰å‡ ç‚¹è¦æ±‚ï¼š</p><ul><li>ä¸€ä¸ªåŠŸèƒ½ä¸€ä¸ªåˆ†æ”¯ï¼Œä¸€èµ·æäº¤åˆ°è¿œç¨‹æœåŠ¡å™¨ï¼Œå¾…ç¨³å®šåï¼Œåˆ é™¤å¯¹åº”çš„ <code>feature</code> åˆ†æ”¯</li><li>æµç¨‹åŸºæœ¬ä¸Šæ˜¯ï¼š<code>master</code> â€“&gt; <code>feat-xx</code> â€“&gt; <code>dev</code> â€“&gt; <code>test</code> â€“&gt; <code>release</code> â€“&gt; <code>master</code></li><li>ä¸èƒ½ä» <code>dev</code> <code>merge</code> ä»£ç åˆ° <code>feature</code> åˆ†æ”¯ï¼Œå¦‚æœæœ‰ä¾èµ–å…¶ä»–åˆ†æ”¯çš„åŠŸèƒ½ä»å…¶ä»–åˆ†æ”¯ç›´æ¥ <code>merge</code> åˆ°å½“å‰åˆ†æ”¯ï¼š<code>feat-A</code> â€“&gt; <code>feat-B</code></li></ul><h3 id="ä»£ç æ–¹é¢"><a href="#ä»£ç æ–¹é¢" class="headerlink" title="ä»£ç æ–¹é¢"></a>ä»£ç æ–¹é¢</h3><h4 id="vue"><a href="#vue" class="headerlink" title="vue"></a>vue</h4><p><strong>ç”Ÿå‘½å‘¨æœŸåŠé’©å­å‡½æ•°</strong></p><p><code>vue</code> çš„ç”Ÿå‘½å‘¨æœŸåŒ…å«ä¸‹é¢8ä¸ªé˜¶æ®µï¼š</p><ul><li><strong>beforeCreate</strong> ï¼š<code>vue</code> å®ä¾‹çš„æŒ‚è½½å…ƒç´  <code>$el</code> å’Œæ•°æ®å¯¹è±¡ <code>data</code> éƒ½æ˜¯ <code>undefined</code>ï¼Œè¿˜æœªåˆå§‹åŒ–</li><li><strong>created</strong> ï¼šå®Œæˆäº† <code>data</code> çš„åˆå§‹åŒ–ï¼Œ<code>el</code> è¿˜æœªåˆå§‹åŒ–</li><li><strong>beforeMount</strong> ï¼š<code>vue</code> å®ä¾‹çš„ <code>$el</code> å’Œ <code>data</code> éƒ½åˆå§‹åŒ–äº†ï¼Œç›¸å…³çš„ <code>render</code> å‡½æ•°é¦–æ¬¡è¢«è°ƒç”¨ã€‚å®ä¾‹å·²å®Œæˆä»¥ä¸‹çš„é…ç½®ï¼šç¼–è¯‘æ¨¡æ¿ï¼ŒæŠŠ <code>data</code> é‡Œé¢çš„æ•°æ®å’Œæ¨¡æ¿ç”Ÿæˆ <code>html</code> ã€‚æ³¨æ„æ­¤æ—¶ <code>html</code> è¿˜æ²¡æœ‰æŒ‚è½½åˆ°é¡µé¢ä¸Š</li><li><strong>mounted</strong> ï¼šåœ¨ <code>el</code> è¢«æ–°åˆ›å»ºçš„ <code>vm.$el</code> æ›¿æ¢ï¼Œå¹¶æŒ‚è½½åˆ°å®ä¾‹ä¸Šå»ä¹‹åè°ƒç”¨ã€‚å®ä¾‹å·²å®Œæˆä»¥ä¸‹çš„é…ç½®ï¼šç”¨ä¸Šé¢ç¼–è¯‘å¥½çš„ <code>html</code> å†…å®¹æ›¿æ¢ <code>el</code> å±æ€§æŒ‡å‘çš„ <code>DOMå¯¹è±¡</code> ã€‚å®Œæˆæ¨¡æ¿ä¸­çš„ <code>html</code> æ¸²æŸ“åˆ° <code>html</code> é¡µé¢ä¸­ï¼Œæ­¤è¿‡ç¨‹ä¸­è¿›è¡Œ <code>ajaxäº¤äº’</code></li><li><strong>beforeUpdate</strong> ï¼šåœ¨æ•°æ®æ›´æ–°ä¹‹å‰è°ƒç”¨ï¼Œå‘ç”Ÿåœ¨è™šæ‹Ÿ <code>DOM</code> é‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ä¹‹å‰è°ƒç”¨ã€‚å¯ä»¥åœ¨è¯¥é’©å­ä¸­è¿›ä¸€æ­¥åœ°æ›´æ”¹çŠ¶æ€ï¼Œä¸ä¼šè§¦å‘é™„åŠ çš„æ¸²æŸ“çŠ¶æ€</li><li><strong>updated</strong> ï¼šåœ¨ç”±äºæ•°æ®æ›´æ”¹å¯¼è‡´çš„è™šæ‹Ÿ <code>DOM</code> é‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ä¹‹åè°ƒç”¨ã€‚è°ƒç”¨æ—¶ï¼Œç»„ä»¶ <code>DOM</code> å·²ç»æ›´æ–°ï¼Œæ‰€ä»¥å¯ä»¥ä¾èµ–ä¸ <code>DOM</code> çš„æ“ä½œã€‚ç„¶è€Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹åº”è¯¥é¿å…åœ¨æ­¤æœŸé—´æ›´æ”¹çŠ¶æ€ï¼Œå› ä¸ºè¿™å¯èƒ½ä¼šå¯¼è‡´æ— é™å¾ªç¯ã€‚è¯¥é’©å­å‡½æ•°åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æœŸé—´ä¸å¯ç”¨</li><li><strong>beforeDestroy</strong> ï¼šåœ¨å®ä¾‹é”€æ¯ä¹‹å‰è°ƒç”¨ã€‚å®ä¾‹ä»ç„¶å®Œå…¨å¯ç”¨</li><li><strong>destroyed</strong> ï¼šåœ¨å®ä¾‹é”€æ¯ä¹‹åè°ƒç”¨ã€‚è°ƒç”¨åï¼Œæ‰€æœ‰çš„äº‹ä»¶ç›‘å¬å™¨ä¼šè¢«ç§»é™¤ï¼Œæ‰€æœ‰çš„å­å®ä¾‹ä¹Ÿä¼šè¢«é”€æ¯ã€‚è¯¥é’©å­å‡½æ•°åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æœŸé—´ä¸è¢«è°ƒç”¨</li></ul><p><strong>çˆ¶å­ç»„ä»¶çš„ä¼ å€¼</strong></p><ul><li><strong>çˆ¶ â€“&gt; å­</strong> ï¼š<ul><li>ç”¨ <code>props</code> ä¼ å€¼</li><li>å¯ä»¥è®¾å®š <code>ç±»å‹</code> å’Œ <code>é»˜è®¤å€¼</code></li><li><code>props</code> ä¼ çš„å€¼åœ¨ <code>data</code> é‡Œä¸èƒ½é‡å¤å®šä¹‰</li><li><code>props</code> ä¼ çš„å€¼é»˜è®¤ä¼šåŒå‘ç»‘å®šï¼ŒåŠ å­é¡µé¢çš„å€¼æ”¹å˜äº†ï¼Œä¼šå¯¼è‡´çˆ¶é¡µé¢å€¼çš„æ”¹å˜ï¼Œå¦‚æœæœŸæœ›å•å‘ç»‘å®šï¼Œæœ‰2ç§æ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜ï¼š<ul><li><strong>å­é¡µé¢dataé‡Œå®šä¹‰ aa: propsçš„å€¼</strong></li><li><strong>å­é¡µé¢ä½¿ç”¨ <code>computed</code> çš„å€¼</strong></li></ul></li></ul></li><li><strong>å­ â€“&gt; çˆ¶</strong> ï¼š<ul><li>ç”¨ <code>this.$emit(&#39;aa&#39;, params)</code> ä¼ äº‹ä»¶</li><li>åœ¨çˆ¶ç»„ä»¶ä½¿ç”¨ <code>@aa = &#39;yy&#39;</code> æ¥æ•è·äº‹ä»¶</li></ul></li></ul><p><strong>ç»„ä»¶çš„å°è£…</strong></p><p>å¤ªå¤šäº†ï¼Œåç»­è¡¥å……â€¦</p><p><strong>åŒå‘ç»‘å®šçš„æ·±åˆ»ç†è§£ï¼ˆimportantï¼ï¼ï¼‰</strong></p><p><strong>å¯¹è±¡çš„åŒå‘ç»‘å®š</strong></p><p><a href="https://cn.vuejs.org/v2/guide/reactivity.html#æ£€æµ‹å˜åŒ–çš„æ³¨æ„äº‹é¡¹" target="_blank" rel="noopener">å®˜ç½‘è¯´æ˜</a></p><p><code>vue</code> ä¸­çš„åŒå‘ç»‘å®šï¼Œåªæœ‰åœ¨é¡µé¢åŠ è½½æ—¶ï¼Œåœ¨ <code>data</code> é‡Œå®šä¹‰äº†çš„å¯¹è±¡ï¼Œæ‰èƒ½è‡ªåŠ¨åŒå‘ç»‘å®šï¼Œå¦‚æœ <code>data</code> é‡Œæ²¡æœ‰å®šä¹‰è¿™ä¸ªå¯¹è±¡ï¼Œç›´æ¥ä¿®æ”¹ <code>v-model</code> çš„å€¼ï¼Œå¯¹åº”ç»„ä»¶çš„å€¼(UI)æ˜¯ä¸ä¼šè‡ªåŠ¨ä¿®æ”¹çš„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    a: <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// `vm.a` æ˜¯å“åº”å¼çš„</span></span><br><span class="line"></span><br><span class="line">vm.b = <span class="number">2</span></span><br><span class="line"><span class="comment">// `vm.b` æ˜¯éå“åº”å¼çš„</span></span><br></pre></td></tr></table></figure><p>å¦‚æœè¦åŒå‘ç»‘å®šæœªåœ¨ <code>data</code> é‡Œå®šä¹‰çš„å¯¹è±¡çš„å±æ€§ï¼Œåº”è¯¥ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•</p><ul><li><p><strong>æ·»åŠ å•ä¸ªå±æ€§</strong> ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// `Vue.set(object, propertyName, value)`</span></span><br><span class="line">Vue.set(vm.someObject, <span class="string">'b'</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// `this.$set(object, propertyName, value)`ï¼Œ`this.$set` æ˜¯ `Vue.set` çš„åˆ«å</span></span><br><span class="line"><span class="keyword">this</span>.$<span class="keyword">set</span>(this.someObject, 'b', 2)</span><br></pre></td></tr></table></figure></li><li><p><strong>æ·»åŠ å¤šä¸ªå±æ€§</strong> ï¼š</p><p>ç›´æ¥ä½¿ç”¨ <code>Object.assign()</code> æˆ– <code>_.extend()</code> æ·»åŠ åˆ°å¯¹è±¡ä¸Šçš„æ–°å±æ€§ä¸ä¼šè§¦å‘æ›´æ–°ã€‚åº”è¯¥ä½¿ç”¨ åŸå¯¹è±¡ä¸è¦æ··åˆè¿›å»çš„å¯¹è±¡çš„å±æ€§<strong>ä¸€èµ·åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»£æ›¿ `Object.assign(this.someObject, &#123;a: 1, b: 2&#125;)`</span></span><br><span class="line"><span class="keyword">this</span>.someObject = <span class="built_in">Object</span>.assign(&#123;&#125;, <span class="keyword">this</span>.someObject, &#123;<span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>&#125;)</span><br></pre></td></tr></table></figure></li></ul><p><strong>æ•°ç»„çš„åŒå‘ç»‘å®š</strong></p><p><a href="https://cn.vuejs.org/v2/guide/list.html#æ•°ç»„æ›´æ–°æ£€æµ‹" target="_blank" rel="noopener">å®˜ç½‘è¯´æ˜</a></p><p><strong>æ•°ç»„ï¼šèƒ½åŒå‘ç»‘å®šçš„æƒ…å†µ</strong></p><ul><li><p><strong>å˜å¼‚æ–¹æ³•(ä¿®æ”¹è‡ªèº«æ•°ç»„)</strong> ï¼š</p><ul><li>push()</li><li>pop()</li><li>shift()</li><li>unshift()</li><li>splice()</li><li>sort()</li><li>reverse()</li></ul></li><li><p><strong>éå˜å¼‚æ–¹æ³•/æ›¿æ¢æ•°ç»„(è¿”å›æ–°æ•°ç»„)</strong> ï¼š</p><ul><li>filter()</li><li>concat()</li><li>slice()</li></ul><p>ä½¿ç”¨ <code>éå˜å¼‚æ–¹æ³•</code> æ—¶ï¼Œè¦ä½¿ç”¨ä¸€ä¸ªæ–°æ•°ç»„æ›¿æ¢åŸæ•°ç»„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">example1.items = example1.items.filter(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> item.message.match(<span class="regexp">/Foo/</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul><p><strong>æ•°ç»„ï¼šä¸èƒ½åŒå‘ç»‘å®šçš„æƒ…å†µ</strong></p><p>ç”±äº <code>JavaScript</code> çš„é™åˆ¶ï¼Œ <code>Vue</code> <strong>ä¸èƒ½</strong> æ£€æµ‹ä»¥ä¸‹æ•°ç»„çš„å˜åŠ¨ï¼š</p><ul><li>åˆ©ç”¨ç´¢å¼•ç›´æ¥è®¾ç½®ä¸€ä¸ªæ•°ç»„é¡¹çš„å€¼ï¼Œä¾‹å¦‚ï¼š<code>vm.items[indexOfItem] = newValue</code></li><li>ä¿®æ”¹æ•°ç»„çš„é•¿åº¦ï¼Œä¾‹å¦‚ï¼š<code>vm.items.length = newLength</code></li></ul><p>ä¸¾ä¸ªä¾‹å­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    items: [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">vm.items[<span class="number">1</span>] = <span class="string">'x'</span><span class="comment">// ä¸æ˜¯å“åº”æ€§çš„</span></span><br><span class="line">vm.items.length = <span class="number">2</span><span class="comment">// ä¸æ˜¯å“åº”æ€§çš„</span></span><br></pre></td></tr></table></figure><p>ä¸ºäº†è§£å†³ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Vue.set</span></span><br><span class="line">Vue.set(vm.items, indexOfItem, newValue)</span><br><span class="line"><span class="comment">// vm.$set</span></span><br><span class="line">vm.$<span class="keyword">set</span>(vm.items, indexOfItem, newValue)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Array.prototype.splice</span></span><br><span class="line">vm.items.splice(indexOfItem, <span class="number">1</span>, newValue)</span><br></pre></td></tr></table></figure><p>ä¸ºäº†è§£å†³ç¬¬äºŒä¸ªé—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ <code>splice</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vm.items.splice(newLength)</span><br></pre></td></tr></table></figure><h4 id="iview"><a href="#iview" class="headerlink" title="iview"></a>iview</h4><p><strong>Formè¡¨å•</strong></p><p>å¿ƒå¾—ä¸¤ç‚¹ï¼š</p><p><strong>validator çš„ä½¿ç”¨</strong></p><p><img src="/images/omp-3.jpg" alt></p><p><img src="/images/omp-4.jpg" alt></p><p><img src="/images/omp-5.jpg" alt></p><p><img src="/images/omp-6.jpg" alt></p><p><strong>reset çš„ä½¿ç”¨</strong></p><p><img src="/images/omp-7.jpg" alt></p><p><strong>table</strong></p><p>åŸºæœ¬å°±æ˜¯ä¸€äº›é…ç½®å§</p><p>å‚è€ƒ <a href="https://www.iviewui.com/components/table" target="_blank" rel="noopener">iview table</a></p><p><strong>å…¶ä»–</strong></p><p>å‚è€ƒ <a href="https://www.iviewui.com/docs/guide/install" target="_blank" rel="noopener">iview å®˜ç½‘</a></p><h4 id="echarts"><a href="#echarts" class="headerlink" title="echarts"></a>echarts</h4><p><code>echarts</code> è¦æ˜¾ç¤ºå›¾è¡¨éœ€è¦ä¸¤ä¸ªæ­¥éª¤</p><ul><li><strong>åˆå§‹åŒ–</strong></li><li><strong>ä½¿ç”¨ setOption</strong> æ–¹æ³•æ›´æ–°æ•°æ®</li></ul><p>æ‰€ä»¥</p><p>å¯¹äº <strong>é™æ€å›¾è¡¨</strong> æ¥è¯´ï¼Œä¸Šé¢2ä¸ªæ­¥éª¤å¯ä»¥æ”¾åˆ°ä¸€èµ·</p><p>å¯¹äº <strong>åŠ¨æ€å›¾è¡¨</strong> æ¥è¯´ï¼Œä¸Šé¢2ä¸ªæ­¥éª¤åˆ™è¦åˆ†å¼€ï¼Œå¹¶ä¸”æ¯æ¬¡è·å–æ•°æ®å(è·å–æ•°æ®æ–¹å¼ä¸é™)éœ€è¦ä½¿ç”¨ <code>setOption</code> æ–¹æ³•æ›´æ–°æ•°æ®</p><p>ä¸¾ä¸ªä¾‹å­</p><ul><li><p><strong>åˆå§‹åŒ–å›¾è¡¨</strong></p><p><img src="/images/omp-8.jpg" alt></p></li><li><p><strong>åˆå§‹åŒ– websocket</strong></p><p><img src="/images/omp-9.jpg" alt></p></li><li><p><strong>websocketè·å–å¯¹è±¡å¹¶è°ƒç”¨ setOption æ–¹æ³•æ›´æ–°å›¾è¡¨</strong></p><p><img src="/images/omp-10.jpg" alt></p><p><img src="/images/omp-11.jpg" alt></p></li></ul><h4 id="vue-router"><a href="#vue-router" class="headerlink" title="vue-router"></a>vue-router</h4><p><strong>è·³è½¬ä¼ å€¼</strong></p><ul><li><p>ä½¿ç”¨ <code>query</code> ï¼šè¯¥æ¨¡å¼ä¸‹ <code>to</code> çš„åœ°å€åªèƒ½ä½¿ç”¨ <code>path</code> è€Œä¸èƒ½ä½¿ç”¨ <code>name</code></p></li><li><p>ä½¿ç”¨ <code>params</code> ï¼šæ— è¦æ±‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å‘½åçš„è·¯ç”± --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"&#123; name: 'user', params: &#123; userId: 123 &#125;&#125;"</span>&gt;</span>User<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å¸¦æŸ¥è¯¢å‚æ•°ï¼Œä¸‹é¢çš„ç»“æœä¸º /register?plan=private --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"&#123; path: 'register', query: &#123; plan: 'private' &#125;&#125;"</span>&gt;</span>Register<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> params = &#123;</span><br><span class="line">  type: <span class="string">'add'</span>, </span><br><span class="line">  code: <span class="string">'aaa'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">this</span>.$router.push(&#123;<span class="attr">name</span>: <span class="string">'terminalEdit'</span>, <span class="attr">params</span>: params)</span><br></pre></td></tr></table></figure></li></ul><p><strong>è·³è½¬ç›‘å¬äº‹ä»¶</strong></p><ul><li><p>ä½¿ç”¨ <code>watch</code> ç›‘å¬</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">  <span class="string">'$route'</span> (to, <span class="keyword">from</span>) &#123;</span><br><span class="line">    <span class="comment">// è·³è½¬åˆ°å½“å‰é¡µé¢å’Œç¦»å¼€å½“å‰é¡µé¢éƒ½ä¼šè§¦å‘è¯¥ç›‘å¬äº‹ä»¶</span></span><br><span class="line">    <span class="comment">// è·³è½¬åˆ°å½“å‰é¡µé¢æ—¶ï¼Œto.params æ˜¯è·å–çš„å‚æ•°</span></span><br><span class="line">    <span class="comment">// ç¦»å¼€å½“å‰é¡µé¢æ—¶ï¼Œfrom.params æ˜¯å½“å‰é¡µçš„å‚æ•°</span></span><br><span class="line">    <span class="keyword">let</span> params = to.params</span><br><span class="line">    <span class="keyword">if</span> (params &amp;&amp; params.vehicleId) &#123;</span><br><span class="line">      <span class="keyword">this</span>.vehicleId = params.vehicleId</span><br><span class="line">      <span class="keyword">this</span>.init()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åœ¨ <code>mounted</code> çš„æ—¶å€™ä¹Ÿå¯ä»¥æ·»åŠ æ•è·</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mounted () &#123;</span><br><span class="line">  <span class="keyword">let</span> params = <span class="keyword">this</span>.$route.params</span><br><span class="line">  <span class="keyword">if</span> (params &amp;&amp; params.vehicleId) &#123;</span><br><span class="line">    <span class="keyword">this</span>.vehicleId = params.vehicleId</span><br><span class="line">    <span class="keyword">this</span>.init()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h4><p>åç»­è¡¥å……â€¦.</p><h3 id="å·¥å…·æ–¹é¢"><a href="#å·¥å…·æ–¹é¢" class="headerlink" title="å·¥å…·æ–¹é¢"></a>å·¥å…·æ–¹é¢</h3><h4 id="SourceTree"><a href="#SourceTree" class="headerlink" title="SourceTree"></a>SourceTree</h4><p><strong>åˆ†æ”¯çš„ä½¿ç”¨</strong></p><p>äº’ç›¸åˆ‡æ¢</p><p>åˆå¹¶</p><p>æ²¡å•¥å¥½è¯´çš„â€¦.</p><p><strong>pullæ³¨æ„é¡¹</strong></p><p>å¦‚æœä½ æœ¬åœ°æœ‰ä¿®æ”¹äº†ä½†æœª <code>commit</code> çš„ä»£ç ï¼Œè¿™æ—¶å€™ <code>git pull</code> çš„è¯ï¼Œä¼šæç¤º <code>pull</code> ä¸‹æ¥çš„ä»£ç æœªæäº¤(è‡ªåŠ¨åˆå¹¶)ï¼Œè¿™æ—¶å€™ï¼Œä½  <strong>ä¸€å®šè¦æäº¤ pull ä¸‹æ¥çš„ä»£ç ï¼ï¼</strong></p><p><strong>è´®è—</strong></p><p>å·§ç”¨ <strong>è´®è—</strong></p><p>æŠŠå½“å‰æœªæäº¤çš„ä»£ç è´®è—èµ·æ¥ï¼Œç„¶åå»åšå…¶ä»–çš„ä»»åŠ¡ï¼Œä¹‹åå›æ¥ï¼Œéšæ—¶å¯ç”¨è´®è—çš„ä»£ç </p><p><img src="/images/omp-14.jpg" alt></p><p><strong>é‡ç½®åˆ°ä¹‹å‰çš„æäº¤</strong></p><p>å¦‚æœ <code>commit</code> æ²¡æœ‰ <code>push</code> åˆ°è¿œç¨‹æœåŠ¡å™¨ï¼Œå¯ä»¥ <code>é‡ç½®åˆ°å½“å‰æäº¤</code></p><p>å¦‚æœ <code>commit</code> å·²ç»åœ¨ è¿œç¨‹æœåŠ¡å™¨ä¸Šäº†ï¼Œ<strong>æš‚æ—¶è¿˜ä¸çŸ¥é“æ€ä¹ˆé‡ç½®</strong> â€¦..</p><h4 id="WebStorm"><a href="#WebStorm" class="headerlink" title="WebStorm"></a>WebStorm</h4><ul><li><p><strong>eslint é…ç½®</strong> ï¼š</p><p><img src="/images/omp-12.jpg" alt></p></li><li><p><strong>highLighting Level</strong> ï¼šè¿™ä¸ªä¸èƒ½å…¨å±€ä¿®æ”¹ï¼Œæœ‰ä¸ªæ›¿ä»£çš„æ–¹æ³•ï¼ŒæŠŠ <code>warning</code> æç¤ºå…³æ‰ï¼Œä½†å¹¶æ²¡æœ‰ä»æ ¹æœ¬ä¸Šè§£å†³é—®é¢˜</p><p><img src="/images/omp-13.jpg" alt></p></li></ul><h2 id="æ„Ÿå—åŠæ€»ç»“"><a href="#æ„Ÿå—åŠæ€»ç»“" class="headerlink" title="æ„Ÿå—åŠæ€»ç»“"></a>æ„Ÿå—åŠæ€»ç»“</h2><h3 id="æŠ€èƒ½æ–¹é¢"><a href="#æŠ€èƒ½æ–¹é¢" class="headerlink" title="æŠ€èƒ½æ–¹é¢"></a>æŠ€èƒ½æ–¹é¢</h3><p>è¯´ä¸‹æ¥ä¸‹æ¥æŠ€èƒ½æ–¹é¢çš„è®¡åˆ’å§</p><p>æ„Ÿè§‰å®˜æ–¹æ–‡æ¡£è¿˜æ˜¯å¾ˆé‡è¦çš„ï¼Œæ¯”å¦‚ä¸Šé¢è¯´çš„ï¼Œ<code>vue</code> ä¸­åŒå‘ç»‘å®šæ— æ•ˆï¼Œ<code>iview</code> ä¸­çš„ <code>validator</code> å’Œ <code>reset</code> æ— æ•ˆç­‰é—®é¢˜ï¼Œå®˜ç½‘å…¶å®éƒ½æœ‰å¾ˆå¥½çš„æè¿°ã€‚</p><p>æ‰€ä»¥ï¼Œå†ä»”ç»†è¿‡ä¸€éå®˜æ–¹æ–‡æ¡£ï¼Œè¿˜æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚</p><p>soï¼Œæ¥ä¸‹æ¥å‡ ä¸ªè¦åšçš„ï¼š</p><ul><li><strong>vue-loader å®˜æ–¹æ–‡æ¡£</strong></li><li><strong>vuex å®˜æ–¹æ–‡æ¡£</strong></li><li><strong>TypeScript</strong> ï¼šæ”¾åä¸€æ­¥</li></ul><h3 id="æ¥ä¸‹æ¥çš„é‡å¿ƒ"><a href="#æ¥ä¸‹æ¥çš„é‡å¿ƒ" class="headerlink" title="æ¥ä¸‹æ¥çš„é‡å¿ƒ"></a>æ¥ä¸‹æ¥çš„é‡å¿ƒ</h3><p>è¿™ä¸ªæœˆåŸºæœ¬å°±æ˜¯åœ¨ç–¯ç‹‚åŠ ç­äº†ï¼Œæ²¡æ—¶é—´åšé¥­ï¼Œæ²¡æ—¶é—´å¥èº«ï¼Œæ²¡æ—¶é—´åšä»»ä½•äº‹â€¦</p><p>æ‰€ä»¥ï¼Œæ¥ä¸‹æ¥æœ‰å‡ ç‚¹è¦æ”¹å˜çš„ï¼š</p><ul><li>å‡å°‘åŠ ç­</li><li>å­¦ä¹ æ–°æŠ€èƒ½</li><li>é‡æ–°å¼€å§‹å¥èº« (ä»Šå¹´å‰5ä¸ªæœˆæ‰“å¡äº†90å¤©ï¼Œ6æœˆåˆ°ç°åœ¨2ä¸ªåŠæœˆäº†å§ï¼Œæ‰“å¡ä¸åˆ°10å¤©â€¦.)</li></ul><h3 id="é¢˜å¤–è¯"><a href="#é¢˜å¤–è¯" class="headerlink" title="é¢˜å¤–è¯"></a>é¢˜å¤–è¯</h3><p>å…¬å¸çš„æ¤…å­åçš„å¥½èˆ’æœã€‚ã€‚ã€‚</p><p>æœ¬æ¥æƒ³ä¹°ä¸ªå…¬å¸åŒæ¬¾çš„æ¤…å­(å•ä¹°1kå¤šä¸€ç‚¹)ï¼Œç„¶åå–å®¶åªå¯¹å…¬ï¼Œä¸å–ç»™ä¸ªäººã€‚ã€‚ã€‚</p><p>ç„¶å <em>ä¸€æ€’ä¹‹ä¸‹</em> ï¼Œä¹°ä¸ªäº†3kçš„äººä½“å·¥ç¨‹å­¦æ¤…å­ã€‚ã€‚ã€‚</p><p>emmmmâ€¦</p><p>å°‘å»ä¸¤æ¬¡åŒ»é™¢å°±å›æœ¬äº†</p><p>å°‘å»ä¸‰æ¬¡å°±èµšäº†</p><p>å››æ¬¡å°±è¡€èµšï¼ï¼â€¦</p><p>ç„¶åï¼Œç»ˆäºå¯ä»¥æ„‰å¿«çš„åœ¨å®¶é‡ŒåŠ ç­äº†ï¼â€¦</p><p>(à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿ç»­åŠ ç­1ä¸ªæœˆäº†ï¼Œå¤©å¤©åŠ ç­10ç‚¹å¤šï¼Œåˆ°å®¶11ç‚¹åŠï¼Œå‘¨æœ«ä¹Ÿåœ¨åŠ ç­ï¼ŒåŸºæœ¬æ²¡æœ‰å“ªå¤©æ˜¯12ç‚¹ä»¥å‰ç¡çš„ã€‚æ˜æ˜¾æ„Ÿè§‰æ‰›ä¸ä½äº†ï¼Œèº«ä½“è¶Šæ¥è¶Šå·®ï¼Œä¸€åº¦å¤„äº &lt;strong&gt;çŒæ­»çš„è¾¹ç¼˜&lt;/strong&gt; â€¦..&lt;/p&gt;&lt;p&gt;å¥½åœ¨è¿™ä¸ªé¡¹ç›®ç»ˆäºå®Œæˆäº†(å…¶å®è¿˜æ²¡å®Œå…¨ç»“æŸï¼Œè¿˜åœ¨ä¿®bugé˜¶æ®µï¼Œç„¶ååˆè¢«å®‰æ’å»å¦ä¸€ä¸ªé¡¹ç›®äº†â€¦7å¤©å¼€å‘æ—¶é—´ï¼Œ1ä¸ªæ˜ŸæœŸ+2ä¸ªå‘¨å…­ï¼Œ&lt;strong&gt;æ„Ÿè§‰è¦çŒæ­»äº†&lt;/strong&gt; â€¦..)&lt;/p&gt;&lt;p&gt;åæ§½ä¸è¦å¤ªå¤š&lt;/p&gt;&lt;p&gt;å½“ç„¶ï¼Œæ”¶è·ä¹Ÿæ˜¯å¾ˆå¤š&lt;/p&gt;&lt;p&gt;æ‰€ä»¥ï¼Œå°±æ€»ç»“äº†ä¸€å“ˆâ€¦.&lt;/p&gt;
    
    </summary>
    
      <category term="æ—¥è®°æœ¬" scheme="http://jian2333.github.io/categories/%E6%97%A5%E8%AE%B0%E6%9C%AC/"/>
    
    
      <category term="webå‰ç«¯" scheme="http://jian2333.github.io/tags/web%E5%89%8D%E7%AB%AF/"/>
    
      <category term="git" scheme="http://jian2333.github.io/tags/git/"/>
    
      <category term="vue" scheme="http://jian2333.github.io/tags/vue/"/>
    
      <category term="iview" scheme="http://jian2333.github.io/tags/iview/"/>
    
      <category term="webpack" scheme="http://jian2333.github.io/tags/webpack/"/>
    
      <category term="echarts" scheme="http://jian2333.github.io/tags/echarts/"/>
    
  </entry>
  
  <entry>
    <title>Macä¸‹é…ç½®å¤šä¸ªGitè´¦æˆ·</title>
    <link href="http://jian2333.github.io/2019/07/08/multi-git/"/>
    <id>http://jian2333.github.io/2019/07/08/multi-git/</id>
    <published>2019-07-08T13:30:47.000Z</published>
    <updated>2019-07-12T16:28:41.497Z</updated>
    
    <content type="html"><![CDATA[<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>git</code> éƒ½æ˜¯é…ç½®ä¸€ä¸ªå…¨å±€ <code>user.name</code> å’Œ <code>user.email</code> ï¼Œæ¯æ¬¡è¦ç”¨æ—¶ä½¿ç”¨è¯¥å…¨å±€å‚æ•°å³å¯ã€‚</p><p>ä½†æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½è¦åŒæ—¶ä½¿ç”¨å¤šä¸ªä¸åŒçš„è¿œç¨‹ä»“åº“ï¼Œæ¯”å¦‚ä¸ªäººç”¨çš„ <code>github</code> ä½¿ç”¨ <code>é‚®ç®±a</code> ï¼Œå…¬å¸ç”¨çš„ <code>gitlab/gitea</code> ä½¿ç”¨ <code>é‚®ç®±b</code> ï¼Œç­‰ç­‰ã€‚</p><p>é‚£ä¹ˆï¼Œå¦‚ä½•åœ¨æœ¬åœ°çš„Macä¸Šé…ç½®å¤šä¸ªgitè´¦æˆ·å‘¢ã€‚</p><p>æˆ‘ä»¬ç»§ç»­å¾€ä¸‹çœ‹ ï½</p><a id="more"></a><p><img src="/images/mg-1.jpg" alt></p><h3 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h3><h4 id="èµ·å› "><a href="#èµ·å› " class="headerlink" title="èµ·å› "></a>èµ·å› </h4><p>èµ·å› å¾ˆç®€å•ï¼Œå°±æ˜¯å› ä¸ºè‡ªå·±ä¸€ç›´ç”¨ <code>github</code> ï¼Œç„¶åå…¬å¸ç°åœ¨ç”¨ <code>gitea</code> ã€‚</p><p>ç„¶åï¼Œé‚®ç®±è¿˜ä¸ä¸€æ ·ï¼Œä¹Ÿå°±æ˜¯ <code>ç”Ÿæˆçš„å¯†é’¥</code> æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥è¦é…ç½®å¤šä¸ª <code>git</code> è´¦å·åœ¨ä¸€å°ç”µè„‘ä¸Šã€‚</p><p>ç„¶åï¼Œå°±æœ‰äº†æœ¬æ–‡â€¦.</p><h4 id="ç›¸å…³ç»†èŠ‚"><a href="#ç›¸å…³ç»†èŠ‚" class="headerlink" title="ç›¸å…³ç»†èŠ‚"></a>ç›¸å…³ç»†èŠ‚</h4><p>å…³äº <strong>ä¸€å°ç”µè„‘ä½¿ç”¨å¤šç§ç±»å‹è¿œç¨‹ä»“åº“(<code>github</code>ã€<code>gitlab</code>ã€<code>gitea</code> ç­‰)æ˜¯å¦éœ€è¦é…å¤šä¸ªgit</strong> ï¼Œè¿™é‡Œæœ‰å‡ ä¸ªç»†èŠ‚éœ€è¦è¯´æ˜ï¼š</p><ul><li>é‚®ç®±å†³å®šç”Ÿæˆçš„å¯†é’¥keyæ˜¯å¦ä¸€è‡´ï¼›</li><li><code>ssh</code> è¿æ¥æ‰éœ€è¦å¯†é’¥(é…ç½®)ï¼Œ<code>http</code> è¿æ¥ä¸éœ€è¦å¯†é’¥/é‚®ç®±(é…ç½®)ï¼›</li><li>å¯¹äºæœªé…ç½® <code>user.name</code> å’Œ <code>user.email</code> çš„ <code>git</code> è´¦å·ï¼Œ<code>git</code> æäº¤è®°å½•é‡Œé»˜è®¤ä½¿ç”¨å½“å‰ç”µè„‘ <code>ç™»é™†çš„ç”¨æˆ·å</code> å’Œ <code>ç”µè„‘å</code> ï¼›</li></ul><p><strong>æ‰€ä»¥ï¼š</strong></p><ul><li>å¦‚æœä½¿ç”¨ <code>http</code> ç±»å‹æ¥ <code>pull</code>ã€<code>push</code> ä»£ç ï¼Œ<strong>ä¸éœ€è¦é…ç½®ï¼ï¼</strong></li><li>å¦‚æœå¤šç§ç±»å‹çš„è¿œç¨‹ä»“åº“ï¼Œä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªé‚®ç®±ï¼Œ<strong>ä¹Ÿä¸éœ€è¦é…ç½®ï¼ï¼</strong></li><li>å¦‚æœéœ€è¦é…ç½®çš„è¯ï¼Œ<strong>éœ€è¦é…ç½®æ¯ä¸ªé¡¹ç›®çš„ <code>user.name</code> å’Œ <code>user.email</code></strong> ï¼Œè€Œ <strong>ä¸èƒ½é…ç½®å…¨å±€çš„ <code>user.name</code> å’Œ <code>user.email</code></strong> ã€‚</li></ul><h3 id="é…ç½®æ­¥éª¤"><a href="#é…ç½®æ­¥éª¤" class="headerlink" title="é…ç½®æ­¥éª¤"></a>é…ç½®æ­¥éª¤</h3><h4 id="æ¸…é™¤å…¨å±€çš„-user-name-å’Œ-user-email"><a href="#æ¸…é™¤å…¨å±€çš„-user-name-å’Œ-user-email" class="headerlink" title="æ¸…é™¤å…¨å±€çš„ user.name å’Œ user.email"></a>æ¸…é™¤å…¨å±€çš„ <code>user.name</code> å’Œ <code>user.email</code></h4><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¯èƒ½ä¹‹å‰å·²ä½¿ç”¨äº†ä»¥ä¸‹è„šæœ¬è¿›è¡Œäº†å…¨å±€é…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">"xxx"</span>// é…ç½®å…¨å±€ç”¨æˆ·åï¼Œå¦‚githubä¸Šæ³¨å†Œçš„ç”¨æˆ·å</span><br><span class="line">git config --global user.email <span class="string">"yyy"</span>// é…ç½®å…¨å±€é‚®ç®±ï¼Œå¦‚githubä¸Šæ³¨å†Œçš„é‚®ç®±</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸ç¡®å®šæ˜¯å¦å·²ç»å…¨å±€é…ç½®ï¼Œå¯ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è¿›è¡ŒæŸ¥çœ‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name</span><br><span class="line">git config --global user.email</span><br></pre></td></tr></table></figure><p>å¦‚æœå·²ç»é…ç½®äº†ï¼Œå…ˆåˆ æ‰å…¨å±€é…ç½®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global --<span class="built_in">unset</span> user.name</span><br><span class="line">git config --global --<span class="built_in">unset</span> user.email</span><br></pre></td></tr></table></figure><h4 id="ä¸ºæ¯ä¸ªè´¦å·ç”Ÿæˆä¸€å¯¹å¯†é’¥"><a href="#ä¸ºæ¯ä¸ªè´¦å·ç”Ÿæˆä¸€å¯¹å¯†é’¥" class="headerlink" title="ä¸ºæ¯ä¸ªè´¦å·ç”Ÿæˆä¸€å¯¹å¯†é’¥"></a>ä¸ºæ¯ä¸ªè´¦å·ç”Ÿæˆä¸€å¯¹å¯†é’¥</h4><p>é¦–å…ˆè¿›å…¥ä¿å­˜å¯†é’¥çš„ç›®å½•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/.ssh// è¿›å…¥ç›®å½•ï¼Œè¯¥ç›®å½•ä¸‹ä¿å­˜ç”Ÿæˆçš„å¯†é’¥</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œæ ¹æ® <code>è´¦å·é‚®ç®±</code> ç”Ÿæˆ <code>å¯†é’¥</code> ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">"xxx@qq.com"</span></span><br></pre></td></tr></table></figure><p>è¾“å…¥å®Œæˆåï¼Œä¼šæœ‰å¦‚ä¸‹æç¤ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/Users/qiu/.ssh/id_rsa):</span><br></pre></td></tr></table></figure><p>è¿™é‡Œè¦æ±‚å¯¹å¯†é’¥è¿›è¡Œå‘½åã€‚</p><ul><li>é»˜è®¤çš„æ–‡ä»¶åæ˜¯ <code>id_rsa</code> ã€‚</li><li>ä¸ºäº†æ–¹ä¾¿åŒºåˆ†ï¼Œæˆ‘ä»¬å¯ä»¥å‘½åä¸º <code>id_rsa_github</code> å’Œ <code>id_rsa_gitea</code> ï¼Œæ¥ä¸‹æ¥ä¸€ç›´å›è½¦ï¼Œç›´åˆ°å¯†é’¥ç”Ÿæˆã€‚</li><li>æ¯æ¬¡ç”Ÿæˆçš„å¯†é’¥éƒ½æ˜¯æˆå¯¹çš„ï¼Œæ¯”å¦‚ <code>id_rsa_github</code> å’Œ <code>id_rsa_github.pub</code> ã€‚å…¶ä¸­ <code>id_rsa_github</code> æ˜¯ç§é’¥ï¼Œæ˜¯ä¿å­˜åœ¨ <code>æœ¬åœ°</code> ç”¨æ¥éªŒè¯æœåŠ¡å™¨çš„ï¼Œä¸èƒ½æ³„éœ²çš„ï¼›<code>id_rsa_github.pub</code> æ˜¯å…¬é’¥ï¼Œæ˜¯æ·»åŠ åˆ° <code>æ‰˜ç®¡ç½‘ç«™</code> ä¸Šçš„ã€‚</li><li><img src="/images/mg-2.jpg" alt></li></ul><h4 id="ç§é’¥æ·»åŠ åˆ°æœ¬åœ°"><a href="#ç§é’¥æ·»åŠ åˆ°æœ¬åœ°" class="headerlink" title="ç§é’¥æ·»åŠ åˆ°æœ¬åœ°"></a>ç§é’¥æ·»åŠ åˆ°æœ¬åœ°</h4><p><code>SSH</code> åè®®çš„åŸç†ï¼Œå°±æ˜¯åœ¨æ‰˜ç®¡ç½‘ç«™ä¸Šä½¿ç”¨ <code>å…¬é’¥</code> ï¼Œåœ¨æœ¬åœ°ä½¿ç”¨ <code>ç§é’¥</code> ã€‚è¿™æ ·æœ¬åœ°ä»“åº“å°±å¯ä»¥å’Œè¿œç¨‹ä»“åº“è¿›è¡Œé€šä¿¡äº†ã€‚</p><p>ä¸Šä¸€æ­¥å·²ç»ç”Ÿæˆäº† <code>å¯†é’¥æ–‡ä»¶</code> ï¼Œæ¥ä¸‹æ¥éœ€è¦ä½¿ç”¨ <code>å¯†é’¥æ–‡ä»¶</code> ã€‚é¦–å…ˆæ˜¯åœ¨æœ¬åœ°ä½¿ç”¨ <code>å¯†é’¥æ–‡ä»¶</code> ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh-add ~/.ssh/id_rsa_github// å°†githubç§é’¥æ·»åŠ åˆ°æœ¬åœ°</span><br><span class="line">ssh-add ~/.ssh/id_rsa_gitea// å°†giteaç§é’¥æ·»åŠ åˆ°æœ¬åœ°</span><br></pre></td></tr></table></figure><p>ä¸ºäº†æ ¡éªŒæœ¬åœ°æ˜¯å¦æ·»åŠ æˆåŠŸï¼Œå¯ä»¥ä½¿ç”¨ <code>ssh-add -l</code> å‘½ä»¤è¿›è¡ŒæŸ¥çœ‹</p><h4 id="å¯¹æœ¬åœ°å¯†é’¥è¿›è¡Œé…ç½®"><a href="#å¯¹æœ¬åœ°å¯†é’¥è¿›è¡Œé…ç½®" class="headerlink" title="å¯¹æœ¬åœ°å¯†é’¥è¿›è¡Œé…ç½®"></a>å¯¹æœ¬åœ°å¯†é’¥è¿›è¡Œé…ç½®</h4><p>ç”±äºæ·»åŠ äº†å¤šä¸ª <code>å¯†é’¥æ–‡ä»¶</code> ï¼Œæ‰€ä»¥éœ€è¦å¯¹è¿™å¤šä¸ªå¯†é’¥è¿›è¡Œç®¡ç†ã€‚åœ¨ <code>.ssh</code> ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª <code>config</code> æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch config</span><br></pre></td></tr></table></figure><p>æ–‡ä»¶ä¸­çš„å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Host github.com // ç½‘ç«™çš„åˆ«åï¼Œéšæ„å–</span><br><span class="line">HostName github.com // æ‰˜ç®¡ç½‘ç«™çš„åŸŸå</span><br><span class="line">User xxx // æ‰˜ç®¡ç½‘ç«™ä¸Šçš„ç”¨æˆ·å</span><br><span class="line">IdentityFile ~/.ssh/id_rsa_github // ä½¿ç”¨çš„å¯†é’¥æ–‡ä»¶</span><br><span class="line">Port zz// å¯é€‰ï¼Œç«¯å£</span><br><span class="line"></span><br><span class="line">// Giteaçš„é…ç½®ç›¸åŒ</span><br><span class="line">Host git.ym</span><br><span class="line">HostName git.ym</span><br><span class="line">User yyy</span><br><span class="line">IdentityFile ~/.ssh/id_rsa_gitea</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼š</strong></p><ul><li><code>config</code> æ–‡ä»¶ä¸­ä¸å…è®¸æœ‰ä»»ä½•æ³¨é‡Šï¼Œæ‰€ä»¥ <code>//</code> æ³¨é‡Š<strong>è¯·åˆ æ‰</strong>ï¼</li><li><code>Host</code> åˆ«åæ˜¯ç”¨æ¥æ›¿ä»£ <code>HostName</code> åŸŸåçš„ï¼Œæ‰€ä»¥ä¸ºäº†ä½¿åŸæ¥çš„é…ç½®ç»§ç»­ç”Ÿæ•ˆï¼Œå»ºè®® <strong><code>Host</code> è®¾ç½®æˆå’Œ <code>HostName</code> ä¸€æ ·</strong> ã€‚</li></ul><h4 id="å…¬é’¥æ·»åŠ åˆ°æ‰˜ç®¡ç½‘ç«™ä¸Š"><a href="#å…¬é’¥æ·»åŠ åˆ°æ‰˜ç®¡ç½‘ç«™ä¸Š" class="headerlink" title="å…¬é’¥æ·»åŠ åˆ°æ‰˜ç®¡ç½‘ç«™ä¸Š"></a>å…¬é’¥æ·»åŠ åˆ°æ‰˜ç®¡ç½‘ç«™ä¸Š</h4><p>ä»¥ <code>github</code> ä¸ºä¾‹</p><ul><li>å…ˆåœ¨æœ¬åœ°å¤åˆ¶å…¬é’¥ã€‚è¿›å…¥ <code>.ssh</code> ç›®å½•ï¼Œå¤åˆ¶ <code>id_rsa_github.pub</code> é‡Œçš„å…¬é’¥ã€‚</li><li>ç„¶åç™»é™† <code>github</code>ï¼Œæ·»åŠ å¤åˆ¶çš„å…¬é’¥ã€‚</li><li><img src="/images/mg-3.jpg" alt></li></ul><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æµ‹è¯•ï¼Œæ˜¯å¦é…ç½®æˆåŠŸï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><h3 id="å¦‚ä½•ä½¿ç”¨"><a href="#å¦‚ä½•ä½¿ç”¨" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h3><h4 id="å¦‚æœæ˜¯ç”¨è¿œç¨‹ä»“åº“cloneä¸‹æ¥"><a href="#å¦‚æœæ˜¯ç”¨è¿œç¨‹ä»“åº“cloneä¸‹æ¥" class="headerlink" title="å¦‚æœæ˜¯ç”¨è¿œç¨‹ä»“åº“cloneä¸‹æ¥"></a>å¦‚æœæ˜¯ç”¨è¿œç¨‹ä»“åº“cloneä¸‹æ¥</h4><p><strong>ä½¿ç”¨ <code>SSH</code> åè®®</strong></p><p><del>ä¹Ÿä¸ç”¨ä»»ä½•æ“ä½œï¼Ÿ(ä¸ç¡®å®šï¼Œå¾…è·Ÿè¿›..)</del></p><p><strong>ä½¿ç”¨ <code>HTTP</code> åè®®</strong></p><p>ä¸éœ€è¦ä»»ä½•æ“ä½œï¼Œ<code>git clone</code> çš„æ—¶å€™ä¼šè¦æ±‚ä½ è¾“å…¥ <code>user.name</code> å’Œ <code>user.email</code> ã€‚</p><p><strong>PSï¼š</strong>å…³äºä¿å­˜å¯†ç ï¼š</p><ul><li>ç¬¬ä¸€æ¬¡ <code>git clone</code>ã€<code>git pull</code>ã€<code>git push</code> çš„æ—¶å€™ä¼šè¦æ±‚ä½ è¾“å…¥å¯†ç ï¼Œè¾“å…¥ä¹‹åå¯ä»¥é€‰æ‹© <strong>æ°¸ä¹…ä¿å­˜</strong> ï¼Œå¦‚æœä¹‹å <code>github/gitlab/gitea</code> çš„è´¦å·å¯†ç ä¿®æ”¹äº†ï¼Œåœ¨è¿›è¡Œç›¸åº”æ“ä½œæ—¶ä¼šè¦æ±‚ä½ é‡æ–°è¾“å…¥å¯†ç ã€‚</li><li>å¦‚æœç‚¹äº†å–æ¶ˆï¼Œä»¥åæ¯æ¬¡ <code>git pull</code>ã€<code>git push</code> éƒ½è¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œå¾ˆéº»çƒ¦â€¦å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤è®°ä½å¯†ç (ä»…é™ <code>httpåè®®</code> )ã€‚</li><li>è¾“å…¥ <code>git config credential.helper store</code> ï¼Œè¾“å…¥ä¹‹åä¸‹æ¬¡ <code>git pull</code>ã€<code>git push</code> æ—¶ä¼šè¦æ±‚è¾“å…¥å¯†ç ï¼Œè¾“å…¥ä¸€æ¬¡å <code>git</code> å°±ä¼šä¸€ç›´è®°ä½äº†ã€‚</li></ul><h4 id="å¦‚æœæ˜¯æœ¬åœ°å·²æœ‰çš„ä»“åº“"><a href="#å¦‚æœæ˜¯æœ¬åœ°å·²æœ‰çš„ä»“åº“" class="headerlink" title="å¦‚æœæ˜¯æœ¬åœ°å·²æœ‰çš„ä»“åº“"></a>å¦‚æœæ˜¯æœ¬åœ°å·²æœ‰çš„ä»“åº“</h4><p>éœ€è¦é…ç½®æ¯ä¸ªä»“åº“çš„ <code>user.name</code> å’Œ <code>user.email</code> ï¼š</p><p>è¿›å…¥åˆ°å¯¹åº”ä»“åº“çš„ç›®å½•ä¸‹ã€‚</p><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config user.name <span class="string">"xxx"</span></span><br><span class="line">git config user.email <span class="string">"yyy@qq.com"</span></span><br></pre></td></tr></table></figure><p>OKï¼å¤§åŠŸå‘Šæˆ ï¼</p><hr><p>æ›´æ–°ï¼š<code>hexo</code> ä¸­ <code>git</code> è®°å½•æ­£å¸¸ï¼Œä½†ç›´æ¥éƒ¨ç½²çš„è„šæœ¬ <code>hexo d</code> å¼‚å¸¸ï¼Œè¯¥è„šæœ¬<del>è²Œä¼¼ä½¿ç”¨å…¨å±€å‚æ•°ï¼Ÿ</del> å°±æ˜¯ä½¿ç”¨çš„å…¨å±€ <code>user.name</code> å’Œ <code>user.email</code> â€¦.</p><p>å…³äºå¦‚ä½•ä¿®æ”¹ <code>hexo d</code> ä½¿ç”¨å½“å‰é¡¹ç›®çš„ <code>user.name</code> å’Œ <code>user.email</code></p><p>å‚è€ƒ <a href="https://github.com/hexojs/hexo/issues/2125" target="_blank" rel="noopener">èƒ½å¦hexo deploy æ—¶æŒ‡å®šgitè´¦æˆ· #2125</a> ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ &lt;code&gt;git&lt;/code&gt; éƒ½æ˜¯é…ç½®ä¸€ä¸ªå…¨å±€ &lt;code&gt;user.name&lt;/code&gt; å’Œ &lt;code&gt;user.email&lt;/code&gt; ï¼Œæ¯æ¬¡è¦ç”¨æ—¶ä½¿ç”¨è¯¥å…¨å±€å‚æ•°å³å¯ã€‚&lt;/p&gt;&lt;p&gt;ä½†æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½è¦åŒæ—¶ä½¿ç”¨å¤šä¸ªä¸åŒçš„è¿œç¨‹ä»“åº“ï¼Œæ¯”å¦‚ä¸ªäººç”¨çš„ &lt;code&gt;github&lt;/code&gt; ä½¿ç”¨ &lt;code&gt;é‚®ç®±a&lt;/code&gt; ï¼Œå…¬å¸ç”¨çš„ &lt;code&gt;gitlab/gitea&lt;/code&gt; ä½¿ç”¨ &lt;code&gt;é‚®ç®±b&lt;/code&gt; ï¼Œç­‰ç­‰ã€‚&lt;/p&gt;&lt;p&gt;é‚£ä¹ˆï¼Œå¦‚ä½•åœ¨æœ¬åœ°çš„Macä¸Šé…ç½®å¤šä¸ªgitè´¦æˆ·å‘¢ã€‚&lt;/p&gt;&lt;p&gt;æˆ‘ä»¬ç»§ç»­å¾€ä¸‹çœ‹ ï½&lt;/p&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="git" scheme="http://jian2333.github.io/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>é‡æ’é‡ç»˜ ä¸æ€§èƒ½ä¼˜åŒ–</title>
    <link href="http://jian2333.github.io/2019/06/23/reflow-repaint/"/>
    <id>http://jian2333.github.io/2019/06/23/reflow-repaint/</id>
    <published>2019-06-23T06:46:43.000Z</published>
    <updated>2019-07-08T15:51:14.392Z</updated>
    
    <content type="html"><![CDATA[<p>æ€§èƒ½ä¼˜åŒ–æ˜¯ä¸ªè€ç”Ÿå¸¸è°ˆçš„è¯é¢˜äº†ï¼Œé‡æ’é‡ç»˜ä¹Ÿæ˜¯æ€§èƒ½ä¼˜åŒ–çš„ä¸€ç§ã€‚</p><p>å‡å°‘æˆ–é¿å…é‡æ’é‡ç»˜ï¼Œèƒ½æœ‰æ•ˆåœ°æå‡æµè§ˆå™¨æ€§èƒ½ã€‚</p><p>é‚£ä¹ˆï¼Œå¦‚ä½•å‡å°‘æˆ–é¿å…é‡æ’é‡ç»˜å‘¢ï¼Ÿ</p><p>æœ¬æ–‡å°†ä» <code>css</code> å’Œ <code>js</code> ä¸¤ä¸ªè§’åº¦æ¥åˆ†æ ï½</p><a id="more"></a><h3 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><p><img src="/images/rr-1.jpg" alt></p><h4 id="é‡æ’"><a href="#é‡æ’" class="headerlink" title="é‡æ’"></a>é‡æ’</h4><ul><li>é‡æ’åˆå« <code>reflow</code> ï¼ŒæŒ‡çš„æ˜¯ä¸ºäº†é‡æ–°æ¸²æŸ“éƒ¨åˆ†æˆ–æ•´ä¸ªé¡µé¢ï¼Œé‡æ–°è®¡ç®—é¡µé¢å…ƒç´ çš„ <strong>ä½ç½®</strong> å’Œ <strong>å‡ ä½•ç»“æ„</strong> çš„è¿›ç¨‹ã€‚</li><li>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯å½“å…ƒç´ æ”¹å˜çš„æ—¶å€™ï¼Œå°†ä¼šå½±å“æ–‡æ¡£å†…å®¹æˆ–ç»“æ„ï¼Œæˆ–å…ƒç´ ä½ç½®ï¼Œæ­¤è¿‡ç¨‹å«åš <code>reflow</code> ã€‚</li><li><code>reflow</code> æ˜¯å¯¼è‡´ <code>DOMè„šæœ¬</code> æ‰§è¡Œæ•ˆç‡ä½ä¸‹çš„å…³é”®å› ç´ ä¹‹ä¸€ã€‚é¡µé¢ä¸Šä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹è§¦å‘äº† <code>reflow</code> ï¼Œéƒ½ä¼šå¯¼è‡´å®ƒçš„ <strong>å­èŠ‚ç‚¹</strong> å’Œ <strong>ç¥–å…ˆèŠ‚ç‚¹</strong> é‡æ–°æ¸²æŸ“ã€‚</li></ul><p><strong>é‚£ä¹ˆï¼Œä»€ä¹ˆæ—¶å€™ä¼šå¯¼è‡´ reflow å‘ç”Ÿå‘¢</strong></p><ul><li>æ”¹å˜çª—å£å¤§å°</li><li>æ”¹å˜æ–‡å­—å¤§å°</li><li>æ·»åŠ /åˆ é™¤æ ·å¼è¡¨</li><li>å†…å®¹çš„æ”¹å˜ï¼Œï¼ˆç”¨æˆ·åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥å†…å®¹ä¹Ÿä¼šï¼‰</li><li>æ¿€æ´»ä¼ªç±»ï¼Œå¦‚ <code>:hover</code></li><li>æ“ä½œ <code>class</code> å±æ€§</li><li>è„šæœ¬æ“ä½œ <code>DOM</code></li><li>è®¡ç®— <code>offsetWidth</code> å’Œ <code>offsetHeight</code></li><li>è®¾ç½® <code>style</code> å±æ€§</li></ul><table><thead><tr><th>å¸¸è§çš„é‡æ’å…ƒç´ </th><th></th><th></th><th></th></tr></thead><tbody><tr><td>width</td><td>height</td><td>padding</td><td>margin</td></tr><tr><td>display</td><td>border-width</td><td>border</td><td>top</td></tr><tr><td>position</td><td>font-size</td><td>float</td><td>bottom</td></tr><tr><td>overflow-y</td><td>font-weight</td><td>over</td><td>left</td></tr><tr><td>font-family</td><td>line-height</td><td>vertical-align</td><td>right</td></tr><tr><td>clear</td><td>white-space</td><td>text-align</td><td>min-height</td></tr></tbody></table><h4 id="é‡ç»˜"><a href="#é‡ç»˜" class="headerlink" title="é‡ç»˜"></a>é‡ç»˜</h4><ul><li>é‡ç»˜åˆå« <code>repaint</code> ï¼ŒæŒ‡çš„æ˜¯å½“å…ƒç´ æ”¹å˜æ—¶ï¼Œå°†ä¸ä¼šå½±å“å…ƒç´ åœ¨å½“å‰é¡µé¢ä¸­çš„ä½ç½®ï¼ˆæ¯”å¦‚ <code>background-color</code>ï¼Œ<code>border-color</code>ï¼Œ<code>visibility</code>ï¼‰ï¼Œè€Œä»…ä»…ä¼šåº”ç”¨æ–°çš„æ ·å¼é‡ç»˜æ­¤å…ƒç´ çš„è¿‡ç¨‹ã€‚</li></ul><p><strong>é‚£ä¹ˆï¼Œä»€ä¹ˆæ—¶å€™ä¼šå‘ç”Ÿ repaint å‘¢</strong></p><table><thead><tr><th>å¸¸è§çš„é‡ç»˜å…ƒç´ </th><th></th><th></th><th></th></tr></thead><tbody><tr><td>color</td><td>border-style</td><td>visibility</td><td>background</td></tr><tr><td>text-decoration</td><td>background-image</td><td>background-position</td><td>background-repeat</td></tr><tr><td>outline-color</td><td>outline</td><td>outline-style</td><td>border-radius</td></tr><tr><td>outline-width</td><td>box-shadow</td><td>background-size</td></tr></tbody></table><h3 id="jsæ–¹é¢çš„ä¼˜åŒ–"><a href="#jsæ–¹é¢çš„ä¼˜åŒ–" class="headerlink" title="jsæ–¹é¢çš„ä¼˜åŒ–"></a>jsæ–¹é¢çš„ä¼˜åŒ–</h3><p>jsæ–¹é¢ä¸»è¦æ˜¯ä» <code>DOM</code> è§’åº¦æ¥ä¼˜åŒ–é‡æ’é‡ç»˜ã€‚åŒ…æ‹¬ä»¥ä¸‹å‡ æ–¹é¢ï¼š</p><ul><li>æ–‡æ¡£ç‰‡æ®µ</li><li>ä½¿ç”¨ <code>innerHTML</code></li><li>æœåŠ¡ç«¯æ¸²æŸ“</li><li>ä½¿ç”¨äº‹ä»¶ä»£ç†</li><li>å‡å°‘ <code>HTMLCollection</code> è®¿é—®</li><li>å°½é‡ä¸ä¿®æ”¹å½±å“æ¯”è¾ƒå¤§çš„ <code>DOM</code></li><li>å‡½æ•°èŠ‚æµ</li></ul><p><strong>æ–‡æ¡£ç‰‡æ®µ</strong></p><ul><li><p>åœ¨å¤šæ¬¡æ“ä½œ <code>DOM</code> æ—¶ï¼Œæ¯”å¦‚ç»™ä¸€ä¸ª <code>&lt;ul&gt;</code> å…ƒç´ æ·»åŠ å¤šä¸ª <code>&lt;li&gt;</code> æ—¶ï¼Œæ¯æ·»åŠ ä¸€æ¬¡ <code>&lt;li&gt;</code> éƒ½ä¼šè¿›è¡Œä¸€æ¬¡ <code>ç°åœºæ›´æ–°(å³reflow)</code> ã€‚</p></li><li><p>ä½¿ç”¨ <code>æ–‡æ¡£ç‰‡æ®µ</code> çš„è¯ï¼Œåªä¼šè¿›è¡Œä¸€æ¬¡ <code>ç°åœºæ›´æ–°(reflow)</code> ã€‚</p></li><li><p>ä½¿ç”¨ <code>appendChild()</code> æ—¶ï¼Œåªæœ‰ <code>æ–‡æ¡£ç‰‡æ®µ</code> çš„ <code>å­èŠ‚ç‚¹</code> ä¼šæ·»åŠ åˆ°ç›®æ ‡ï¼Œ<code>æ–‡æ¡£ç‰‡æ®µ</code> æœ¬èº«ä¸ä¼šè¢«æ·»åŠ åˆ°ç›®æ ‡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list = <span class="built_in">document</span>.getElementById(<span class="string">'myList'</span>),</span><br><span class="line">    fragment = <span class="built_in">document</span>.createDocumentFragment(),</span><br><span class="line">    item,</span><br><span class="line">    i;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++) &#123;</span><br><span class="line">  item = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</span><br><span class="line">  fragment.appendChild(item);</span><br><span class="line">  item.appendChild(<span class="built_in">document</span>.createTextNode(<span class="string">'item'</span> + i));</span><br><span class="line">&#125;</span><br><span class="line">list.appendChild(fragment);</span><br></pre></td></tr></table></figure></li></ul><p><strong>ä½¿ç”¨ innerHTML</strong></p><ul><li><p>å…ˆæ‹¼æ¥å¥½è¦æ¸²æŸ“çš„ <code>htmlå­—ç¬¦ä¸²</code> ã€‚</p></li><li><p>ç„¶åä½¿ç”¨ <code>innerHTML</code> è¿›è¡Œä¸€æ¬¡æ¸²æŸ“ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list = <span class="built_in">document</span>.getElementById(<span class="string">'myList'</span>),</span><br><span class="line">    html = <span class="string">''</span>,</span><br><span class="line">    i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++) &#123;</span><br><span class="line">  html += <span class="string">'&lt;li&gt;item'</span> + i + <span class="string">'&lt;/li&gt;/br'</span>;</span><br><span class="line">&#125;</span><br><span class="line">list.innerHTML = html;</span><br></pre></td></tr></table></figure></li></ul><p><strong>æœåŠ¡ç«¯æ¸²æŸ“</strong></p><ul><li>å’Œ <strong>ä½¿ç”¨ innerHTML</strong> ç±»ä¼¼ï¼Œåªæ˜¯æœåŠ¡ç«¯ä¼šè¿”å› <strong>æ‹¼æ¥å¥½çš„ htmlå­—ç¬¦ä¸²</strong> ï¼Œè€Œä¸éœ€è¦å‰ç«¯æ‹¼æ¥ <code>htmlå­—ç¬¦ä¸²</code> äº†ã€‚</li><li>ç„¶åç›´æ¥ä½¿ç”¨ <code>innerHTML</code> è¿›è¡Œä¸€æ¬¡æ¸²æŸ“å³å¯ã€‚</li></ul><p><strong>ä½¿ç”¨äº‹ä»¶ä»£ç†</strong></p><ul><li>ã€ŠJavaScript é«˜çº§ç¨‹åºè®¾è®¡ã€‹P675ã€‚</li><li>é¡µé¢ä¸Šçš„ <code>äº‹ä»¶å¤„ç†ç¨‹åºçš„æ•°é‡</code> å’Œ <code>é¡µé¢å“åº”ç”¨æˆ·äº¤äº’çš„é€Ÿåº¦</code> å‘ˆè´Ÿç›¸å…³ã€‚æ‰€ä»¥ï¼Œå¦‚æœå‡å°‘ <code>äº‹ä»¶å¤„ç†ç¨‹åºçš„æ•°é‡</code> ï¼Œé‚£ <code>å“åº”é€Ÿåº¦</code> å°†ä¼šæ›´å¿«ã€‚</li><li>å¯¹äºåŒä¸€ä¸ªäº‹ä»¶ï¼Œå¯ä»¥åœ¨ <code>å¯¹åº”DOM</code> ä¸Šå®šä¹‰ï¼Œä¹Ÿå¯ä»¥åœ¨ <code>çˆ¶å…ƒç´ </code> ä¸Šå®šä¹‰ä¸€å¤§ç‰‡äº‹ä»¶ï¼Œåè€…åˆ™æ˜¯äº‹ä»¶ä»£ç†ã€‚</li></ul><p><strong>å‡å°‘ HTMLCollection è®¿é—®</strong></p><ul><li><p>ä»»ä½•æ—¶å€™è®¿é—® <code>HTMLCollection</code> éƒ½å¾ˆè€—èµ„æºã€‚</p></li><li><p>æ‰€ä»¥å¯ä»¥æŠŠè¦è®¿é—®çš„ <code>HTMLCollectionp[i]</code> å­˜æ”¾åˆ°ä¸€ä¸ªå˜é‡é‡Œï¼Œä¹‹åè¦ç”¨æ—¶ç›´æ¥è®¿é—®å˜é‡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> images = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'img'</span>),</span><br><span class="line">    image,</span><br><span class="line">    i,</span><br><span class="line">    len;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">0</span>,len=images.length;i&lt;len;i++) &#123;</span><br><span class="line">  image = images[i];</span><br><span class="line">  <span class="comment">// ä¸€äº›æ“ä½œ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>å°½é‡ä¸ä¿®æ”¹å½±å“æ¯”è¾ƒå¤§çš„ DOM</strong></p><ul><li>å°½å¯èƒ½é™åˆ¶ <code>reflow</code> çš„å½±å“èŒƒå›´ï¼Œå°½å¯èƒ½åœ¨ä½å±‚çº§çš„ <code>DOM</code> ä¸Šè¿›è¡Œæ“ä½œã€‚</li></ul><p><strong>å‡½æ•°èŠ‚æµ</strong></p><ul><li><p><code>å‡½æ•°èŠ‚æµ</code> çš„åŸºæœ¬æ€æƒ³æ˜¯ï¼Œä¸èƒ½åœ¨æ²¡æœ‰é—´æ–­çš„æƒ…å†µä¸‹(æ¯”å¦‚ <code>onresize</code>)è¿ç»­é‡å¤æ‰§è¡ŒæŸäº›ä»£ç ï¼Œå› ä¸ºè¿™å¯èƒ½å¯¼è‡´æµè§ˆå™¨å´©æºƒã€‚</p></li><li><p>å®ç°è¿‡ç¨‹ï¼šç¬¬ä¸€æ¬¡è°ƒç”¨å‡½æ•°æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ª <strong>å®šæ—¶å™¨</strong> ï¼Œåœ¨æŒ‡å®šçš„æ—¶é—´é—´éš”ä¹‹åå†æ‰§è¡Œä»£ç ï¼›ç¬¬äºŒæ¬¡è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œä¼šå…ˆæ¸…é™¤å‰ä¸€æ¬¡çš„ <strong>å®šæ—¶å™¨</strong> å¹¶ <strong>è®¾ç½®å¦ä¸€ä¸ª</strong> ã€‚</p></li><li><p>ç›®çš„æ˜¯ åªæœ‰åœ¨æ‰§è¡Œå‡½æ•°çš„è¯·æ±‚åœæ­¢äº†ä¸€æ®µæ—¶é—´åæ‰æ‰§è¡Œ(æ–°å‡½æ•°) ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æœªä½¿ç”¨å‡½æ•°èŠ‚æµ</span></span><br><span class="line"><span class="comment">// é¢‘ç¹çš„æ›´æ–°DOMï¼Œå¯èƒ½å¯¼è‡´æµè§ˆå™¨å´©æºƒ</span></span><br><span class="line"><span class="built_in">window</span>.onresize = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementById(<span class="string">'myDiv'</span>);</span><br><span class="line">  div.style.height = div.offsetWidth + <span class="string">'px'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨å‡½æ•°èŠ‚æµ</span></span><br><span class="line"><span class="comment">// åªæœ‰å‰é¢å‡½æ•°åœæ­¢ä¸€æ®µæ—¶é—´åï¼Œæ‰ä¼šæ‰§è¡Œç¬¬äºŒä¸ªå‡½æ•°</span></span><br><span class="line"><span class="comment">// æé«˜äº†æ€§èƒ½</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">method, context</span>) </span>&#123;</span><br><span class="line">  clearTimeout(method.Id);</span><br><span class="line">  method.Id = setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    method.call(context);</span><br><span class="line">  &#125;, <span class="number">100</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">resizeDiv</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementById(<span class="string">'myDiv'</span>);</span><br><span class="line">  div.style.height = div.offsetHeight + <span class="string">'px'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">window</span>.onresize = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  throttle(resizeDiv);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="cssæ–¹é¢çš„ä¼˜åŒ–"><a href="#cssæ–¹é¢çš„ä¼˜åŒ–" class="headerlink" title="cssæ–¹é¢çš„ä¼˜åŒ–"></a>cssæ–¹é¢çš„ä¼˜åŒ–</h3><p><code>css</code> æ–¹é¢çš„ä¼˜åŒ–ä¸»è¦æ˜¯æŒ‡ <code>éDOM</code> æ–¹é¢çš„ä¼˜åŒ–ã€‚åŒ…æ‹¬ä»¥ä¸‹å‡ æ–¹é¢ï¼š</p><ul><li>å°½é‡ä½¿ç”¨ <code>className</code> æ¥ä¸€æ¬¡ä¿®æ”¹æ ·å¼ï¼Œè€Œä¸æ˜¯é«˜é¢‘çš„æ¯æ¬¡åªä¿®æ”¹ä¸€æ¡æ ·å¼ã€‚</li><li>å¤šæ¬¡ä¿®æ”¹ <code>DOM</code> æ ·å¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>å…ˆæ”¹æˆdisplay:none --&gt; ä¿®æ”¹næ¬¡æ ·å¼ --&gt; æœ€åæ”¹æˆdisplay:xxx</code> ã€‚</li><li>ä¸ºåŠ¨ç”»çš„å…ƒç´ ä½¿ç”¨ç»å¯¹å®šä½ <code>absolute</code> æˆ– <code>fixed</code> ï¼Œå‡å°‘é™„è¿‘å…ƒç´ çš„é‡æ’é‡ç»˜ã€‚</li><li>å°½é‡å°‘ä½¿ç”¨ <code>table</code> ã€‚å› ä¸º <code>table</code> ä¸€ä¸ªå•å…ƒæ ¼æ ·å¼çš„æ”¹å˜ï¼Œä¼šå¯¼è‡´æ•´ä¸ª <code>table</code> é‡æ’é‡ç»˜ï¼Œæ€§èƒ½æ¶ˆè€—å·¨å¤§ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ€§èƒ½ä¼˜åŒ–æ˜¯ä¸ªè€ç”Ÿå¸¸è°ˆçš„è¯é¢˜äº†ï¼Œé‡æ’é‡ç»˜ä¹Ÿæ˜¯æ€§èƒ½ä¼˜åŒ–çš„ä¸€ç§ã€‚&lt;/p&gt;&lt;p&gt;å‡å°‘æˆ–é¿å…é‡æ’é‡ç»˜ï¼Œèƒ½æœ‰æ•ˆåœ°æå‡æµè§ˆå™¨æ€§èƒ½ã€‚&lt;/p&gt;&lt;p&gt;é‚£ä¹ˆï¼Œå¦‚ä½•å‡å°‘æˆ–é¿å…é‡æ’é‡ç»˜å‘¢ï¼Ÿ&lt;/p&gt;&lt;p&gt;æœ¬æ–‡å°†ä» &lt;code&gt;css&lt;/code&gt; å’Œ &lt;code&gt;js&lt;/code&gt; ä¸¤ä¸ªè§’åº¦æ¥åˆ†æ ï½&lt;/p&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="webå‰ç«¯" scheme="http://jian2333.github.io/tags/web%E5%89%8D%E7%AB%AF/"/>
    
      <category term="css" scheme="http://jian2333.github.io/tags/css/"/>
    
      <category term="js" scheme="http://jian2333.github.io/tags/js/"/>
    
      <category term="æ€§èƒ½ä¼˜åŒ–" scheme="http://jian2333.github.io/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>æ°´å¹³ã€å‚ç›´å’Œå®Œå…¨å±…ä¸­</title>
    <link href="http://jian2333.github.io/2019/06/22/centered/"/>
    <id>http://jian2333.github.io/2019/06/22/centered/</id>
    <published>2019-06-22T09:20:23.000Z</published>
    <updated>2019-06-22T16:43:58.386Z</updated>
    
    <content type="html"><![CDATA[<p>ä¹‹å‰ä¹Ÿæ€»ç»“è¿‡å¾ˆå¤šå±…ä¸­æ–¹æ³•ï¼Œä½†éƒ½æ²¡æœ‰å†™ä¸‹æ¥ï¼ˆå¯¹ï¼Œæˆ‘å°±æ˜¯æ‡’ï¼ŒåŠ ä¸ªä¹¦ç­¾å°±å®Œäº‹äº†â€¦..ï¼‰..</p><p><del>ç„¶åå§</del> æ²¡æœ‰ç„¶åï¼Œæ¯æ¬¡è¦çœ‹çš„æ—¶å€™å°±å¾ˆéº»çƒ¦</p><p>å†ç„¶åå§ï¼Œè¿˜æ˜¯å†³å®šå†™ä¸‹æ¥å¥½äº†â€¦</p><p>â•®(â•¯â–½â•°)â•­</p><p>æ‰€ä»¥ï¼Œæœ¬æ–‡å°†æ€»ç»“å‡ ç§å¸¸ç”¨çš„æ°´å¹³ã€å‚ç›´å’Œå®Œå…¨å±…ä¸­æ–¹æ³•</p><p>okï¼Œæ­£æ–‡å¼€å§‹ï¼</p><a id="more"></a><h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><p>æœ¬æ–‡å°†ä»‹ç»å‡ ç§å¸¸ç”¨çš„æ°´å¹³ã€å‚ç›´å’Œå®Œå…¨å±…ä¸­æ–¹æ³•ã€‚</p><p>ä¸»è¦æ–¹æ³•æœ‰ï¼š<code>3ç§ç»å¯¹å®šä½</code>ã€<code>flex</code>ã€<code>table</code>ã€<code>ä¼ªå…ƒç´ ::after</code> ç­‰æ–¹æ³•ã€‚</p><p><img src="/images/ct-1.jpg" alt></p><p>åé¢çš„ä¾‹å­éƒ½ä»¥æ­¤ <code>html</code> ä¸ºæ ·æœ¬ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"centered"</span>&gt;</span></span><br><span class="line">    æˆ‘æ˜¯å±…ä¸­æ–‡å­—</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong> <code>ç»å¯¹å®šä½+è´Ÿmargin</code>ã€<code>åªä½¿ç”¨ç»å¯¹å®šä½</code> å’Œ <code>ç»å¯¹å®šä½+transform</code> å¯¹åº”çš„9ç§å±…ä¸­é‡Œï¼Œæœ‰7ç§ <code>position</code> å€¼å¯ä»¥æ˜¯ä¸‹é¢ä»»æ„ä¸€ç§ç»„åˆã€‚</p><ul><li>çˆ¶å…ƒç´ ä¸º <code>position: relative</code> ï¼Œå­å…ƒç´ ä¸º <code>position: absolute</code> ã€‚</li><li>çˆ¶å…ƒç´ é»˜è®¤ <code>position</code> ï¼Œå­å…ƒç´ ä¸º <code>position:relative</code> ã€‚</li><li>å‰©ä¸‹ <code>åªä½¿ç”¨ç»å¯¹å®šä½(å‚ç›´å±…ä¸­)</code> å’Œ <code>åªä½¿ç”¨ç»å¯¹å®šä½(å®Œå…¨å±…ä¸­)</code> ä¸¤ç§ï¼Œ<code>position</code> åªèƒ½ä½¿ç”¨ <code>relative + absolute</code> çš„ç¬¬ä¸€ç§æ–¹å¼ã€‚</li></ul><h3 id="æ°´å¹³å±…ä¸­"><a href="#æ°´å¹³å±…ä¸­" class="headerlink" title="æ°´å¹³å±…ä¸­"></a>æ°´å¹³å±…ä¸­</h3><p><strong>å†…è”å…ƒç´ </strong></p><ul><li><p><code>å†…è”å…ƒç´ </code> ç›´æ¥ä½¿ç”¨ <code>text-align: center</code> ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">display</span>: inline;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>æ¨¡æ‹Ÿtable</strong></p><ul><li><p><code>åŒºå—å…ƒç´ </code> æ¨¡æ‹Ÿæˆ <code>table</code> ï¼Œç„¶åä½¿ç”¨ <code>text-align: center</code> ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">  <span class="attribute">display</span>: table;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">display</span>: table-cell;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>flex</strong></p><ul><li><p><code>ä»»ä½•å…ƒç´ </code> æ”¹æˆ <code>å¼¹æ€§ç›’å­</code> ç±»å‹ï¼Œç„¶åä½¿ç”¨ <code>justify-content: center</code> ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>ç»å¯¹å®šä½+è´Ÿmargin</strong></p><ul><li><p><strong>è®¾ç½®å­å…ƒç´ ï¼š</strong>ä½¿ç”¨ <code>left: 50%</code> å®šä½åˆ°çˆ¶å…ƒç´ æ°´å¹³ä¸­å¿ƒï¼Œç„¶å <code>margin-left: -xpx</code> å‘å·¦åç§»å­å…ƒç´  <strong>å®½çš„ä¸€åŠ</strong> ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">50px</span>;<span class="comment">/* 100pxçš„ä¸€åŠ */</span></span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>åªä½¿ç”¨ç»å¯¹å®šä½</strong></p><ul><li><p><strong>è®¾ç½®å­å…ƒç´ </strong> <code>left: 0</code> ï¼Œ<code>right: 0</code> å’Œ <code>margin: x auto</code> æ¥å®ç°æ°´å¹³æ–¹å‘å±…ä¸­ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;<span class="comment">/* ä¸ç¡®å®š */</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>ç»å¯¹å®šä½+translateX</strong></p><ul><li><p><strong>è®¾ç½®å­å…ƒç´ ï¼š</strong> ä½¿ç”¨ <code>left: 50%</code> å®šä½åˆ°çˆ¶å…ƒç´ çš„æ°´å¹³ä¸­å¿ƒï¼Œç„¶å <code>transform: translateX(-50%)</code> å‘å·¦åç§»å­å…ƒç´  <strong>å®½çš„ä¸€åŠ</strong> ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-50%);</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="å‚ç›´å±…ä¸­"><a href="#å‚ç›´å±…ä¸­" class="headerlink" title="å‚ç›´å±…ä¸­"></a>å‚ç›´å±…ä¸­</h3><p><strong>å•è¡Œ+è¡Œé«˜å›ºå®š</strong></p><ul><li><p>è®¾ç½® <code>line-height</code> ç­‰äº <code>height</code> ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>è¡Œé«˜ä¸å›ºå®š</strong></p><ul><li><p>è®¾ç½®ä¸Šä¸‹ <code>padding</code> ç›¸ç­‰ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span></span><br><span class="line">  padding: <span class="number">40px</span>;  <span class="comment">/* æ°´å¹³æ–¹å‘ä¸èƒ½ä½¿ç”¨autoï¼Œå³ä½¿æˆ‘ä»¬åªæƒ³è®¾ç½®å‚ç›´æ–¹å‘çš„padding */</span></span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>ä¼ªå…ƒç´ ::beforeï¼ˆæ¨èï¼ŒæŠ€å·§ï¼‰</strong></p><ul><li><p>åˆ©ç”¨çˆ¶å…ƒç´ çš„ <code>vertical-align: middle</code> å±æ€§æ¥å®ç°å‚ç›´å±…ä¸­ã€‚</p></li><li><p><code>vertical-align</code> é€‚ç”¨äº <code>å†…è”å…ƒç´ </code> ï¼Œæ‰€ä»¥å­å…ƒç´ è¦è®¾ç½®æˆ <code>display:inline</code> æˆ– <code>display:inline-block</code> ã€‚</p></li><li><p><code>vertical-align</code> æ˜¯ç›¸å¯¹ <strong>æ‰€æœ‰å­å…ƒç´ å‚ç›´å±…ä¸­</strong>ï¼Œå¦‚æœæœ‰ä¸€ä¸ªå­å…ƒç´ çš„é«˜åº¦ä¸º 100%ï¼Œé‚£å°±ä¼š <strong>ç›¸å¯¹çˆ¶å…ƒç´ å‚ç›´å±…ä¸­</strong> äº† ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ ä¸€ä¸ªé«˜åº¦ä¸º100%çš„ä¼ªå…ƒç´ æ¥è¾¾åˆ°è¿™ç§æ•ˆæœã€‚</p><p><img src="/images/ct-2.jpg" alt></p><p><img src="/images/ct-3.jpg" alt></p></li><li><p>å®ç°ä»£ç ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> soild pink;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span>: &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.parent</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>æ¨¡æ‹Ÿtable</strong></p><ul><li><p>æŠŠå…ƒç´ æ¨¡æ‹Ÿæˆ <code>table</code> ï¼Œç„¶åä½¿ç”¨ <code>vertical-align: middle</code> æ¥å®ç°å‚ç›´å±…ä¸­ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">  <span class="attribute">display</span>: table;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">display</span>: table-cell;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>transform</strong></p><ul><li><p>å’Œ <code>æ°´å¹³å±…ä¸­</code> ç±»ä¼¼ï¼Œåªæ˜¯æ”¹æˆå‚ç›´æ–¹å‘ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-50%);</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>flex</strong></p><ul><li><p>åˆ©ç”¨ <code>align-items: center</code> æ¥å®ç° <code>å‚ç›´å±…ä¸­</code> ã€‚</p></li><li><p><code>align-self</code> ä¹Ÿå¯ä»¥ <code>å‚ç›´å±…ä¸­</code> ã€‚åŒºåˆ«æ˜¯ <code>align-items</code> è®¾ç½®åœ¨ <code>å¼¹æ€§å®¹å™¨</code> ä¸Šï¼Œ<code>align-self</code> è®¾ç½®åœ¨ <code>å¼¹æ€§å­å…ƒç´ </code> ä¸Šã€‚</p></li><li><p><code>align-content</code> ä¹Ÿå¯ä»¥è¾¾åˆ° <code>å‚ç›´å±…ä¸­</code> çš„æ•ˆæœï¼Œä½†æ˜¯å¿…é¡»è®¾ç½® <code>flex-wrap: wrap</code> æˆ– <code>flex-flow: xx wrap</code> ï¼ˆ<code>wrap-reverse</code> ä¹Ÿå¯ï¼‰ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>ç»å¯¹å®šä½</strong></p><ul><li><p>å’Œ <code>æ°´å¹³å±…ä¸­</code> ç±»ä¼¼ï¼Œåˆ†ä¸º <code>ç»å¯¹å®šä½+è´Ÿmargin</code>ã€<code>åªä½¿ç”¨ç»å¯¹å®šä½</code> å’Œ <code>ç»å¯¹å®šä½+translateY</code> ä¸‰ç§ã€‚</p></li><li><p>æœ€åä¸€ç§åœ¨ä¸Šé¢ <code>transform</code> å·²ç»ä»‹ç»è¿‡äº†ï¼Œè¿™é‡Œåªä»‹ç»å‰é¢ä¸¤ç§ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">ç»å¯¹å®šä½+è´Ÿmargin</span></span><br><span class="line"><span class="comment">é€‚ç”¨äº é«˜åº¦ç¡®å®š çš„æƒ…å†µ</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: -<span class="number">30px</span>;<span class="comment">/* 60pxçš„ä¸€åŠ */</span></span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">åªä½¿ç”¨ç»å¯¹å®šä½</span></span><br><span class="line"><span class="comment">é€‚ç”¨äº é«˜åº¦ä¸ç¡®å®š çš„æƒ…å†µ</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;<span class="comment">/* ä¸ç¡®å®š */</span></span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="å®Œå…¨å±…ä¸­"><a href="#å®Œå…¨å±…ä¸­" class="headerlink" title="å®Œå…¨å±…ä¸­"></a>å®Œå…¨å±…ä¸­</h3><p><code>å®Œå…¨å±…ä¸­</code> å°±æ˜¯æŠŠ <code>æ°´å¹³å±…ä¸­</code> å’Œ <code>å‚ç›´å±…ä¸­</code> ç»„åˆèµ·æ¥ï¼Œä½¿ç”¨çš„å¤§éƒ¨åˆ†æ–¹æ³•å‰é¢éƒ½å·²ç»ä»‹ç»è¿‡äº†ã€‚</p><h4 id="å…ƒç´ é«˜åº¦ç¡®å®š"><a href="#å…ƒç´ é«˜åº¦ç¡®å®š" class="headerlink" title="å…ƒç´ é«˜åº¦ç¡®å®š"></a>å…ƒç´ é«˜åº¦ç¡®å®š</h4><p><strong>ç»å¯¹å®šä½+è´Ÿmargin</strong></p><ul><li><p>ä½¿ç”¨ <code>left: 50%</code> å’Œ <code>top: 50%</code> å®šä½åˆ°çˆ¶å…ƒç´ çš„å®Œå…¨ä¸­å¿ƒï¼Œç„¶åä½¿ç”¨ <code>margin-left:-xpx</code> å’Œ <code>margin-top: -ypx</code> æ¥æ°´å¹³å’Œå‚ç›´åç§»å­å…ƒç´  <strong>ä¸€åŠçš„å®½é«˜</strong> ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: -<span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="å…ƒç´ é«˜åº¦ä¸ç¡®å®š"><a href="#å…ƒç´ é«˜åº¦ä¸ç¡®å®š" class="headerlink" title="å…ƒç´ é«˜åº¦ä¸ç¡®å®š"></a>å…ƒç´ é«˜åº¦ä¸ç¡®å®š</h4><p><strong>åªä½¿ç”¨ç»å¯¹å®šä½</strong></p><ul><li><p>ä½¿ç”¨ <code>left: 0</code>ã€<code>top: 0</code>ã€<code>right:0</code>ã€<code>bottom: 0</code> å’Œ <code>margin: auto</code> æ¥è®¾ç½®æˆ <code>å®Œå…¨å±…ä¸­</code> ã€‚</p></li><li><p><code>position</code> åªèƒ½ä½¿ç”¨ <code>relative + absolute</code> è¿™ç§ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>ç»å¯¹å®šä½+translate</strong></p><ul><li><p>ä½¿ç”¨ <code>left: 50%</code> å’Œ <code>top: 50%</code> æ¥å®šä½åˆ°çˆ¶å…ƒç´ çš„å®Œå…¨ä¸­å¿ƒï¼Œç„¶åä½¿ç”¨ <code>transform: translate(-50%, -50%)</code> å‘å·¦ä¸Šåç§»å­å…ƒç´  <strong>å®½é«˜çš„ä¸€åŠ</strong> ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(-%50, -50%);</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>æ¨¡æ‹Ÿtable</strong></p><ul><li><p>æ¨¡æ‹Ÿæˆ <code>table</code> ï¼Œç„¶åä½¿ç”¨ <code>text-align: center</code> å’Œ <code>vertical-align: middle</code> æ¥è¾¾åˆ° <code>å®Œå…¨å±…ä¸­</code> ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">  <span class="attribute">display</span>: table;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">display</span>: table-cell;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>ä¼ªå…ƒç´ ::beforeï¼ˆæ¨èï¼ŒæŠ€å·§ï¼‰</strong></p><ul><li><p>æ°´å¹³æ–¹å‘ä½¿ç”¨ <code>dispaly:inline-block</code> å’Œ <code>text-align: center</code> æ¥å®ç°ã€‚</p></li><li><p>å‚ç›´æ–¹å‘ä½¿ç”¨ <code>::before</code> ä¼ªå…ƒç´ æ¥å®ç°ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.center</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.parent</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>flex</strong></p><ul><li><p>ä½¿ç”¨ <code>justify-content: center</code> æ¥æ°´å¹³å±…ä¸­ã€‚</p></li><li><p>ä½¿ç”¨ <code>align-items: center</code> æ¥å‚ç›´å±…ä¸­ã€‚</p></li><li><p><code>align-self</code> å’Œ <code>align-content</code> ä¹Ÿå¯ç”¨æ¥å‚ç›´å±…ä¸­ï¼Œåªæ˜¯å‰è€…è¦ä½¿ç”¨åœ¨ <code>å¼¹æ€§å­å®¹å™¨</code> ä¸Šï¼Œåè€…è¦æ·»åŠ  <code>flex-wrap: wrap</code> ï¼ˆæˆ–ç›¸å…³ï¼‰ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¹‹å‰ä¹Ÿæ€»ç»“è¿‡å¾ˆå¤šå±…ä¸­æ–¹æ³•ï¼Œä½†éƒ½æ²¡æœ‰å†™ä¸‹æ¥ï¼ˆå¯¹ï¼Œæˆ‘å°±æ˜¯æ‡’ï¼ŒåŠ ä¸ªä¹¦ç­¾å°±å®Œäº‹äº†â€¦..ï¼‰..&lt;/p&gt;&lt;p&gt;&lt;del&gt;ç„¶åå§&lt;/del&gt; æ²¡æœ‰ç„¶åï¼Œæ¯æ¬¡è¦çœ‹çš„æ—¶å€™å°±å¾ˆéº»çƒ¦&lt;/p&gt;&lt;p&gt;å†ç„¶åå§ï¼Œè¿˜æ˜¯å†³å®šå†™ä¸‹æ¥å¥½äº†â€¦&lt;/p&gt;&lt;p&gt;â•®(â•¯â–½â•°)â•­&lt;/p&gt;&lt;p&gt;æ‰€ä»¥ï¼Œæœ¬æ–‡å°†æ€»ç»“å‡ ç§å¸¸ç”¨çš„æ°´å¹³ã€å‚ç›´å’Œå®Œå…¨å±…ä¸­æ–¹æ³•&lt;/p&gt;&lt;p&gt;okï¼Œæ­£æ–‡å¼€å§‹ï¼&lt;/p&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="webå‰ç«¯" scheme="http://jian2333.github.io/tags/web%E5%89%8D%E7%AB%AF/"/>
    
      <category term="css" scheme="http://jian2333.github.io/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>åˆè¯† webpack</title>
    <link href="http://jian2333.github.io/2019/06/16/webpack/"/>
    <id>http://jian2333.github.io/2019/06/16/webpack/</id>
    <published>2019-06-16T13:22:50.000Z</published>
    <updated>2019-06-16T16:28:24.737Z</updated>
    
    <content type="html"><![CDATA[<p>webpack æ˜¯ä¸€ä¸ªç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å™¨ã€‚</p><p>å½“ä½¿ç”¨ webpack æ‰“åŒ…æ—¶ï¼Œwebpack ä¼šä»ä¸€ä¸ªæˆ–å¤šä¸ªå…¥å£å¤„ï¼Œé€’å½’åœ°æ„å»ºä¸€ä¸ª <code>ä¾èµ–å…³ç³»å›¾(dependency graph)</code> ï¼Œå…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åºæ‰€éœ€è¦çš„æ‰€æœ‰æ¨¡å—ï¼Œç„¶åæ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ª <code>bundle</code> æ–‡ä»¶ã€‚</p><p>webpack å¯ä»¥æ‰“åŒ… <code>js</code>ã€<code>css</code>ã€<code>sass</code>ã€<code>less</code> ã€<code>typescript</code>ã€<code>å›¾ç‰‡</code> ç­‰æ–‡ä»¶ï¼Œé»˜è®¤åªèƒ½æ‰“åŒ… <code>js</code> æ ¼å¼çš„æ–‡ä»¶ï¼Œå…¶ä»–æ ¼å¼çš„æ–‡ä»¶éœ€è¦åŠ è½½ <code>loader</code> åå†æ‰“åŒ…ã€‚</p><p>ç¼–å†™æœ¬æ–‡çš„æ—¶å€™ï¼Œwebpack çš„æœ€æ–°ç‰ˆä¸º <code>v4.34.0</code> ã€‚</p><a id="more"></a><h3 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><p>webpack å¯ä½¿ç”¨ <code>ç»ˆç«¯/å‘½ä»¤è¡Œ</code> æ¥æ‰§è¡Œï¼Œå½“ç„¶ï¼Œwebpack è¿˜æ˜¯ <strong>é«˜åº¦å¯é…ç½®çš„</strong> ã€‚</p><p>webpack æœ‰ä»¥ä¸‹å››ä¸ª <strong>æ ¸å¿ƒæ¦‚å¿µ</strong> ï¼š</p><ul><li>å…¥å£(entry)</li><li>è¾“å‡º(output)</li><li>loader</li><li>æ’ä»¶(plugins)</li></ul><p><strong>å…¥å£(entry)</strong></p><ul><li><p>webpack æ‰“åŒ…æ—¶çš„å…¥å£ï¼›</p></li><li><p>å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå…¥å£ï¼›</p></li><li><p>å…¥å£ä¼šä¾èµ–å…¶ä»–æ–‡ä»¶ï¼Œwebpack ä¼šä»¥æ­¤ä¸ºä¾æ®ï¼Œè¿›è€Œæ‰¾åˆ°å…¶ä»–ä¾èµ–çš„æ–‡ä»¶å’Œå…³ç³»ï¼Œç„¶åä¸€èµ·æ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ª <code>bundle.js</code> æ–‡ä»¶ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">'./app/main.js'</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ul><p><strong>å‡ºå£(output)</strong></p><ul><li><p>ç”¨äºæè¿°æ‰“åŒ…åçš„ <code>bundle.js</code> æ–‡ä»¶çš„å­˜æ”¾è·¯å¾„å’Œå‘½åè§„åˆ™ï¼Œé»˜è®¤å€¼ä¸º <code>./dist</code> ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">'./app/main.js'</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'public'</span>),</span><br><span class="line">    <span class="comment">// ç­‰æ•ˆäº path: __dirname + '/public',</span></span><br><span class="line">    filename: <span class="string">'bundle.js'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// __dirname æ˜¯node.jsçš„ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œè¡¨ç¤ºå½“å‰æ‰§è¡Œè„šæœ¬æ‰€åœ¨çš„ç›®å½•</span></span><br></pre></td></tr></table></figure></li></ul><p><strong>loader</strong></p><ul><li><p><code>loader</code> èƒ½å¤Ÿè®© webpack æ‰“åŒ…é‚£äº› <code>éjavascript</code> æ–‡ä»¶ï¼›</p></li><li><p><code>loader</code> éœ€è¦å•ç‹¬å®‰è£…å¹¶åœ¨ <code>webpack.config.js</code> ä¸­çš„ <code>modules</code> å…³é”®å­—ä¸‹è¿›è¡Œé…ç½®ï¼Œ<code>loader</code> çš„é…ç½®åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p><ul><li><code>test</code> ï¼šä¸€ä¸ªç”¨ä»¥åŒ¹é… <code>loader</code> æ‰€å¤„ç†æ–‡ä»¶çš„æ‰©å±•åçš„æ­£åˆ™è¡¨è¾¾å¼(å¿…é¡») ï¼›</li><li><del><code>loader</code></del> <code>use</code> ï¼š<code>loader</code> çš„åç§°(å¿…é¡») ï¼›</li><li><del><code>include/exclude</code> ï¼šæ‰‹åŠ¨æ·»åŠ å¿…é¡»å¤„ç†çš„æ–‡ä»¶(æ–‡ä»¶å¤¹) æˆ–å±è”½ä¸éœ€å¤„ç†çš„æ–‡ä»¶(æ–‡ä»¶å¤¹) ï¼›</del></li><li><del><code>query</code> ï¼šä¸º <code>loader</code> æä¾›é¢å¤–çš„å¤„ç†é€‰é¡¹ ï¼›</del></li></ul></li><li><p><a href="https://www.webpackjs.com/concepts/loaders/" target="_blank" rel="noopener">æ›´å¤šä¿¡æ¯</a> ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123; <span class="attr">test</span>: <span class="regexp">/\.css/</span>, <span class="attr">use</span>: <span class="string">'css-loader'</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">test</span>: <span class="regexp">/\.ts/</span>, <span class="attr">use</span>: <span class="string">'ts-loader'</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ul><p><strong>æ’ä»¶(plugins)</strong></p><ul><li><p><code>loader</code> è¢«ç”¨æ¥è½¬æ¢æŸäº›ç±»å‹çš„æ¨¡å—ï¼Œè€Œæ’ä»¶åˆ™ç”¨æ¥æ‰§è¡ŒèŒƒå›´æ›´å¹¿çš„ä»»åŠ¡ï¼›</p></li><li><p>æ’ä»¶çš„èŒƒå›´åŒ…æ‹¬ï¼šæ‰“åŒ…ã€ä¼˜åŒ–ã€å‹ç¼©ã€é‡æ–°å®šä¹‰ç¯å¢ƒä¸­çš„å˜é‡ç­‰å…¶ä»–åŠŸèƒ½ï¼›</p></li><li><p>æ’ä»¶çš„ä½¿ç”¨å’Œ <code>loader</code> ç±»ä¼¼ï¼Œå…ˆä½¿ç”¨ <code>npm</code> å®‰è£…ï¼Œç„¶ååœ¨ <code>webpack.config.js</code> ä¸­çš„ <code>plugins</code> å…³é”®å­—ä¸‹æ·»åŠ è¯¥æ’ä»¶çš„ä¸€ä¸ªå®ä¾‹( <code>plugins</code> æ˜¯ä¸€ä¸ªæ•°ç»„ )ã€‚</p></li><li><p><a href="https://www.webpackjs.com/concepts/plugins/" target="_blank" rel="noopener">æ›´å¤šä¿¡æ¯</a> ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123; <span class="attr">test</span>:<span class="regexp">/\.css/</span>, <span class="attr">use</span>: <span class="string">'css-loader'</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">test</span>:<span class="regexp">/\.ts/</span>, <span class="attr">use</span>: <span class="string">'ts-loader'</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.UglifyJsPlugin(),</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123; <span class="attr">template</span>: <span class="string">'./src/index.html'</span> &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ul><h3 id="å…¶ä»–è¦ç‚¹"><a href="#å…¶ä»–è¦ç‚¹" class="headerlink" title="å…¶ä»–è¦ç‚¹"></a>å…¶ä»–è¦ç‚¹</h3><p><strong>webpack å¯é…ç½®çš„</strong></p><ul><li><p>å¯ä½¿ç”¨ <code>ç»ˆç«¯/å‘½ä»¤è¡Œ</code> æ¥æ‰§è¡Œ webpackï¼Œä¹Ÿå¯é…ç½®å¥½ <code>webpack.config.js</code>ï¼Œç„¶åç›´æ¥ä½¿ç”¨ <code>webpack</code> å‘½ä»¤ï¼›</p></li><li><p>å…¨å±€å®‰è£…çš„ä½¿ç”¨ <code>webpack</code> å‘½ä»¤ï¼Œéå…¨å±€å®‰è£…çš„ä½¿ç”¨ <code>node_modules/.bin/webpack</code> å‘½ä»¤ï¼›</p></li><li><p>è¿™ä¸ªå‘½ä»¤ä¼šè‡ªåŠ¨å¼•ç”¨ <code>webpack.config.js</code> æ–‡ä»¶ä¸­çš„é…ç½®é€‰é¡¹ï¼›</p></li><li><p>å¦‚æœæ²¡æœ‰ <code>webpack.config.js</code> é…ç½®æ–‡ä»¶ï¼Œä¹Ÿå¯ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥æ‰“åŒ…ï¼›</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// æœªé…ç½® webpack.config.js</span><br><span class="line">// npx webpack &#123;å…¥å£&#125; -o &#123;å‡ºå£&#125;</span><br><span class="line">npx webpack app/main.js -o public/bundle.js</span><br><span class="line"></span><br><span class="line">// å·²é…ç½® webpack.config.jsï¼Œæœªé…ç½® package.json</span><br><span class="line">npx webpack --config webpack.config.js</span><br><span class="line">npx webpack</span><br><span class="line">webpack</span><br><span class="line"></span><br><span class="line">// å·²é…ç½® webpack.config.jsï¼Œå·²é…ç½® package.json</span><br><span class="line">npm start</span><br></pre></td></tr></table></figure></li></ul><p><strong>script è„šæœ¬å‘½ä»¤</strong></p><ul><li><p>å‘½ä»¤é…ç½®åœ¨ <code>package.json</code> ä¸­çš„ <code>scripts</code> å…³é”®å­—ä¸­ï¼›</p></li><li><p><code>start</code> æ˜¯ ç‰¹æ®Šçš„è„šæœ¬å‘½ä»¤ï¼Œä½¿ç”¨ <code>npm start</code> å³å¯ï¼Œå…¶ä»–è„šæœ¬ <code>xx</code> ï¼Œåˆ™éœ€ä½¿ç”¨ <code>npm run xx</code> æ¥æ‰§è¡Œï¼Œæ¯”å¦‚ <code>npm run build</code> ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"webpackdemo1"</span>,</span><br><span class="line">  <span class="string">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="string">"description"</span>: <span class="string">"webpack sample project"</span>,</span><br><span class="line">  <span class="string">"private"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="string">"main"</span>: <span class="string">"index.js"</span>,</span><br><span class="line">  <span class="string">"scripts"</span>: &#123;</span><br><span class="line">    <span class="string">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>,</span><br><span class="line">    <span class="string">"start"</span>: <span class="string">"webpack"</span>,</span><br><span class="line">    <span class="string">"server"</span>: <span class="string">"webpack-dev-server --open"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"author"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="string">"license"</span>: <span class="string">"ISC"</span>,</span><br><span class="line">  <span class="string">"devDependencies"</span>: &#123;</span><br><span class="line">    <span class="string">"webpack"</span>: <span class="string">"^4.34.0"</span>,</span><br><span class="line">    <span class="string">"webpack-cli"</span>: <span class="string">"^3.3.4"</span>,</span><br><span class="line">    <span class="string">"webpack-dev-server"</span>: <span class="string">"^3.7.1"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/images/wp-1.jpg" alt></p></li></ul><p><strong>ç”Ÿæˆ Source Maps ï¼ˆä½¿è°ƒè¯•æ›´å®¹æ˜“ï¼‰</strong></p><ul><li><p><code>source maps</code> æä¾›äº†ä¸€ç§å¯¹åº”ç¼–è¯‘æ–‡ä»¶å’Œæºæ–‡ä»¶çš„æ–¹æ³•ï¼Œä½¿ç¼–è¯‘åçš„ä»£ç å¯è¯»æ€§æ›´é«˜ï¼Œæ›´å®¹æ˜“è°ƒè¯•ï¼›</p></li><li><p>åœ¨ <code>webpack.config.js</code> ä¸­çš„ <code>devtool</code> å…³é”®å­—æ·»åŠ  <code>devtool</code> é€‰é¡¹å³å¯ï¼Œä¸€èˆ¬ä½¿ç”¨ <code>source-map</code> ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  devtool: <span class="string">"source-map"</span>,</span><br><span class="line">  entry: __dirname + <span class="string">'/app/main.js'</span>,  <span class="comment">// å·²å¤šæ¬¡æåˆ°çš„å”¯ä¸€å…¥å£æ–‡ä»¶</span></span><br><span class="line">  output: &#123;</span><br><span class="line">    path: __dirname + <span class="string">'/public'</span>,    <span class="comment">// æ‰“åŒ…åæ–‡ä»¶å­˜æ”¾çš„è·¯å¾„</span></span><br><span class="line">    filename: <span class="string">'bundle.js'</span>   <span class="comment">// æ‰“åŒ…åè¾“å‡ºçš„æ–‡ä»¶åç§°</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li><li><p><a href="https://www.webpackjs.com/configuration/devtool/" target="_blank" rel="noopener">æ›´å¤šä¿¡æ¯</a> ï¼›</p></li></ul><p><strong>webpack æ„å»ºæœ¬åœ°æœåŠ¡å™¨ï¼ˆæ”¯æŒ æ¨¡å—çƒ­æ›¿æ¢ï¼‰</strong></p><ul><li><p>webpack å¯æ„å»ºæœ¬åœ°æœåŠ¡å™¨ï¼Œç„¶åå¯é…ç½®ä¸€ç³»åˆ—ç›¸å…³çš„è®¾ç½®ï¼›</p></li><li><p>æœ¬åœ°æœåŠ¡å™¨æ”¯æŒ <strong>æ¨¡å—çƒ­æ›¿æ¢</strong> åŠŸèƒ½ï¼Œå³ä¿®æ”¹ JS ä»£ç åï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨åˆ·æ–°é¡µé¢ï¼›</p></li><li><p>ä½¿ç”¨æ–¹æ³•ï¼š</p><ul><li><p>å®‰è£… <code>webpack-dev-server</code> ç»„ä»¶ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev webpack-decv-server</span><br></pre></td></tr></table></figure></li><li><p>åœ¨ <code>webpack.config.js</code> ä¸­çš„ <code>devServer</code> å…³é”®å­—ä¸­è¿›è¡Œé…ç½®ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  ...</span><br><span class="line">  devServer: &#123;</span><br><span class="line">    contentBase: <span class="string">'./public'</span>,<span class="comment">// æœ¬åœ°æœåŠ¡å™¨æ‰€åŠ è½½çš„é¡µé¢æ‰€åœ¨çš„ç›®å½•</span></span><br><span class="line">    historyApiFallback: <span class="literal">true</span>,<span class="comment">// ä¸è·³è½¬</span></span><br><span class="line">    inline: <span class="literal">true</span><span class="comment">// å®æ—¶åˆ·æ–°</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åœ¨ <code>package.json</code> ä¸­çš„ <code>scripts</code> ä¸­æ·»åŠ å¯¹åº”çš„å‘½ä»¤( <code>server</code> å‘½ä»¤ )ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"scripts"</span>: &#123;</span><br><span class="line">  <span class="string">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>,</span><br><span class="line">  <span class="string">"start"</span>: <span class="string">"webpack"</span>,</span><br><span class="line">  <span class="string">"server"</span>: <span class="string">"webpack-dev-server --open"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åœ¨ <code>ç»ˆç«¯/å‘½ä»¤è¡Œ</code> è¾“å…¥ <code>npm run server</code> å³å¯å¯åŠ¨æœåŠ¡å™¨ï¼›</p><p><img src="/images/wp-2.jpg" alt></p></li></ul></li><li><p>æ›´å¤šä¿¡æ¯ï¼š</p><ul><li><a href="https://segmentfault.com/a/1190000006178770#articleHeader3" target="_blank" rel="noopener">ä½¿ç”¨webpackæ„å»ºæœ¬åœ°æœåŠ¡å™¨</a></li><li><a href="https://www.webpackjs.com/guides/development/#ä½¿ç”¨-webpack-dev-server" target="_blank" rel="noopener">ä½¿ç”¨ webpack-dev-server</a></li></ul></li></ul><h3 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><p><strong>æ–°å»ºé¡¹ç›®</strong></p><ul><li><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir webpackdemo</span><br><span class="line"><span class="built_in">cd</span> webpackdemo</span><br><span class="line">npm init</span><br></pre></td></tr></table></figure></li></ul><p><strong>å®‰è£… webpack å’Œ webpack-cli</strong></p><ul><li><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack webpack-cli --save-dev</span><br></pre></td></tr></table></figure></li></ul><p><strong>é…ç½® webpack</strong></p><ul><li><p>æ–°å»º <code>app</code> æ–‡ä»¶å¤¹ï¼Œç”¨æ¥å­˜æ”¾ <code>js</code> æºæ–‡ä»¶ï¼›</p></li><li><p>æ–°å»º <code>public</code> æ–‡ä»¶å¤¹ï¼Œç”¨æ¥å­˜æ”¾ <code>html</code> æ–‡ä»¶å’Œæ‰“åŒ…ç”Ÿæˆçš„ <code>bundle.js</code> æ–‡ä»¶ï¼›</p></li><li><p>å½“å‰é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š</p><p><img src="/images/wp-3.jpg" alt></p></li><li><p>é…ç½® webpack çš„ å…¥å£å’Œå‡ºå£ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    devtool: <span class="string">"source-map"</span>,</span><br><span class="line">    entry: __dirname + <span class="string">'/app/main.js'</span>,  <span class="comment">// å·²å¤šæ¬¡æåˆ°çš„å”¯ä¸€å…¥å£æ–‡ä»¶</span></span><br><span class="line">    output: &#123;</span><br><span class="line">        path: __dirname + <span class="string">'/public'</span>,    <span class="comment">// æ‰“åŒ…åæ–‡ä»¶å­˜æ”¾çš„è·¯å¾„</span></span><br><span class="line">        filename: <span class="string">'bundle.js'</span>   <span class="comment">// æ‰“åŒ…åè¾“å‡ºçš„æ–‡ä»¶åç§°</span></span><br><span class="line">    &#125;,</span><br><span class="line">    devServer: &#123;</span><br><span class="line">        contentBase: <span class="string">'./public'</span>,    <span class="comment">// æœ¬åœ°æœåŠ¡å™¨æ‰€åŠ è½½çš„é¡µé¢æ‰€åœ¨çš„ç›®å½•</span></span><br><span class="line">        historyApiFallback: <span class="literal">false</span>,   <span class="comment">// ä¸è·³è½¬</span></span><br><span class="line">        inline: <span class="literal">true</span>    <span class="comment">// å®æ—¶åˆ·æ–°</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ul><p><strong>é…ç½® script å‘½ä»¤</strong></p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line"><span class="string">"scripts"</span>: &#123;</span><br><span class="line">  <span class="string">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>,</span><br><span class="line">  <span class="string">"start"</span>: <span class="string">"webpack"</span>,</span><br><span class="line">  <span class="string">"server"</span>: <span class="string">"webpack-dev-server --open"</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li></ul><p><strong>ç¼–å†™ä»£ç </strong></p><ul><li><p>åœ¨ <code>/app</code> æ–‡ä»¶å¤¹ä¸­æ·»åŠ  <code>Greeter.js</code> å’Œ <code>main.js</code> æ–‡ä»¶ï¼›</p></li><li><p>åœ¨ <code>/public</code> æ–‡ä»¶å¤¹ä¸­æ·»åŠ  <code>index.html</code> æ–‡ä»¶ï¼›</p></li><li><p>æ–‡ä»¶å†…å®¹åˆ†åˆ«å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Greetet.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> greet = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span><br><span class="line">    greet.textContent = <span class="string">"Hi there are greetings!"</span>;</span><br><span class="line">    <span class="keyword">return</span> greet;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js å…¥å£æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">const</span> greeter = <span class="built_in">require</span>(<span class="string">'./Greeter'</span>);</span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'#root'</span>).appendChild(greeter());</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.html --&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Webpack Sample Project<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"root"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><p><strong>è¿è¡Œ</strong></p><ul><li><p>æ‰“åŒ…ç”Ÿæˆ <code>bundle.js</code> æ–‡ä»¶ï¼›</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm start</span><br></pre></td></tr></table></figure></li><li><p>å¯åŠ¨æœåŠ¡å™¨ï¼›</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run server</span><br></pre></td></tr></table></figure></li></ul><h3 id="æ¨èæ–‡ç« "><a href="#æ¨èæ–‡ç« " class="headerlink" title="æ¨èæ–‡ç« "></a>æ¨èæ–‡ç« </h3><p><a href="https://www.webpackjs.com/concepts/" target="_blank" rel="noopener">1. [æ¨è]å®˜æ–¹æ–‡æ¡£</a></p><p><a href="https://segmentfault.com/a/1190000006178770#articleHeader5" target="_blank" rel="noopener">2. [ç‰ˆæœ¬è¾ƒæ—§]å…¥é—¨Webpackï¼Œçœ‹è¿™ç¯‡å°±å¤Ÿäº†</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;webpack æ˜¯ä¸€ä¸ªç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å™¨ã€‚&lt;/p&gt;&lt;p&gt;å½“ä½¿ç”¨ webpack æ‰“åŒ…æ—¶ï¼Œwebpack ä¼šä»ä¸€ä¸ªæˆ–å¤šä¸ªå…¥å£å¤„ï¼Œé€’å½’åœ°æ„å»ºä¸€ä¸ª &lt;code&gt;ä¾èµ–å…³ç³»å›¾(dependency graph)&lt;/code&gt; ï¼Œå…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åºæ‰€éœ€è¦çš„æ‰€æœ‰æ¨¡å—ï¼Œç„¶åæ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ª &lt;code&gt;bundle&lt;/code&gt; æ–‡ä»¶ã€‚&lt;/p&gt;&lt;p&gt;webpack å¯ä»¥æ‰“åŒ… &lt;code&gt;js&lt;/code&gt;ã€&lt;code&gt;css&lt;/code&gt;ã€&lt;code&gt;sass&lt;/code&gt;ã€&lt;code&gt;less&lt;/code&gt; ã€&lt;code&gt;typescript&lt;/code&gt;ã€&lt;code&gt;å›¾ç‰‡&lt;/code&gt; ç­‰æ–‡ä»¶ï¼Œé»˜è®¤åªèƒ½æ‰“åŒ… &lt;code&gt;js&lt;/code&gt; æ ¼å¼çš„æ–‡ä»¶ï¼Œå…¶ä»–æ ¼å¼çš„æ–‡ä»¶éœ€è¦åŠ è½½ &lt;code&gt;loader&lt;/code&gt; åå†æ‰“åŒ…ã€‚&lt;/p&gt;&lt;p&gt;ç¼–å†™æœ¬æ–‡çš„æ—¶å€™ï¼Œwebpack çš„æœ€æ–°ç‰ˆä¸º &lt;code&gt;v4.34.0&lt;/code&gt; ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="webå‰ç«¯" scheme="http://jian2333.github.io/tags/web%E5%89%8D%E7%AB%AF/"/>
    
      <category term="webpack" scheme="http://jian2333.github.io/tags/webpack/"/>
    
      <category term="js" scheme="http://jian2333.github.io/tags/js/"/>
    
  </entry>
  
</feed>
