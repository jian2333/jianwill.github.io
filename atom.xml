<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hi,Jianww</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://jian2333.github.io/"/>
  <updated>2021-01-24T14:13:50.718Z</updated>
  <id>http://jian2333.github.io/</id>
  
  <author>
    <name>Jianww</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>å®¶åº­ç½‘ç»œçš„å‡çº§ä¹‹æ—…(äºŒ)</title>
    <link href="http://jian2333.github.io/2021/01/19/home-net-2/"/>
    <id>http://jian2333.github.io/2021/01/19/home-net-2/</id>
    <published>2021-01-19T05:54:59.000Z</published>
    <updated>2021-01-24T14:13:50.718Z</updated>
    
    <content type="html"><![CDATA[<p>ä½ é—®æˆ‘(ä¸€)åœ¨å“ªé‡Œï¼Ÿå…¶å®å¹¶æ²¡æœ‰å†™ï¼Œå› ä¸ºæˆ‘æ‡’ã€‚ã€‚ã€‚ã€‚ã€‚(å°å£°bb)</p><p>é‚£ä¹ˆ(ä¸€)æ˜¯ä»€ä¹ˆå‘¢ï¼Œç®€å•æ¥è¯´å°±æ˜¯åŠ äº†ä¸ªè½¯è·¯ç”± <code>r2s</code>ï¼Œç”¨ <code>ä¸»è·¯ç”±</code> çš„æ¨¡å¼å®ç°äº†è·¯ç”±ç¿»å¢™ï½</p><h3 id="å‡çº§ä¹‹æ—…-ä¸€"><a href="#å‡çº§ä¹‹æ—…-ä¸€" class="headerlink" title="å‡çº§ä¹‹æ—…(ä¸€)"></a>å‡çº§ä¹‹æ—…(ä¸€)</h3><h4 id="ç—›ç‚¹"><a href="#ç—›ç‚¹" class="headerlink" title="ç—›ç‚¹"></a>ç—›ç‚¹</h4><ul><li>æ¯ä¸ªè®¾å¤‡å‡ºå›½ç•™å­¦éƒ½è¦å¼€ç›¸åº”çš„è½¯ä»¶ï¼š<code>Windows</code> -&gt; <code>v2rayN</code>ï¼Œ<code>Mac</code> -&gt; <code>v2rayU</code>ï¼Œ<code>ios</code> -&gt; <code>shadowRocket</code></li><li>PCä¸Šä»£ç†æ¸¸æˆæµé‡è¿˜å¾—å•ç‹¬å¼€ <code>proxifier</code> è½¯ä»¶ï¼Œå‚è€ƒä¹‹å‰å†™çš„ä¸€ç‰‡æ–‡ç«  <a href="https://jian2333.github.io/2019/09/10/sstovpn/">ss + proxifier å®ç°vpnæ¸¸æˆä»£ç†</a></li><li><code>switch</code> è”ç½‘å¾—é€šè¿‡å…±äº« <code>wifi</code> çš„æ–¹å¼ï¼Œä¸€ç›´å¼€ç€ <code>PC</code> æˆ–è€… <code>iphone</code></li></ul><p>ç§ç§çš„ä¸ä¾¿å¤§å¤§é™ä½äº†ç”¨æˆ·ä½“éªŒï¼Œå°¤å…¶æ˜¯ç© <code>switch</code> çš„æ—¶å€™ï¼Œæ¯æ¬¡éƒ½è¦ç‰¹æ„å¼€ <code>PC</code> æˆ– <code>iphone</code> æŒ‚ç€ï¼Œå®åœ¨æ˜¯ä¸æ–¹ä¾¿äº†ï½</p><p>é‚£ä¹ˆï¼Œæœ‰ä»€ä¹ˆæ–¹æ³•èƒ½ä¸€èµ·è§£å†³ä¸Šé¢çš„é—®é¢˜å‘¢ï¼Ÿ</p><a id="more"></a><h4 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h4><p>ç­”æ¡ˆï¼Œå½“ç„¶æ˜¯æœ‰çš„ï¼Œ<strong>è·¯ç”±ç¿»å¢™</strong>å°±æ˜¯å¾ˆå¥½çš„ä¸€ç§æ–¹æ¡ˆï¼</p><ul><li>è·¯ç”±å™¨ç¿»å¢™åï¼Œè¿æ¥è·¯ç”±å™¨çš„æ‰€æœ‰è®¾å¤‡(æœ‰çº¿/æ— çº¿)éƒ½ä¼šæ ¹æ®<strong>æµé‡è§„åˆ™</strong>è‡ªè¡Œå†³å®šæ˜¯å¦ç¿»å¢™</li><li>åœ¨ <code>è·¯ç”±ç¿»å¢™æ’ä»¶</code> é‡Œï¼Œè®¾ç½® <code>åè®®è§„åˆ™</code>ï¼š<ul><li><code>TCP</code>: ä½¿ç”¨ <code>v2ray</code> åè®®ï¼Œä¸Šç½‘é€Ÿåº¦å¿«ï¼›</li><li><code>UDP</code>: ä½¿ç”¨ <code>ss</code> åè®®ï¼Œç©æ¸¸æˆç¨³å®š(ä¸Šç½‘é€Ÿåº¦æ…¢)</li></ul></li></ul><p><strong>Tips</strong>ï¼šä¹‹æ‰€ä»¥ <code>UDP</code> ä½¿ç”¨ <code>ss</code> è€Œä¸ä½¿ç”¨ <code>v2ray</code>ï¼Œå› ä¸º <code>v2ray</code> ä¸é€‚åˆä½œä¸º<strong>æ¸¸æˆçš„æµé‡åè®®</strong>ï¼Œ<code>v2ray</code> è¿›è¡Œäº†å¤šæ¬¡æµé‡è½¬æ¢ï¼Œç½‘ç»œç±»å‹å¾ˆå·®ï¼Œæ¯”å¦‚åœ¨ <code>switch</code> é‡Œï¼š</p><ul><li><code>UDP</code> ä½¿ç”¨ <code>ss</code> æ—¶ï¼š<code>NAT</code> ç±»å‹ä¸º<strong>A</strong>ï¼Œç½‘ç»œè´¨é‡æœ€å¥½</li><li><code>UDP</code> ä½¿ç”¨ <code>v2ray</code> æ—¶ï¼š<code>NAT</code> ç±»å‹ä¸º<strong>D</strong>ï¼Œç½‘ç»œè´¨é‡éå¸¸å·®ï¼ŒåŸºæœ¬ä¸èƒ½è”æœº</li></ul><p>Okï¼Œç†è®ºæ–¹æ¡ˆå·²ç»ç¡®å®šï¼Œæ¥ä¸‹æ¥å°±æ˜¯å®è·µå¼€å§‹ï½</p><h5 id="ç¡¬è·¯ç”±å°è¯•"><a href="#ç¡¬è·¯ç”±å°è¯•" class="headerlink" title="ç¡¬è·¯ç”±å°è¯•"></a>ç¡¬è·¯ç”±å°è¯•</h5><p>æœ€å¼€å§‹æ˜¯ç›´æ¥å°è¯•ç”¨ç¡¬è·¯ç”±åˆ· <code>æ¢…æ—å›ºä»¶</code>ã€<code>è€æ¯›å­å›ºä»¶</code> ç­‰ï¼Œä½†ç¡¬è·¯ç”±é…ç½®å¤ªä½ï¼Œåˆ·äº†ç³»ç»Ÿåè·‘ä¸èµ·æ¥ï¼Œæœ€åå†³å®š<strong>ç›´ æ¥ ä¸Š è½¯è·¯ç”±ï¼ï¼</strong></p><h5 id="è½¯è·¯ç”±"><a href="#è½¯è·¯ç”±" class="headerlink" title="è½¯è·¯ç”±"></a>è½¯è·¯ç”±</h5><p>è½¯è·¯ç”±é€‰æ‹©äº†å…¥é—¨çº§çš„ <code>r2s</code> ï¼Œå› ä¸ºæ€§ä»·æ¯”æé«˜ï¼Œåªè¦200å—å°±è¡Œï¼Œæ€§èƒ½ä¹Ÿå¤Ÿï¼Œè€Œä¸”ä½“ç§¯éå¸¸å°ï¼Œå¾ˆæ–¹ä¾¿ï½</p><p>ç„¶åå°±æ˜¯å¸¸è§„æ“ä½œäº†ï¼Œåˆ·å›ºä»¶ï¼Œé…ç½® <code>passwall</code>ï¼Œé€‰æ‹©ä»£ç†æ¨¡å¼ï¼š</p><ul><li><code>TCP</code>: <code>v2ray</code> åè®®ï¼Œé»˜è®¤æ¨¡å¼ä¸º <code>ä¸­å›½å¤§é™†ä»¥å¤–</code></li><li><code>UDP</code>: <code>ss</code> åè®®ï¼Œé»˜è®¤æ¨¡å¼ä¸º <code>æ¸¸æˆæ¨¡å¼</code></li></ul><p>å®¶åº­ç½‘ç»œé‡‡ç”¨ <code>ä¸»è·¯ç”±</code> çš„è¿æ¥æ–¹å¼ï¼š</p><ul><li><code>å…‰çŒ«</code> -&gt; <code>è½¯è·¯ç”±</code> -&gt; <code>ç¡¬è·¯ç”±</code>(ä½œä¸º<strong>è·¯ç”±å™¨</strong>) -&gt; <code>å¤šä¸ªè®¾å¤‡ABCDE</code></li><li><code>è½¯è·¯ç”±</code> ä¸­ä½¿ç”¨ <code>passwall</code> æ’ä»¶è¿›è¡Œ<strong>è·¯ç”±ç¿»å¢™</strong></li><li><code>ç¡¬è·¯ç”±</code> ä¸­è¿›è¡Œ <code>IP</code> ä¸ <code>MAC</code> ç»‘å®šï¼Œ<code>wifi</code> å‘å°„ï¼Œ<code>å¤šä¸ªè®¾å¤‡ABCDE</code> çš„ <code>è¿æ¥é™åˆ¶</code>ã€<code>ç½‘ç»œé™åˆ¶</code>ç­‰åŠŸèƒ½</li></ul><p><img src="/images/hn-before.png" alt="å®¶åº­ç½‘ç»œå‰" style="zoom:40%"></p><p>åˆ°æ­¤ä¸ºæ­¢ï¼Œä¹‹å‰çš„éœ€æ±‚éƒ½æ»¡è¶³äº†ï¼Œå®Œç¾ï¼</p><h3 id="å‡çº§ä¹‹æ—…-äºŒ"><a href="#å‡çº§ä¹‹æ—…-äºŒ" class="headerlink" title="å‡çº§ä¹‹æ—…(äºŒ)"></a>å‡çº§ä¹‹æ—…(äºŒ)</h3><p>ä¹‹åçš„æ—¶é—´ä¸€ç›´éƒ½è¿è¡Œå®Œç¾ï¼Œç›´åˆ°å…¥æ‰‹äº† <code>å–·å–·(å–·å°„æˆ˜å£«2)</code>â€¦.</p><h4 id="æ–°çš„ç—›ç‚¹"><a href="#æ–°çš„ç—›ç‚¹" class="headerlink" title="æ–°çš„ç—›ç‚¹"></a>æ–°çš„ç—›ç‚¹</h4><p>ä¹‹å‰æœ‰è¯´è¿‡ï¼Œç½‘é¡µéƒ½èµ° <code>TCP</code> çš„ <code>v2ray</code> åè®®ï¼Œç½‘é€Ÿå¿«ï¼Œæ¸¸æˆ<strong>éƒ½</strong>èµ° <code>UDP</code> çš„ <code>ss</code> åè®®ï¼Œç½‘ç»œç¨³å®šã€‚</p><p>ä½†æ˜¯ï¼Œ<code>å–·å–·</code> æ˜¯ä¸ªç‰¹ä¾‹â€¦.. è¿™æ¸¸æˆä¼š<strong>åŒæ—¶</strong>èµ° <code>TCP</code> å’Œ <code>UDP</code> åè®®ï¼Œè€Œä¸”å¯¹ç½‘ç»œè¦æ±‚æé«˜ï¼Œ<code>NAT</code> å¿…é¡»æ˜¯ <code>B</code> ä»¥ä¸Šã€‚æ¢å¥è¯è¯´å°±æ˜¯ï¼Œç© <code>å–·å–·</code> çš„æ—¶å€™ï¼Œ<strong><code>TCP</code> ä¹Ÿè¦è®¾ç½®æˆ <code>ss</code> åè®®</strong>ã€‚ã€‚ã€‚ã€‚</p><p>é‚£ä¹ˆï¼Œæ–°é—®é¢˜æ¥äº†ï¼Œç© <code>å–·å–·</code> çš„æ—¶å€™è®¾ç½®æˆ <code>ss</code> åè®®ï¼Œç©å®Œåæ”¹å› <code>v2ray</code> åè®®ï¼Ÿ</p><p>ä¸è¡Œï½ï½ è¿™æ ·å¤ªéº»çƒ¦äº†â€¦..</p><p>æ‰€ä»¥â€¦æœ‰æ–¹æ³•èƒ½è§£å†³ä¸Šé¢çš„é—®é¢˜å—ï¼ŸğŸ¤”ï¸</p><h4 id="æ–¹æ¡ˆ"><a href="#æ–¹æ¡ˆ" class="headerlink" title="æ–¹æ¡ˆ"></a>æ–¹æ¡ˆ</h4><p>ç»è¿‡å¤§é‡çš„æŸ¥é˜…èµ„æ–™ï¼Œå‘ç°äº†ä¸€ç§å¯è¡Œçš„æ–¹æ¡ˆï¼š</p><ul><li><code>passwall</code> é‡Œè®¾ç½®2ä¸ª <code>TCP</code> åè®®ï¼Œåˆ†åˆ«æ˜¯ <code>TCP1</code> -&gt; <code>v2ray</code> å’Œ <code>TCP2</code> -&gt; <code>ss</code></li><li>é»˜è®¤è®¾ç½®ä¸º <code>TCP1</code></li><li><strong>é‡ç‚¹</strong>ï¼š åœ¨ <code>è®¿é—®æ§åˆ¶</code> é‡Œï¼Œé€šè¿‡ <code>IP</code> æˆ– <code>MAC</code> åŒ¹é…åˆ° <code>switch</code>ï¼Œç„¶åè®¾ç½®ä¸º <code>TCP2</code></li></ul><p>æŒ‰ç†æ¥è¯´è¿™æ ·åº”è¯¥å°±å¯è¡Œäº†ã€‚ä½†æ˜¯ï¼Œæ–°çš„é—®é¢˜åˆå‡ºç°äº†ï¼Œå½“å‰ <code>ä¸»è·¯ç”±</code> æ¨¡å¼ä¸‹ï¼Œ<code>è½¯è·¯ç”±</code> åªèƒ½è·å– <code>ç¡¬è·¯ç”±</code> çš„ <code>IP</code> å’Œ <code>MAC</code>ï¼Œ è€Œ <code>è®¾å¤‡ABCDE</code> çš„ <code>IP</code> å’Œ <code>MAC</code> åˆåªèƒ½åœ¨ <code>ç¡¬è·¯ç”±</code> ä¸­è·å–ï¼Œè€Œä¸” <code>è½¯è·¯ç”±r2s</code> åªæœ‰ä¸€ä¸ª <code>LAN</code> å£ï¼Œä¸èƒ½åŒæ—¶æ¥å¤šä¸ª <code>è®¾å¤‡ABCDE</code>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>r2s</code> ä¸èƒ½è¯†åˆ«åˆ° <code>switch</code>ï¼Œè¿›è€Œä¸èƒ½ç”¨ <code>è®¿é—®æ§åˆ¶</code> æ¥è®¾ç½®ä¸º <code>TCP2</code> äº†â€¦</p><p>ç„¶åæˆ‘åˆæƒ³åˆ°äº†<strong>äº¤æ¢æœº</strong>çš„ <code>ä¸­ç»§AP</code> æ¨¡å¼ï¼Œæ­£å¥½å®Œç¾è§£å†³å½“å‰çš„é—®é¢˜äº†â€¦..</p><p>å…¶å®å°±æ˜¯æŠŠä¹‹å‰ <code>ä¸»è·¯ç”±</code> æ¨¡å¼ä¸‹çš„ <code>ç¡¬è·¯ç”±</code>ï¼Œä» <code>è·¯ç”±å™¨</code> æ”¹ä¸º <code>äº¤æ¢æœº</code> çš„åŠŸèƒ½ï¼Œè¿™æ · <code>ç¡¬è·¯ç”±</code> å°±ç›¸å½“äºä¸€ä¸ª <code>hub</code> ç±»ä¼¼çš„åŠŸèƒ½ï¼Œä¸æä¾›å®é™… <code>IP</code> å’Œ <code>MAC</code>ï¼Œåªæä¾›<strong>åˆ†æµ</strong>åŠŸèƒ½ï¼ŒæŠŠ <code>è½¯è·¯ç”±</code> <code>LAN</code> å‡ºæ¥çš„æµé‡ç›´æ¥ç»™å¯¹åº”çš„ <code>è®¾å¤‡ABCDE</code>ï¼Œè€Œä¸”è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>è½¯è·¯ç”±</code> å¯ä»¥ç›´æ¥è·å–åˆ° <code>è®¾å¤‡ABCDE</code> çš„ <code>IP</code> å’Œ <code>MAC</code>ï¼Œè¿›è€Œå°±èƒ½é€šè¿‡ <code>è®¿é—®æ§åˆ¶</code> è®¾ç½® <code>switch</code> çš„ <code>TCP</code> äº†</p><p><strong>æ–°çš„å®¶åº­ç½‘ç»œè¿æ¥æ–¹å¼</strong></p><p><img src="/images/hn-after.png" alt="8txA7M_20210120171154" style="zoom:40%"></p><p><strong>passwallç›¸å…³é…ç½®</strong></p><p><img src="/images/hn-1.jpeg" alt="IPä¸Macç»‘å®š" style="zoom:30%"></p><p><img src="/images/hn-2.jpeg" alt="passwall é»˜è®¤åè®®" style="zoom:33%"></p><p><img src="/images/hn-3.jpeg" alt="passwall é»˜è®¤ä»£ç†æ¨¡å¼" style="zoom:37%"></p><p><img src="/images/hn-4.jpeg" alt="è®¿é—®æ§åˆ¶"></p><p>è¿™æ ·é…ç½®åï¼Œä¸Šé¢çš„é—®é¢˜å°±å®Œç¾è§£å†³å•¦ï½</p><h4 id="å‰©ä½™é—®é¢˜"><a href="#å‰©ä½™é—®é¢˜" class="headerlink" title="å‰©ä½™é—®é¢˜"></a>å‰©ä½™é—®é¢˜</h4><p>ç†è®ºä¸Šè®²ï¼Œä¸Šé¢çš„æ–¹æ¡ˆé…ç½®æ­£ç¡®çš„è¯ï¼Œåº”è¯¥æ˜¯å¯è¡Œçš„ã€‚</p><p>ä½†å®é™…å‘ç°ï¼Œ<code>è®¿é—®æ§åˆ¶</code> è¿™ä¸ªåŠŸèƒ½å¹¶æ²¡æœ‰ç”Ÿæ•ˆã€‚<del>ç½‘ä¸ŠæŸ¥æ‰¾èµ„æ–™åå‘ç°ï¼Œè²Œä¼¼æ˜¯æ–°ç‰ˆæœ¬ <code>passwall</code> æœ‰è¿™ä¸ªé—®é¢˜ï¼Œæ—§ç‰ˆæœ¬å°±æ²¡æœ‰â€¦.</del></p><p>ç„¶åå§â€¦ç»™ä½œè€…æäº†ä¸ª <a href="https://github.com/xiaorouji/openwrt-passwall/issues/887" target="_blank" rel="noopener">issue</a> ï¼Œç­‰å¾…å¤§ä½¬çš„ä¿®å¤â€¦..</p><p><strong>2021.01.24 æ›´æ–°</strong></p><p>ä½œè€…å›å¤äº†ï¼Œå¤‡æ³¨é‡Œä¸èƒ½æœ‰ç©ºæ ¼â€¦.</p><p>ç„¶åè¯•äº†ä¸‹ï¼Œæœç„¶å°±å¯ä»¥äº†â€¦â€¦ä¹‹å‰è¿˜å‡çº§ <code>å›ºä»¶</code>ã€<code>passwall</code> ç‰ˆæœ¬æŠ˜è…¾äº†å¥½ä¹…ã€‚ã€‚ã€‚ã€‚</p><p>å¦å¤–å†åæ§½ä¸‹ï¼Œ<code>switch</code> çš„ <code>wifi</code> æ€§èƒ½<strong>çœŸæ˜¯è¾£é¸¡!!</strong>ï¼Œæ—¶ä¸æ—¶çš„æ¥ä¸€æ¬¡æ‰çº¿â€¦..</p><p>æœ€åè¿˜æ˜¯ä¹°äº† <code>usbç½‘ç»œäº¤æ¢å™¨</code> æœ‰çº¿è¿ <code>switch</code> â€¦</p><p>PSï¼šæ³¨æ„åŒæ—¶å…¼å®¹ <code>æœ‰çº¿æ¨¡å¼</code> å’Œ <code>æ— çº¿æ¨¡å¼</code> ï½ï½</p><p><img src="/images/hn-5.jpeg" alt="è®¿é—®æ§åˆ¶"></p><h3 id="æœ€ç»ˆæˆæœ"><a href="#æœ€ç»ˆæˆæœ" class="headerlink" title="æœ€ç»ˆæˆæœ"></a>æœ€ç»ˆæˆæœ</h3><p>ç»è¿‡è¿™æ¬¡å‡çº§åï¼Œå®¶é‡Œçš„ç½‘ç»œæ›´åŠ æ™ºèƒ½å•¦ï½</p><p>å¯ä»¥æ ¹æ®è§„åˆ™æŒ‡å®š <code>æŸäº›è®¾å¤‡</code> èµ° <code>æŒ‡å®šçš„åè®®</code>ï¼Œè€Œä¸ä¼šå¯¹ä¸»ç½‘ç»œ(é»˜è®¤ <code>v2ray</code> çš„ <code>TCP</code> åè®®)æœ‰å½±å“ã€‚æ¯”å¦‚ <code>switch</code> ï¼Œ å¯ä»¥æŒ‡å®šå…¨ç¨‹èµ° <code>ss</code> åè®®ï¼Œç„¶å</p><p>å°±å¯ä»¥æ„‰å¿«çš„ <code>å–·å–·</code> å•¦ï½ ğŸ˜Š</p><p><img src="/images/hn-splatoon.jpg" alt="splatoon_2 å–·å–·"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä½ é—®æˆ‘(ä¸€)åœ¨å“ªé‡Œï¼Ÿå…¶å®å¹¶æ²¡æœ‰å†™ï¼Œå› ä¸ºæˆ‘æ‡’ã€‚ã€‚ã€‚ã€‚ã€‚(å°å£°bb)&lt;/p&gt;&lt;p&gt;é‚£ä¹ˆ(ä¸€)æ˜¯ä»€ä¹ˆå‘¢ï¼Œç®€å•æ¥è¯´å°±æ˜¯åŠ äº†ä¸ªè½¯è·¯ç”± &lt;code&gt;r2s&lt;/code&gt;ï¼Œç”¨ &lt;code&gt;ä¸»è·¯ç”±&lt;/code&gt; çš„æ¨¡å¼å®ç°äº†è·¯ç”±ç¿»å¢™ï½&lt;/p&gt;&lt;h3 id=&quot;å‡çº§ä¹‹æ—…-ä¸€&quot;&gt;&lt;a href=&quot;#å‡çº§ä¹‹æ—…-ä¸€&quot; class=&quot;headerlink&quot; title=&quot;å‡çº§ä¹‹æ—…(ä¸€)&quot;&gt;&lt;/a&gt;å‡çº§ä¹‹æ—…(ä¸€)&lt;/h3&gt;&lt;h4 id=&quot;ç—›ç‚¹&quot;&gt;&lt;a href=&quot;#ç—›ç‚¹&quot; class=&quot;headerlink&quot; title=&quot;ç—›ç‚¹&quot;&gt;&lt;/a&gt;ç—›ç‚¹&lt;/h4&gt;&lt;ul&gt;&lt;li&gt;æ¯ä¸ªè®¾å¤‡å‡ºå›½ç•™å­¦éƒ½è¦å¼€ç›¸åº”çš„è½¯ä»¶ï¼š&lt;code&gt;Windows&lt;/code&gt; -&amp;gt; &lt;code&gt;v2rayN&lt;/code&gt;ï¼Œ&lt;code&gt;Mac&lt;/code&gt; -&amp;gt; &lt;code&gt;v2rayU&lt;/code&gt;ï¼Œ&lt;code&gt;ios&lt;/code&gt; -&amp;gt; &lt;code&gt;shadowRocket&lt;/code&gt;&lt;/li&gt;&lt;li&gt;PCä¸Šä»£ç†æ¸¸æˆæµé‡è¿˜å¾—å•ç‹¬å¼€ &lt;code&gt;proxifier&lt;/code&gt; è½¯ä»¶ï¼Œå‚è€ƒä¹‹å‰å†™çš„ä¸€ç‰‡æ–‡ç«  &lt;a href=&quot;https://jian2333.github.io/2019/09/10/sstovpn/&quot;&gt;ss + proxifier å®ç°vpnæ¸¸æˆä»£ç†&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;code&gt;switch&lt;/code&gt; è”ç½‘å¾—é€šè¿‡å…±äº« &lt;code&gt;wifi&lt;/code&gt; çš„æ–¹å¼ï¼Œä¸€ç›´å¼€ç€ &lt;code&gt;PC&lt;/code&gt; æˆ–è€… &lt;code&gt;iphone&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;ç§ç§çš„ä¸ä¾¿å¤§å¤§é™ä½äº†ç”¨æˆ·ä½“éªŒï¼Œå°¤å…¶æ˜¯ç© &lt;code&gt;switch&lt;/code&gt; çš„æ—¶å€™ï¼Œæ¯æ¬¡éƒ½è¦ç‰¹æ„å¼€ &lt;code&gt;PC&lt;/code&gt; æˆ– &lt;code&gt;iphone&lt;/code&gt; æŒ‚ç€ï¼Œå®åœ¨æ˜¯ä¸æ–¹ä¾¿äº†ï½&lt;/p&gt;&lt;p&gt;é‚£ä¹ˆï¼Œæœ‰ä»€ä¹ˆæ–¹æ³•èƒ½ä¸€èµ·è§£å†³ä¸Šé¢çš„é—®é¢˜å‘¢ï¼Ÿ&lt;/p&gt;
    
    </summary>
    
      <category term="ä¸€èµ·å“ˆå•¤" scheme="http://jian2333.github.io/categories/%E4%B8%80%E8%B5%B7%E5%93%88%E5%95%A4/"/>
    
    
      <category term="v2ray" scheme="http://jian2333.github.io/tags/v2ray/"/>
    
      <category term="vpn" scheme="http://jian2333.github.io/tags/vpn/"/>
    
      <category term="ç§‘å­¦ä¸Šç½‘" scheme="http://jian2333.github.io/tags/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/"/>
    
  </entry>
  
  <entry>
    <title>ä¸­åå°ç³»ç»Ÿä¹‹mbs-cliè„šæ‰‹æ¶é›†æˆ</title>
    <link href="http://jian2333.github.io/2021/01/06/my-cli/"/>
    <id>http://jian2333.github.io/2021/01/06/my-cli/</id>
    <published>2021-01-06T14:52:14.000Z</published>
    <updated>2021-04-07T12:59:30.851Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ä¸€èˆ¬ï¼Œæˆ‘ä»¬çŸ¥é“"><a href="#ä¸€èˆ¬ï¼Œæˆ‘ä»¬çŸ¥é“" class="headerlink" title="ä¸€èˆ¬ï¼Œæˆ‘ä»¬çŸ¥é“"></a>ä¸€èˆ¬ï¼Œæˆ‘ä»¬çŸ¥é“</h3><p><img src="/images/mc-1.jpg" alt></p><h3 id="ä¸ºä»€ä¹ˆéœ€è¦è„šæ‰‹æ¶ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦è„šæ‰‹æ¶ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦è„šæ‰‹æ¶ï¼Ÿ"></a>ä¸ºä»€ä¹ˆéœ€è¦è„šæ‰‹æ¶ï¼Ÿ</h3><ol><li>å‡å°‘é‡å¤æ€§çš„å·¥ä½œï¼Œä¸å†éœ€è¦å¤åˆ¶å…¶ä»–é¡¹ç›®å†åˆ é™¤æ— å…³ä»£ç ï¼Œæˆ–è€…ä»é›¶åˆ›å»ºä¸€ä¸ªé¡¹ç›®å’Œæ–‡ä»¶ã€‚</li><li>æ ¹æ®äº¤äº’åŠ¨æ€ç”Ÿæˆé¡¹ç›®ç»“æ„å’Œé…ç½®æ–‡ä»¶ï¼Œå…·å¤‡æ›´é«˜çš„çµæ´»æ€§å’Œäººæ€§åŒ–å®šåˆ¶çš„èƒ½åŠ›ã€‚</li><li>å¤šäººåä½œæ›´ä¸ºæ–¹ä¾¿ï¼Œé¿å…äº†äººå·¥ä¼ é€’æ–‡ä»¶çš„ç¹çã€‚</li><li>é›†æˆäº’è”ç½‘ä¸Šçš„æ¨¡æ¿ï¼Œæ–¹ä¾¿è‡ªå·±ä¸ä»–äººä½¿ç”¨ã€‚</li></ol><a id="more"></a><h4 id="è„šæ‰‹æ¶å·¥ä½œæµ"><a href="#è„šæ‰‹æ¶å·¥ä½œæµ" class="headerlink" title="è„šæ‰‹æ¶å·¥ä½œæµ"></a>è„šæ‰‹æ¶å·¥ä½œæµ</h4><p><img src="/images/mc-2.jpg" alt></p><h4 id="è„šæ‰‹æ¶é—®ç­”æµ"><a href="#è„šæ‰‹æ¶é—®ç­”æµ" class="headerlink" title="è„šæ‰‹æ¶é—®ç­”æµ"></a>è„šæ‰‹æ¶é—®ç­”æµ</h4><p><img src="/images/mc-3.jpg" alt></p><h3 id="å¦‚ä½•æ­å»ºä¸€ä¸ªè„šæ‰‹æ¶"><a href="#å¦‚ä½•æ­å»ºä¸€ä¸ªè„šæ‰‹æ¶" class="headerlink" title="å¦‚ä½•æ­å»ºä¸€ä¸ªè„šæ‰‹æ¶"></a>å¦‚ä½•æ­å»ºä¸€ä¸ªè„šæ‰‹æ¶</h3><p><img src="/images/mc-4.jpg" alt></p><h4 id="ç¬¬ä¸‰æ–¹åº“çš„æ”¯æŒ"><a href="#ç¬¬ä¸‰æ–¹åº“çš„æ”¯æŒ" class="headerlink" title="ç¬¬ä¸‰æ–¹åº“çš„æ”¯æŒ"></a>ç¬¬ä¸‰æ–¹åº“çš„æ”¯æŒ</h4><p><img src="/images/mc-5.jpg" alt></p><h4 id="æ­å»ºæ­¥éª¤"><a href="#æ­å»ºæ­¥éª¤" class="headerlink" title="æ­å»ºæ­¥éª¤"></a>æ­å»ºæ­¥éª¤</h4><h5 id="1ã€åˆå§‹åŒ–é¡¹ç›®"><a href="#1ã€åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="1ã€åˆå§‹åŒ–é¡¹ç›®"></a>1ã€åˆå§‹åŒ–é¡¹ç›®</h5><p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªç©ºé¡¹ç›®ï¼Œå‘½åä¸º <strong>mbs-cli</strong> ï¼Œç„¶åæ–°å»ºä¸€ä¸ª <strong>bin/mbs</strong> æ–‡ä»¶ï¼Œå†æ‰§è¡Œ <code>npm init</code> ç”Ÿæˆä¸€ä¸ª <code>package.json</code> æ–‡ä»¶ã€‚æœ€åå®‰è£…ä¸Šé¢éœ€è¦ç”¨åˆ°çš„ä¾èµ–ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir mbs-cli &amp;&amp; <span class="built_in">cd</span> mbs-cli</span><br><span class="line">mkdir bin &amp;&amp; <span class="built_in">cd</span> bin &amp;&amp; touch mbs &amp;&amp; <span class="built_in">cd</span> ../ &amp;&amp; npm init</span><br><span class="line">npm install commander download-git-repo inquirer handlebars ora chalk <span class="built_in">log</span>-symbols cli-table -S</span><br></pre></td></tr></table></figure><h5 id="2ã€å¤„ç†å‘½ä»¤è¡Œ"><a href="#2ã€å¤„ç†å‘½ä»¤è¡Œ" class="headerlink" title="2ã€å¤„ç†å‘½ä»¤è¡Œ"></a>2ã€å¤„ç†å‘½ä»¤è¡Œ</h5><p><strong>node.js</strong> å†…ç½®äº†å¯¹å‘½ä»¤è¡Œæ“ä½œçš„æ”¯æŒï¼Œåœ¨ <code>package.json</code> ä¸­çš„ <code>bin</code> å­—æ®µå¯ä»¥å®šä¹‰å‘½ä»¤åå’Œå…³è”çš„æ‰§è¡Œæ–‡ä»¶ã€‚</p><p>åœ¨ <code>package.json</code> ä¸­åŠ ä¸Š <code>bin</code> çš„å†…å®¹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"mbs-cli"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">"ä¸­åå°ç³»ç»Ÿè„šæ‰‹æ¶"</span>,</span><br><span class="line">  <span class="attr">"bin"</span>: &#123;</span><br><span class="line">    <span class="attr">"mbs"</span>: <span class="string">"bin/mbs"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é¦–å…ˆåœ¨ <code>mbs</code> æ–‡ä»¶ä¸­å¼•å…¥ç›¸å…³ä¾èµ–æ¨¡å—ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env node</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; existsSync &#125; = <span class="built_in">require</span>(<span class="string">'fs'</span>) <span class="comment">// ç³»ç»Ÿå†…ç½®æ¨¡å— ä¸»è¦ç”¨æ¥æ“ä½œæ–‡ä»¶</span></span><br><span class="line"><span class="keyword">const</span> program = <span class="built_in">require</span>(<span class="string">'commander'</span>) <span class="comment">// è‡ªåŠ¨çš„è§£æå‘½ä»¤å’Œå‚æ•°ï¼Œç”¨äºå¤„ç†ç”¨æˆ·è¾“å…¥çš„å‘½ä»¤</span></span><br><span class="line"><span class="keyword">const</span> chalk = <span class="built_in">require</span>(<span class="string">'chalk'</span>) <span class="comment">// ç»™ç»ˆç«¯çš„å­—ä½“åŠ ä¸Šé¢œè‰²</span></span><br><span class="line"><span class="keyword">const</span> symbols = <span class="built_in">require</span>(<span class="string">'log-symbols'</span>) <span class="comment">// åœ¨ç»ˆç«¯ä¸Šæ˜¾ç¤ºå‡º âœ”ï¸ æˆ–è€… âœ˜ ç­‰çš„å›¾æ ‡</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; resolve &#125; = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="keyword">const</span> res = <span class="function"><span class="params">command</span> =&gt;</span> resolve(__dirname, <span class="string">'../commands/'</span>, command)</span><br></pre></td></tr></table></figure><p>ç„¶åç¼–å†™nodejså¤„ç†é€»è¾‘ï¼Œå…·ä½“ç”¨æ³•è§ä¸‹ã€‚</p><h4 id="nodejsä¾èµ–æ¨¡å—ä»‹ç»ä¸ç”¨æ³•"><a href="#nodejsä¾èµ–æ¨¡å—ä»‹ç»ä¸ç”¨æ³•" class="headerlink" title="nodejsä¾èµ–æ¨¡å—ä»‹ç»ä¸ç”¨æ³•"></a>nodejsä¾èµ–æ¨¡å—ä»‹ç»ä¸ç”¨æ³•</h4><h5 id="commanderï¼ˆæŒ‡æŒ¥å®˜ï¼‰"><a href="#commanderï¼ˆæŒ‡æŒ¥å®˜ï¼‰" class="headerlink" title="commanderï¼ˆæŒ‡æŒ¥å®˜ï¼‰"></a>commanderï¼ˆæŒ‡æŒ¥å®˜ï¼‰</h5><p>è‡ªåŠ¨åœ°è§£æå‘½ä»¤å’Œå‚æ•°ï¼Œç”¨äºå¤„ç†ç”¨æˆ·è¾“å…¥çš„å‘½ä»¤</p><ul><li>usage(): è®¾ç½®usageå€¼ï¼Œè‡ªå®šä¹‰å¸®åŠ©ä¿¡æ¯</li><li>command(): å®šä¹‰ä¸€ä¸ªå‘½ä»¤åå­—</li><li>description(): è®¾ç½® descriptionå€¼</li><li>option(): å®šä¹‰å‚æ•°ï¼Œéœ€è¦è®¾ç½®ã€Œå…³é”®å­—ã€å’Œ ã€Œæè¿°ã€ï¼Œå…³é”®å­—åŒ…æ‹¬ã€Œç®€å†™ã€å’Œã€Œå…¨å†™ã€ä¸¤éƒ¨åˆ†ï¼Œä»¥ <code>,</code>ã€<code>|</code>ã€<code>ç©ºæ ¼</code> åšåˆ†éš”</li><li>parse(): è§£æå‘½ä»¤è¡Œå‚æ•° <code>argv</code></li><li>version(): ç»ˆç«¯è¾“å‡ºç‰ˆæœ¬å·</li></ul><p><strong>å®šä¹‰å¸¸è§„å‘½ä»¤ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰å¸¸è§„å‘½ä»¤</span></span><br><span class="line">program.usage(<span class="string">'&lt;command&gt;'</span>)</span><br><span class="line">program.version(<span class="built_in">require</span>(<span class="string">'../package'</span>).version)</span><br></pre></td></tr></table></figure><p><strong>initå‘½ä»¤é€»è¾‘</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// init å‘½ä»¤é€»è¾‘</span></span><br><span class="line">program</span><br><span class="line">  .command(<span class="string">'init &lt;name&gt;'</span>)</span><br><span class="line">  .description(<span class="string">'Generate a new project'</span>)</span><br><span class="line">  .alias(<span class="string">'i'</span>)</span><br><span class="line">  .action(<span class="function">(<span class="params">name</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!existsSync(name)) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(name)</span><br><span class="line">      <span class="built_in">require</span>(res(<span class="string">'init'</span>))</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// é”™è¯¯æç¤ºé¡¹ç›®å·²å­˜åœ¨ï¼Œé¿å…è¦†ç›–åŸæœ‰é¡¹ç›®</span></span><br><span class="line">      <span class="built_in">console</span>.log(symbols.error, chalk.red(<span class="string">'Project already exists'</span>))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure><p><strong>å¤„ç†ç”¨æˆ·è¾“å…¥å‘½ä»¤</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// init å‘½ä»¤é€»è¾‘</span></span><br><span class="line">program</span><br><span class="line">  .command(<span class="string">'init &lt;name&gt;'</span>)</span><br><span class="line">  .description(<span class="string">'Generate a new project'</span>)</span><br><span class="line">  .alias(<span class="string">'i'</span>)</span><br><span class="line">  .action(<span class="function">(<span class="params">name</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!existsSync(name)) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(name)</span><br><span class="line">      <span class="built_in">require</span>(res(<span class="string">'init'</span>))</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// é”™è¯¯æç¤ºé¡¹ç›®å·²å­˜åœ¨ï¼Œé¿å…è¦†ç›–åŸæœ‰é¡¹ç›®</span></span><br><span class="line">      <span class="built_in">console</span>.log(symbols.error, chalk.red(<span class="string">'Project already exists'</span>))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure><p><strong>æœ€åå¤„ç†è§£æå‘½ä»¤è¡Œå‚æ•°</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">program.parse(process.argv)</span><br><span class="line"><span class="comment">// program.parse: è§£æå‘½ä»¤ä¹‹ä¸­çš„å‚æ•°ï¼Œæ ¹æ®ä¸Šé¢å®šä¹‰å¥½çš„è§„åˆ™æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line"><span class="comment">// process: ä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼Œæ§åˆ¶æœ‰å…³ä¿¡æ¯ï¼Œæ§åˆ¶node.jsçš„è¿›ç¨‹</span></span><br><span class="line"><span class="comment">// process.argv: è¯¥å±æ€§è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„åŒ…å«äº†å¯åŠ¨node.jsè¿›ç¨‹æ—¶çš„å‘½ä»¤è¡Œå‚æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!program.args.length) &#123;</span><br><span class="line">  program.help()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="inquirerï¼ˆè¯¢é—®è€…ï¼‰"><a href="#inquirerï¼ˆè¯¢é—®è€…ï¼‰" class="headerlink" title="inquirerï¼ˆè¯¢é—®è€…ï¼‰"></a>inquirerï¼ˆè¯¢é—®è€…ï¼‰</h5><p>é€šç”¨çš„å‘½ä»¤è¡Œç”¨æˆ·ç•Œé¢é›†åˆï¼Œç”¨äºå’Œç”¨æˆ·è¿›è¡Œäº¤äº’ã€‚ç”±äºäº¤äº’çš„é—®é¢˜ç§ç±»ä¸åŒï¼Œ<code>inquirer</code> ä¸ºæ¯ä¸ªé—®é¢˜æä¾›å¾ˆå¤šå‚æ•°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">type: è¡¨ç¤ºæé—®çš„ç±»å‹ï¼ŒåŒ…æ‹¬ï¼šinput, confirm, list, rawlist, expand, checkbox, password, editor;</span><br><span class="line">name: å­˜å‚¨å½“å‰é—®é¢˜å›ç­”çš„å˜é‡;</span><br><span class="line">message: é—®é¢˜çš„æè¿°ï¼›</span><br><span class="line">default: é»˜è®¤å€¼;</span><br><span class="line">choices: åˆ—è¡¨é€‰é¡¹ï¼Œåœ¨æŸäº›typeä¸‹å¯ç”¨ï¼Œå¹¶ä¸”åŒ…å«ä¸€ä¸ªåˆ†éš”ç¬¦(separator)ï¼›</span><br><span class="line">validate: å¯¹ç”¨æˆ·çš„å›ç­”è¿›è¡Œæ ¡éªŒâ€˜</span><br><span class="line">filter: å¯¹ç”¨æˆ·çš„å›ç­”è¿›è¡Œè¿‡æ»¤å¤„ç†ï¼Œè¿”å›å¤„ç†åçš„å€¼;</span><br><span class="line">when: æ ¹æ®å‰é¢é—®é¢˜çš„å›ç­”ï¼Œåˆ¤æ–­å½“å‰é—®é¢˜æ˜¯å¦éœ€è¦è¢«å›ç­”ï¼›</span><br><span class="line">prefix: ä¿®æ”¹messageé»˜è®¤å‰ç¼€ï¼›</span><br><span class="line">suffix: ä¿®æ”¹messageé»˜è®¤åç¼€ï¼›</span><br></pre></td></tr></table></figure><p><strong>è¯­æ³•ç»“æ„</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> inquirer = <span class="built_in">require</span>(<span class="string">'inquirer'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> promptList = [</span><br><span class="line">  <span class="comment">// å…·ä½“äº¤äº’å†…å®¹</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">inquirer.prompt(promptList).then(<span class="function"><span class="params">answers</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(answers) <span class="comment">// è¿”å›çš„ç»“æœ</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><strong>inputç±»å‹</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promptList1 = [</span><br><span class="line">  &#123;</span><br><span class="line">    type: <span class="string">'input'</span>,</span><br><span class="line">    name: <span class="string">'author'</span>,</span><br><span class="line">    message: <span class="string">'è¯·è¾“å…¥ä½œè€…åç§°'</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœ</strong></p><p><img src="/images/mc-6.jpg" alt></p><p><strong>confirmç±»å‹</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promptList2 = [</span><br><span class="line">  &#123;</span><br><span class="line">    type: <span class="string">'confirm'</span>,</span><br><span class="line">    name: <span class="string">'watch'</span>,</span><br><span class="line">    message: <span class="string">'æ˜¯å¦ä½¿ç”¨ç›‘å¬ï¼Ÿ'</span>,</span><br><span class="line">    prefix: <span class="string">'å‰ç¼€'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    type: <span class="string">'confirm'</span>,</span><br><span class="line">    name: <span class="string">'filter'</span>,</span><br><span class="line">    message: <span class="string">'æ˜¯å¦ä½¿ç”¨è¿‡æ»¤ï¼Ÿ'</span>,</span><br><span class="line">    when: <span class="function"><span class="keyword">function</span> (<span class="params">answers</span>) </span>&#123; <span class="comment">// å½“watchä¸ºtureæ—¶æ‰ä¼šæç¤ºå½“å‰é—®é¢˜</span></span><br><span class="line">      <span class="keyword">return</span> answers.watch</span><br><span class="line">    &#125;,</span><br><span class="line">    suffix: <span class="string">'åç¼€'</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœ</strong></p><p><img src="/images/mc-7.jpg" alt></p><p><strong>listç±»å‹</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promptList3 = [</span><br><span class="line">  &#123;</span><br><span class="line">    type: <span class="string">'list'</span>,</span><br><span class="line">    message: <span class="string">'è¯·é€‰æ‹©ä¸€ç§æ°´æœï¼š'</span>,</span><br><span class="line">    name: <span class="string">'fruit'</span>,</span><br><span class="line">    choices: [</span><br><span class="line">      <span class="string">'Apple'</span>,</span><br><span class="line">      <span class="string">'Pear'</span>,</span><br><span class="line">      <span class="string">'Banana'</span></span><br><span class="line">    ],</span><br><span class="line">    filter: <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123; <span class="comment">// ä½¿ç”¨ filter å°†å›ç­”å˜ä¸ºå°å†™</span></span><br><span class="line">      <span class="keyword">return</span> val.toLowerCase()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœ</strong></p><p><img src="/images/mc-8.jpg" alt></p><h5 id="download-git-repo"><a href="#download-git-repo" class="headerlink" title="download-git-repo"></a>download-git-repo</h5><p><code>download-git-repo</code> æ”¯æŒä» <code>Github</code> ã€<code>Gitlab</code>ã€<code>Bitbucket</code> ä¸‹è½½ä»“åº“</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">download(repository, destination, options, callback)</span><br></pre></td></tr></table></figure><p><strong>repository</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- GitHub - github:owner/name or simply owner/name</span><br><span class="line">- GitLab - gitlab:owner/name</span><br><span class="line">- Bitbucket - bithucket:owner/name</span><br><span class="line">- Direct - direct:url:branch</span><br></pre></td></tr></table></figure><p><strong>destination</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The file path to download the repository to. xxxxxxxxx</span><br></pre></td></tr></table></figure><p><strong>options</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">boolean default false - if true use git clone instead of an http download. </span><br><span class="line">while this can be a bit slower, it does allow private repositories to be used </span><br><span class="line">if the appropriate SSH keys are setup.</span><br></pre></td></tr></table></figure><p><strong>callback</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The callback function as function (err).</span><br></pre></td></tr></table></figure><h5 id="oraï¼ˆloadingåŠ¨æ•ˆï¼‰"><a href="#oraï¼ˆloadingåŠ¨æ•ˆï¼‰" class="headerlink" title="oraï¼ˆloadingåŠ¨æ•ˆï¼‰"></a>oraï¼ˆloadingåŠ¨æ•ˆï¼‰</h5><p>ç”¨äºæ˜¾ç¤ºä¸‹è½½ä¸­çš„åŠ¨ç”»æ•ˆæœ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ora = <span class="built_in">require</span>(<span class="string">'ora'</span>)</span><br><span class="line"><span class="keyword">const</span> spinner = ora(<span class="string">'æ­£åœ¨ä¸‹è½½æ¨¡æ¿...'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼€å§‹ä¸‹è½½</span></span><br><span class="line">spinner.start()</span><br><span class="line"><span class="comment">// ä¸‹è½½æˆåŠŸ</span></span><br><span class="line">spinner.succeed(<span class="string">'æ¨¡æ¿ä¸‹è½½æˆåŠŸï¼'</span>)</span><br><span class="line"><span class="comment">// ä¸‹è½½å¤±è´¥</span></span><br><span class="line">spinner.faild(<span class="string">'æ¨¡æ¿ä¸‹è½½å¤±è´¥ï¼'</span>)</span><br></pre></td></tr></table></figure><p><img src="/images/mc-9.jpg" alt></p><h5 id="chalkï¼ˆå­—ä½“é¢œè‰²ï¼‰"><a href="#chalkï¼ˆå­—ä½“é¢œè‰²ï¼‰" class="headerlink" title="chalkï¼ˆå­—ä½“é¢œè‰²ï¼‰"></a>chalkï¼ˆå­—ä½“é¢œè‰²ï¼‰</h5><p>é€šè¿‡ <code>chalk</code> æ¥ä¸ºæ‰“å°ä¿¡æ¯åŠ ä¸Šæ ·å¼ï¼Œæ¯”å¦‚æˆåŠŸä¿¡æ¯ä¸ºç»¿è‰²ï¼Œå¤±è´¥ä¿¡æ¯ä¸ºçº¢è‰²ã€‚è¿™æ ·å­ä¼šè®©ç”¨æˆ·æ›´åŠ å®¹æ˜“è¾¨è®¤ï¼ŒåŒæ—¶ä¹Ÿè®©ç»ˆç«¯çš„æ˜¾ç¤ºæ›´åŠ å¥½çœ‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> chalk = <span class="built_in">require</span>(<span class="string">'chalk'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(chalk.green(<span class="string">'é¡¹ç›®åˆ›å»ºæˆåŠŸ'</span>))</span><br><span class="line"><span class="built_in">console</span>.log(chalk.red(<span class="string">'é¡¹ç›®åˆ›å»ºå¤±è´¥'</span>))</span><br></pre></td></tr></table></figure><h5 id="log-symbolsï¼ˆæ—¥å¿—ç¬¦å·ï¼‰"><a href="#log-symbolsï¼ˆæ—¥å¿—ç¬¦å·ï¼‰" class="headerlink" title="log-symbolsï¼ˆæ—¥å¿—ç¬¦å·ï¼‰"></a>log-symbolsï¼ˆæ—¥å¿—ç¬¦å·ï¼‰</h5><p>ä½¿ç”¨ <code>log-symbols</code> åœ¨ä¿¡æ¯å‰é¢åŠ ä¸Š âœ”ï¸ æˆ–è€… âœ˜ ç­‰çš„å›¾æ ‡ï¼Œä¼˜åŒ–è§†è§‰ä½“éªŒï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(symbols.success, chalk.green(<span class="string">'New project has been initialize successfully!'</span>))</span><br></pre></td></tr></table></figure><p><img src="/images/mc-10.jpg" alt></p><h5 id="handlebars"><a href="#handlebars" class="headerlink" title="handlebars"></a>handlebars</h5><p><code>handlebars</code> å¯ä»¥å¯¹ä»“åº“çš„æ¨¡æ¿ä¸­çš„ <code>package.json</code> æ–‡ä»¶åšä¸€äº›åŠ¨æ€ä¿®æ”¹ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"&#123;&#123;name&#125;&#125;"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">"&#123;&#123;description&#125;&#125;"</span>,</span><br><span class="line">  <span class="attr">"bin"</span>: &#123;</span><br><span class="line">    <span class="attr">"mbs"</span>: <span class="string">"bin/mbs"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">"index.js"</span>,</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"author"</span>: <span class="string">"&#123;&#123;author&#125;&#125;"</span>,</span><br><span class="line">  <span class="attr">"license"</span>: <span class="string">"ISC"</span>,</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¹¶åœ¨ä¸‹è½½æ¨¡æ¿å®Œæˆä¹‹åå°†ç”¨æˆ·è¾“å…¥çš„ç­”æ¡ˆæ¸²æŸ“åˆ° <code>package.json</code> ä¸­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; readFileSync, writeFileSync &#125;  = <span class="built_in">require</span>(<span class="string">'fs'</span>)</span><br><span class="line"><span class="keyword">const</span> handlebars = <span class="built_in">require</span>(<span class="string">'handlebars'</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reWrite</span> (<span class="params">name, answers</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> filename = <span class="string">'./package.json'</span></span><br><span class="line">  <span class="keyword">const</span> meta = &#123;</span><br><span class="line">    name,</span><br><span class="line">    description: answers.description,</span><br><span class="line">    author: answers.author</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> content = readFileSync(filename).toString()</span><br><span class="line">  <span class="keyword">const</span> result = handlebars.compile(content)(meta)</span><br><span class="line">  writeFileSync(filename, result)</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// æˆ–è€…æ·»åŠ å…¶ä»–ä¾èµ–åŒ…</span></span><br><span class="line">  <span class="keyword">const</span> content = readFileSync(filename, <span class="string">'utf-8'</span>)</span><br><span class="line">  <span class="keyword">const</span> obj = <span class="built_in">JSON</span>.parse(content)</span><br><span class="line">  obj.dependencies[<span class="string">'echart'</span>] = <span class="string">'^0.1.3'</span></span><br><span class="line">  <span class="keyword">const</span> result = handlebars.compile(<span class="built_in">JSON</span>.stringify(obj, <span class="literal">null</span>, <span class="number">2</span>))(meta)</span><br><span class="line">  writeFileSync(filename, result)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="cli-table"><a href="#cli-table" class="headerlink" title="cli-table"></a>cli-table</h5><p>è¡¨æ ¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Table = <span class="built_in">require</span>(<span class="string">'cli-table'</span>)</span><br><span class="line"><span class="keyword">const</span> template = <span class="built_in">require</span>(<span class="string">`<span class="subst">$&#123;__dirname&#125;</span>/../templates.json`</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> table = <span class="keyword">new</span> Table(&#123;</span><br><span class="line">  head: [<span class="string">'Template Name'</span>, <span class="string">'Branch'</span>, <span class="string">'Url                                '</span>],</span><br><span class="line">  style: &#123;</span><br><span class="line">    head: [<span class="string">'green'</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ æ•°æ®</span></span><br><span class="line">table.push([<span class="string">'template1'</span>, <span class="string">'branch1'</span>, <span class="string">'url1'</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ˜¾ç¤ºæ•°æ®</span></span><br><span class="line"><span class="built_in">console</span>.log(table.toString())</span><br></pre></td></tr></table></figure><p><img src="/images/mc-11.jpg" alt></p><h5 id="shelljs"><a href="#shelljs" class="headerlink" title="shelljs"></a>shelljs</h5><p>æ‰§è¡Œå‘½ä»¤è¡Œå‘½ä»¤ <code>cd path &amp;&amp; npm i</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> shell = <span class="built_in">require</span>(<span class="string">'shelljs'</span>)</span><br><span class="line"></span><br><span class="line">shell.cd(meta.name)</span><br><span class="line">shell.exec(<span class="string">'npm i'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">err, stdout, stderr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">    spinner.fail()</span><br><span class="line">    <span class="built_in">console</span>.log(symbols.error, chalk.red(err))</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    spinner.succeed()</span><br><span class="line">    <span class="built_in">console</span>.log(</span><br><span class="line">      symbols.success,</span><br><span class="line">      chalk.green(<span class="string">'The object has installed dependence successfully!'</span>)</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="msb-cliè„šæ‰‹æ¶"><a href="#msb-cliè„šæ‰‹æ¶" class="headerlink" title="msb-cliè„šæ‰‹æ¶"></a>msb-cliè„šæ‰‹æ¶</h3><h4 id="mbs-cliå·¥ä½œæµ"><a href="#mbs-cliå·¥ä½œæµ" class="headerlink" title="mbs-cliå·¥ä½œæµ"></a>mbs-cliå·¥ä½œæµ</h4><p><img src="/images/mc-12.jpg" alt></p><h4 id="mbs-cliç›®å½•ç»“æ„"><a href="#mbs-cliç›®å½•ç»“æ„" class="headerlink" title="mbs-cliç›®å½•ç»“æ„"></a>mbs-cliç›®å½•ç»“æ„</h4><p><img src="/images/mc-13.jpg" alt></p><h4 id="mbs-cliæ ¸å¿ƒå‘½ä»¤"><a href="#mbs-cliæ ¸å¿ƒå‘½ä»¤" class="headerlink" title="mbs-cliæ ¸å¿ƒå‘½ä»¤"></a>mbs-cliæ ¸å¿ƒå‘½ä»¤</h4><p><img src="/images/mc-14.jpg" alt></p><h3 id="æœ¬åœ°npmæ¨¡å—è°ƒè¯•"><a href="#æœ¬åœ°npmæ¨¡å—è°ƒè¯•" class="headerlink" title="æœ¬åœ°npmæ¨¡å—è°ƒè¯•"></a>æœ¬åœ°npmæ¨¡å—è°ƒè¯•</h3><h4 id="å¼€å¯è°ƒè¯•æ¨¡å¼"><a href="#å¼€å¯è°ƒè¯•æ¨¡å¼" class="headerlink" title="å¼€å¯è°ƒè¯•æ¨¡å¼"></a>å¼€å¯è°ƒè¯•æ¨¡å¼</h4><p><code>npm link</code> å¯ä»¥å°†å½“å‰ç›®å½• <code>./bin</code> æ–‡ä»¶å¤¹ä¸‹çš„ <code>npmåŒ…</code> é“¾æ¥åˆ°å…¨å±€æ‰§è¡Œç¯å¢ƒï¼Œä»è€Œåœ¨ä»»æ„ä½ç½®ä½¿ç”¨å‘½ä»¤è¡Œéƒ½å¯ä»¥ç›´æ¥è¿è¡Œè¯¥ <code>npmåŒ…</code></p><p><img src="/images/mc-15.jpg" alt></p><h4 id="å…³é—­è°ƒè¯•æ¨¡å¼"><a href="#å…³é—­è°ƒè¯•æ¨¡å¼" class="headerlink" title="å…³é—­è°ƒè¯•æ¨¡å¼"></a>å…³é—­è°ƒè¯•æ¨¡å¼</h4><p>åœ¨å½“å‰ç›®å½•ä¸‹æ‰§è¡Œ <code>npm unlink</code> å³å¯åˆ é™¤é“¾æ¥ç¬¦å·</p><p><img src="/images/mc-16.jpg" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;ä¸€èˆ¬ï¼Œæˆ‘ä»¬çŸ¥é“&quot;&gt;&lt;a href=&quot;#ä¸€èˆ¬ï¼Œæˆ‘ä»¬çŸ¥é“&quot; class=&quot;headerlink&quot; title=&quot;ä¸€èˆ¬ï¼Œæˆ‘ä»¬çŸ¥é“&quot;&gt;&lt;/a&gt;ä¸€èˆ¬ï¼Œæˆ‘ä»¬çŸ¥é“&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;/images/mc-1.jpg&quot; alt&gt;&lt;/p&gt;&lt;h3 id=&quot;ä¸ºä»€ä¹ˆéœ€è¦è„šæ‰‹æ¶ï¼Ÿ&quot;&gt;&lt;a href=&quot;#ä¸ºä»€ä¹ˆéœ€è¦è„šæ‰‹æ¶ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ä¸ºä»€ä¹ˆéœ€è¦è„šæ‰‹æ¶ï¼Ÿ&quot;&gt;&lt;/a&gt;ä¸ºä»€ä¹ˆéœ€è¦è„šæ‰‹æ¶ï¼Ÿ&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;å‡å°‘é‡å¤æ€§çš„å·¥ä½œï¼Œä¸å†éœ€è¦å¤åˆ¶å…¶ä»–é¡¹ç›®å†åˆ é™¤æ— å…³ä»£ç ï¼Œæˆ–è€…ä»é›¶åˆ›å»ºä¸€ä¸ªé¡¹ç›®å’Œæ–‡ä»¶ã€‚&lt;/li&gt;&lt;li&gt;æ ¹æ®äº¤äº’åŠ¨æ€ç”Ÿæˆé¡¹ç›®ç»“æ„å’Œé…ç½®æ–‡ä»¶ï¼Œå…·å¤‡æ›´é«˜çš„çµæ´»æ€§å’Œäººæ€§åŒ–å®šåˆ¶çš„èƒ½åŠ›ã€‚&lt;/li&gt;&lt;li&gt;å¤šäººåä½œæ›´ä¸ºæ–¹ä¾¿ï¼Œé¿å…äº†äººå·¥ä¼ é€’æ–‡ä»¶çš„ç¹çã€‚&lt;/li&gt;&lt;li&gt;é›†æˆäº’è”ç½‘ä¸Šçš„æ¨¡æ¿ï¼Œæ–¹ä¾¿è‡ªå·±ä¸ä»–äººä½¿ç”¨ã€‚&lt;/li&gt;&lt;/ol&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="webå‰ç«¯" scheme="http://jian2333.github.io/tags/web%E5%89%8D%E7%AB%AF/"/>
    
      <category term="è„šæ‰‹æ¶" scheme="http://jian2333.github.io/tags/%E8%84%9A%E6%89%8B%E6%9E%B6/"/>
    
      <category term="nodej" scheme="http://jian2333.github.io/tags/nodej/"/>
    
  </entry>
  
  <entry>
    <title>åŠ¨æ•ˆå°ç»“</title>
    <link href="http://jian2333.github.io/2020/11/16/animation/"/>
    <id>http://jian2333.github.io/2020/11/16/animation/</id>
    <published>2020-11-16T06:05:49.000Z</published>
    <updated>2020-11-16T08:24:55.866Z</updated>
    
    <content type="html"><![CDATA[<p>æ¥ä¸Šä¸€ç¯‡æ–‡ç« ï¼Œæœ€è¿‘uiä¼˜åŒ–åšçš„æ¯”è¾ƒå¤šï¼ŒåŠ¨æ•ˆä¼˜åŒ–ä¹Ÿæ˜¯å…¶ä¸­ä¸€éƒ¨åˆ†ã€‚</p><p>åŠ¨æ•ˆçš„å‡ ç§ä½¿ç”¨æ–¹å¼ä¹Ÿéƒ½å°è¯•è¿‡äº†ï¼Œæ‰€ä»¥å§ï¼Œåšä¸ªå°ç»“è®°å½•ä¸€ä¸‹ï½</p><h3 id="ä½¿ç”¨æ–¹å¼"><a href="#ä½¿ç”¨æ–¹å¼" class="headerlink" title="ä½¿ç”¨æ–¹å¼"></a>ä½¿ç”¨æ–¹å¼</h3><ul><li>æ‰‹å†™åŠ¨æ•ˆ<ul><li><code>css</code> å†™æ³•</li><li><code>vue</code> å†™æ³•</li></ul></li><li>ç¬¬ä¸‰æ–¹åŠ¨æ•ˆåº“<ul><li><code>animejs</code></li><li><code>lottie</code></li></ul></li></ul><a id="more"></a><h3 id="æ‰‹å†™åŠ¨æ•ˆ"><a href="#æ‰‹å†™åŠ¨æ•ˆ" class="headerlink" title="æ‰‹å†™åŠ¨æ•ˆ"></a>æ‰‹å†™åŠ¨æ•ˆ</h3><p>æ‰‹å†™åŠ¨æ•ˆï¼Œä½¿ç”¨ <code>css</code> æ¥æè¿°æ ·å¼ï¼Œé€‚ç”¨äºè¾ƒç®€å•çš„åŠ¨æ•ˆ</p><h4 id="css-å†™æ³•"><a href="#css-å†™æ³•" class="headerlink" title="css å†™æ³•"></a>css å†™æ³•</h4><ul><li>åˆ¶å®šçˆ¶å…ƒç´ çš„ <code>transition</code> å±æ€§åï¼Œå­å…ƒç´ çš„ <strong>show</strong> å’Œ <strong>hide</strong> éƒ½ä¼šæœ‰åŠ¨æ•ˆï¼Œå¦‚æœåªåœ¨å­å…ƒç´ é‡Œå†™ <code>transition</code> (æ¯”å¦‚<code>hover</code>)ï¼Œåˆ™åªåœ¨ <strong>show</strong> çš„æ—¶å€™æœ‰åŠ¨æ•ˆ</li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transition" target="_blank" rel="noopener"><code>transition</code></a> ï¼šè¦æ˜¾ç¤ºçš„åŠ¨æ•ˆç±»å‹ï¼Œæ—¶é—´ï¼ŒæŒç»­æ˜¾ç¤ºæ–¹å¼ â€“ <code>all/transform/ç­‰</code>ï¼Œ<code>1000ms/s</code>ï¼Œ<code>ease/ease-in-out/linear/ç­‰</code></li><li>å…·ä½“æ ·å¼ï¼šåŒ…æ‹¬ <code>opacity</code>ã€<code>translate</code>ã€<code>scale</code>ã€<code>rotate</code> ç­‰ã€‚</li></ul><p><strong>Demo</strong></p><p><img src="/images/ani-1.gif" alt></p><p><strong>ç›¸å…³ä»£ç </strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span> @<span class="attr">click</span>=<span class="string">"clickIcon"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bg"</span> <span class="attr">:style</span>=<span class="string">"bgStyles"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"sp"</span>&gt;</span>&#123;&#123;title&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.title</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">500</span>;</span><br><span class="line">  <span class="selector-class">.bg</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="variable">@bg-r</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="variable">@bg-r</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">0.5s</span> ease;</span><br><span class="line">    <span class="selector-tag">&amp;</span>+<span class="selector-class">.sp</span> &#123;</span><br><span class="line">      <span class="attribute">transition</span>: all <span class="number">0.3s</span> ease-in-out;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">      <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">0</span> rgba(<span class="number">0</span>, <span class="number">154</span>, <span class="number">255</span>, <span class="number">0.5</span>);</span><br><span class="line">      <span class="attribute">transform</span>: scale(<span class="number">1.2</span>);</span><br><span class="line">      <span class="selector-tag">&amp;</span>+<span class="selector-class">.sp</span> &#123;</span><br><span class="line">        <span class="attribute">color</span>: <span class="number">#009AFF</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Vue-å†™æ³•"><a href="#Vue-å†™æ³•" class="headerlink" title="Vue å†™æ³•"></a><a href="https://cn.vuejs.org/v2/guide/transitions.html" target="_blank" rel="noopener">Vue å†™æ³•</a></h4><p>å’Œä¼ ç»Ÿçš„ <code>css</code> å†™æ³•ä¸åŒï¼Œ<code>Vue</code> å†™æ³•å¤šäº†ä¸€ä¸ª <code>transition</code> å’Œ <code>transition-group</code> çš„å†™æ³•</p><ul><li>ä½¿ç”¨ <code>name=&#39;x&#39;</code> + <code>x-YYYY</code> çš„å†™æ³•æ¥æè¿°åŠ¨æ•ˆè¿‡ç¨‹</li><li>åªæœ‰åœ¨ç»„ä»¶åˆ‡æ¢çš„æ—¶å€™æ‰ä¼šè§¦å‘åŠ¨æ•ˆ<ul><li><code>v-if</code></li><li><code>v-show</code></li><li>åŠ¨æ€ç»„ä»¶</li><li>ç»„ä»¶æ ¹èŠ‚ç‚¹</li></ul></li><li>åŠ¨æ•ˆè¿‡ç¨‹<ul><li><code>x-enter</code>: åŠ¨æ•ˆå¼€å§‹å‰(<em>vue3 æ”¹ä¸º <code>x-enter-from</code></em>)</li><li><code>x-enter-active</code>: <strong>show</strong> åŠ¨æ•ˆç»“æŸå‰</li><li><code>x-leave-active</code>: <strong>hide</strong> åŠ¨æ•ˆå¼€å§‹å‰</li><li><code>x-leave-to</code>: åŠ¨æ•ˆç»“æŸå</li><li>æ­é…æ‰‹å†™çš„ <code>css</code> åŠ¨æ•ˆï¼Œå¯ä»¥å®ç°æ›´å¤šæ•ˆæœ</li></ul></li><li><code>transition-group</code><ul><li>å¿…é¡»æ˜¯å¤šä¸ªå­å…ƒç´ ï¼Œæ¯ä¸ªå­å…ƒç´ åŒ…å«å”¯ä¸€çš„ <code>key</code>ï¼Œ</li><li>å­å…ƒç´  <strong>show/hide</strong> åˆ‡æ¢æ˜¯æ— åŠ¨æ•ˆçš„ï¼Œä¸ºäº†æ·»åŠ å¹³æ»‘åŠ¨æ•ˆï¼Œå¯ä»¥ä½¿ç”¨ <code>x-move</code></li></ul></li></ul><p><strong>Demo</strong></p><p><img src="/images/ani-2.gif" alt></p><p><strong>ç›¸å…³ä»£ç </strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">transition-group</span> <span class="attr">name</span>=<span class="string">"g"</span> <span class="attr">tag</span>=<span class="string">"ul"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">"1"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-if</span>=<span class="string">"deviceData.type === '1'"</span> <span class="attr">class</span>=<span class="string">"formItem-height-12 l"</span> <span class="attr">key</span>=<span class="string">"2"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">FormItem</span> <span class="attr">prop</span>=<span class="string">"model"</span> <span class="attr">label</span>=<span class="string">"è®¾å¤‡ç±»å‹"</span> <span class="attr">:required</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Select</span> <span class="attr">v-model</span>=<span class="string">"deviceData.model"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Option</span></span></span><br><span class="line"><span class="tag">                <span class="attr">v-for</span>=<span class="string">"(item, index) in deviceType"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">:key</span>=<span class="string">"index"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">:value</span>=<span class="string">"item.key"</span></span></span><br><span class="line"><span class="tag">                &gt;</span>&#123;&#123;item.name&#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">Option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">Select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">FormItem</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">"3"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">"4"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">"5"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">transition-group</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…¶ä»–liä½ç½®ç§»åŠ¨æ—¶ï¼ŒåŠ¨æ•ˆå¹³æ»‘</span></span><br><span class="line"><span class="selector-class">.g-move</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">1s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è®¾å¤‡ç±»å‹ show/hide åŠ¨æ•ˆå˜åŒ–æ–¹å¼</span></span><br><span class="line"><span class="selector-class">.g-enter-active</span>, <span class="selector-class">.g-leave-active</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">432px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.g-enter</span>, <span class="selector-class">.g-leave-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">transform</span>: translateX(<span class="number">30px</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è®¾å¤‡ç±»å‹ åŠ¨æ•ˆå¹³æ»‘</span></span><br><span class="line"><span class="selector-class">.l</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">1s</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç¬¬ä¸‰æ–¹åŠ¨æ•ˆåº“"><a href="#ç¬¬ä¸‰æ–¹åŠ¨æ•ˆåº“" class="headerlink" title="ç¬¬ä¸‰æ–¹åŠ¨æ•ˆåº“"></a>ç¬¬ä¸‰æ–¹åŠ¨æ•ˆåº“</h3><p>ç¬¬ä¸‰æ–¹åº“åŠ¨æ•ˆï¼Œé€šè¿‡ <code>js</code> æ¥è°ƒç”¨ï¼Œé€‚ç”¨äºè¾ƒå¤æ‚çš„åŠ¨æ•ˆ</p><p>æœ¬æ¬¡ä¼˜åŒ–ä¸­ä½¿ç”¨åˆ°çš„ç¬¬ä¸‰æ–¹åº“æœ‰ <code>animejs</code> å’Œ <code>lottie</code></p><h4 id="animejs"><a href="#animejs" class="headerlink" title="animejs"></a><a href="http://animejs.com/" target="_blank" rel="noopener">animejs</a></h4><ul><li>ä½¿ç”¨ <code>js</code> å³å¯ç¼–å†™å¤æ‚çš„åŠ¨æ•ˆ</li><li><a href="https://animejs.com/documentation/#cssSelector" target="_blank" rel="noopener">ä½¿ç”¨æ–‡æ¡£</a></li></ul><p><strong>Demo</strong></p><p><img src="/images/ani-3.gif" alt></p><p><strong>ç›¸å…³ä»£ç </strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"login"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"login-top"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">ref</span>=<span class="string">"lott"</span> <span class="attr">class</span>=<span class="string">"lottie"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"user"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">import</span> anime <span class="keyword">from</span> <span class="string">'animejs/lib/anime.es'</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    mounted () &#123;</span><br><span class="line">      <span class="comment">// å¿…é¡»åœ¨mounted Domæ¸²æŸ“å</span></span><br><span class="line">      setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">this</span>.initAnime(), <span class="number">250</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      initAnime () &#123;</span><br><span class="line">        anime.timeline(&#123;<span class="attr">loop</span>: <span class="literal">false</span>&#125;)</span><br><span class="line">          .add(&#123;</span><br><span class="line">          targets: <span class="string">'.logo-img, .logo-vertical'</span>,</span><br><span class="line">          opacity: [<span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">          translateY: [<span class="string">'20px'</span>, <span class="number">0</span>],</span><br><span class="line">          duration: <span class="number">1000</span>,</span><br><span class="line">          easing: <span class="string">'easeOutCubic'</span></span><br><span class="line">        &#125;, <span class="number">0</span>)</span><br><span class="line">          .add(&#123;</span><br><span class="line">          targets: <span class="string">'.user'</span>,</span><br><span class="line">          opacity: [<span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">          translateY: [<span class="string">'-34%'</span>, <span class="string">'-44%'</span>],</span><br><span class="line">          duration: <span class="number">1000</span>,</span><br><span class="line">          easing: <span class="string">'easeOutCubic'</span></span><br><span class="line">        &#125;, <span class="number">0</span>)</span><br><span class="line">          .add(&#123;</span><br><span class="line">          targets: <span class="string">'.system-name .zh-cn, .system-name .en-us'</span>,</span><br><span class="line">          translateY: [<span class="string">'20px'</span>, <span class="number">0</span>],</span><br><span class="line">          opacity: [<span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">          duration: <span class="number">1000</span>,</span><br><span class="line">          easing: <span class="string">'easeOutCubic'</span></span><br><span class="line">        &#125;, <span class="number">0</span>)</span><br><span class="line">          .add(&#123;</span><br><span class="line">          targets: <span class="string">'.lottie'</span>,</span><br><span class="line">          opacity: <span class="number">1</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><h4 id="lottie"><a href="#lottie" class="headerlink" title="lottie"></a><a href="https://github.com/airbnb/lottie-web" target="_blank" rel="noopener">lottie</a></h4><p><code>lottie</code> æ˜¯ä¸€ç§è·¨å¹³å°çš„åŠ¨æ•ˆæ–¹æ¡ˆã€‚uiå°å§å§è®¾è®¡å¥½åŠ¨æ•ˆåï¼Œåˆ©ç”¨<a href="https://github.com/airbnb/lottie-web" target="_blank" rel="noopener">æ’ä»¶</a>å¯¼å‡º <code>json</code>ï¼Œç„¶åä½¿ç”¨ä¸åŒå¹³å°çš„ <code>lottie</code> + åŒä¸€ä»½ <code>json</code> æ–‡ä»¶ï¼Œå³å¯å®ç°ä¸åŒå¹³å°ä¸‹çš„ç›¸åŒåŠ¨æ•ˆï¼Œæå¤§çš„é™ä½äº†åŠ¨æ•ˆå¼€å‘çš„æˆæœ¬ã€‚</p><p><strong>Demo</strong></p><p><img src="/images/ani-4.gif" alt></p><p><strong>ç›¸å…³ä»£ç </strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ref</span>=<span class="string">"lott"</span> <span class="attr">class</span>=<span class="string">"lottie"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> lottie <span class="keyword">from</span> <span class="string">'lottie-web'</span></span><br><span class="line"><span class="keyword">import</span> loJson <span class="keyword">from</span> <span class="string">'../../static/images/login/login-lottie3.json'</span></span><br><span class="line"></span><br><span class="line">initLottie () &#123;</span><br><span class="line">  <span class="keyword">this</span>.anim = lottie.loadAnimation(&#123;</span><br><span class="line">    container: <span class="keyword">this</span>.$refs.lott,</span><br><span class="line">    renderer: <span class="string">'svg'</span>,</span><br><span class="line">    loop: <span class="literal">true</span>,</span><br><span class="line">    autoPlay: <span class="literal">true</span>,</span><br><span class="line">    animationData: loJson</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">this</span>.$emit(<span class="string">'animCreated'</span>, <span class="keyword">this</span>.anim)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å…¶ä»–èµ„æ–™"><a href="#å…¶ä»–èµ„æ–™" class="headerlink" title="å…¶ä»–èµ„æ–™"></a>å…¶ä»–èµ„æ–™</h3><p><a href="https://juejin.im/post/6844903830098804743" target="_blank" rel="noopener">å‰ç«¯åŠ¨æ•ˆåº“æ±‡æ€»</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ¥ä¸Šä¸€ç¯‡æ–‡ç« ï¼Œæœ€è¿‘uiä¼˜åŒ–åšçš„æ¯”è¾ƒå¤šï¼ŒåŠ¨æ•ˆä¼˜åŒ–ä¹Ÿæ˜¯å…¶ä¸­ä¸€éƒ¨åˆ†ã€‚&lt;/p&gt;&lt;p&gt;åŠ¨æ•ˆçš„å‡ ç§ä½¿ç”¨æ–¹å¼ä¹Ÿéƒ½å°è¯•è¿‡äº†ï¼Œæ‰€ä»¥å§ï¼Œåšä¸ªå°ç»“è®°å½•ä¸€ä¸‹ï½&lt;/p&gt;&lt;h3 id=&quot;ä½¿ç”¨æ–¹å¼&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨æ–¹å¼&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨æ–¹å¼&quot;&gt;&lt;/a&gt;ä½¿ç”¨æ–¹å¼&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;æ‰‹å†™åŠ¨æ•ˆ&lt;ul&gt;&lt;li&gt;&lt;code&gt;css&lt;/code&gt; å†™æ³•&lt;/li&gt;&lt;li&gt;&lt;code&gt;vue&lt;/code&gt; å†™æ³•&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;ç¬¬ä¸‰æ–¹åŠ¨æ•ˆåº“&lt;ul&gt;&lt;li&gt;&lt;code&gt;animejs&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code&gt;lottie&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="webå‰ç«¯" scheme="http://jian2333.github.io/tags/web%E5%89%8D%E7%AB%AF/"/>
    
      <category term="css" scheme="http://jian2333.github.io/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>ä¼ªå…ƒç´ çš„å¦™ç”¨</title>
    <link href="http://jian2333.github.io/2020/11/16/pseudo-element/"/>
    <id>http://jian2333.github.io/2020/11/16/pseudo-element/</id>
    <published>2020-11-16T02:46:22.000Z</published>
    <updated>2020-11-16T08:24:14.392Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘uiä¼˜åŒ–åšçš„æ¯”è¾ƒå¤šï¼Œæ ·å¼å†™ä¹…äº†ï¼Œè¶Šæ¥è¶Šè§‰å¾— <code>ä¼ªå…ƒç´ </code> æ˜¯çœŸçš„å¥½ç”¨ï¼Œå–„ç”¨ <code>ä¼ªå…ƒç´ </code> èƒ½æå¤§çš„æé«˜æ•ˆç‡ã€‚</p><p>ä¸‹é¢æ€»ç»“ä¸‹å‡ ç§å¸¸ç”¨çš„ä¼ªå…ƒç´ ç”¨æ³•ï¼š</p><ul><li>ä¸‰è§’å½¢</li><li>ä¸šåŠ¡åœºæ™¯ä¸‹çš„ä¸€äº›æ ·å¼</li><li>å‚ç›´å±…ä¸­</li></ul><a id="more"></a><h3 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h3><h4 id="ä¸‰è§’å½¢"><a href="#ä¸‰è§’å½¢" class="headerlink" title="ä¸‰è§’å½¢"></a>ä¸‰è§’å½¢</h4><p>åœ¨ <code>css</code> ä¸­ï¼Œ<code>borderè¾¹æ¡†</code> æ˜¯ç”±<strong>ä¸Šä¸‹å·¦å³å››ä¸ªä¸‰è§’å½¢</strong>ç»„æˆçš„ï¼Œæ‰€ä»¥ï¼Œ<strong>è®¾ç½® <code>border</code> è¾¹æ¡†ä¸º <code>transparent</code> ï¼Œå†è®¾ç½®è¦æ˜¾ç¤ºçš„ <code>border</code> é¢œè‰²</strong>ï¼Œ å³å¯ä»¥æ˜¾ç¤ºå‡ºä¸‰è§’å½¢ã€‚</p><ul><li>é€šè¿‡è®¾ç½®ä¸åŒçš„ <code>border</code> å’Œ <code>border-left</code> å®½åº¦ï¼Œå¯ä»¥ç”Ÿæˆä¸åŒæ•ˆæœçš„ä¸‰è§’å½¢</li><li>æ·»åŠ  <code>border-radius</code> ï¼Œ å¯ä»¥è®© <strong>ä¸‰è§’å½¢å˜æˆæ‰‡å½¢</strong></li></ul><p><strong>Demo</strong></p><p><img src="/images/pe-1.jpg" alt></p><p><strong>ç›¸å…³ä»£ç </strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pseudo"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"triangle1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"triangle2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"triangle3"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"triangle4"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.pseudo</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: repeat(auto-fill, <span class="number">120px</span>);</span><br><span class="line">  <span class="attribute">justify-items</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="selector-class">.triangle1</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">      <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">      <span class="attribute">border-top</span>: <span class="number">40px</span> solid green;</span><br><span class="line">      <span class="attribute">border-right</span>: <span class="number">40px</span> solid orange;</span><br><span class="line">      <span class="attribute">border-left</span>: <span class="number">40px</span> solid red;</span><br><span class="line">      <span class="attribute">border-bottom</span>: <span class="number">40px</span> solid blue;</span><br><span class="line">      <span class="attribute">position</span>: absolute;</span><br><span class="line">      <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">10px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.triangle2</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">      <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">      <span class="attribute">border</span>: <span class="number">40px</span> solid transparent;</span><br><span class="line">      <span class="attribute">border-left</span>: <span class="number">40px</span> solid red;</span><br><span class="line">      <span class="attribute">position</span>: absolute;</span><br><span class="line">      <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">10px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.triangle3</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">      <span class="attribute">content</span>: <span class="string">''</span></span><br><span class="line">      <span class="attribute">border</span>: <span class="number">40px</span> solid transparent;</span><br><span class="line">      <span class="attribute">border-left</span>: <span class="number">80px</span> solid red;</span><br><span class="line">      <span class="attribute">position</span>: absolute;</span><br><span class="line">      <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">10px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.triangle4</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">      <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">      <span class="attribute">border</span>: <span class="number">40px</span> solid transparent;</span><br><span class="line">      <span class="attribute">border-left</span>: <span class="number">40px</span> solid red;</span><br><span class="line">      <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">      <span class="attribute">position</span>: absolute;</span><br><span class="line">      <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">10px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä¸šåŠ¡åœºæ™¯"><a href="#ä¸šåŠ¡åœºæ™¯" class="headerlink" title="ä¸šåŠ¡åœºæ™¯"></a>ä¸šåŠ¡åœºæ™¯</h4><p>æœ€è¿‘çš„é¡¹ç›®ä¸­ï¼Œæœ‰ä¸ªéœ€æ±‚æ˜¯<strong>è‡ªé€‚åº”çš„æƒ…å†µä¸‹ï¼Œæ˜¾ç¤º5åˆ—å›¾æ ‡ï¼Œæ¯åˆ—ä¹‹é—´ç”¨ç®­å¤´è¿æ¥</strong>ã€‚</p><p>å•ç‹¬çš„å›¾æ ‡è‡ªé€‚åº”å¥½åšï¼Œ<code>flex</code> ã€ <code>grid</code> å¸ƒå±€éƒ½å¯ä»¥å®ç°ï¼Œä½†æ˜¯å›¾æ ‡é—´çš„ <code>è¿æ¥ç®­å¤´</code> å°±ä¸å¥½åšäº†ï¼Œå› ä¸º2ä¸ªå›¾æ ‡ä¹‹é—´çš„è·ç¦»ï¼Œæ˜¯ä¸å›ºå®šçš„â€¦.<strong>ä½†æ˜¯ï¼å¦‚æœç”¨ä¼ªå…ƒç´ ï¼Œè¿™ä¸ªé—®é¢˜å°±å¾ˆå®¹æ˜“è§£å†³äº†ï½</strong></p><p><strong>Tips:</strong></p><ul><li>1ä¸ª <code>å…ƒç´ </code> åªèƒ½æœ‰1ä¸ª <code>ä¼ªå…ƒç´ </code> ï¼Œå¦‚æœè¦ä½¿ç”¨å¤šä¸ª <code>ä¼ªå…ƒç´ </code> ï¼Œå°±å¾—ç”¨å¤šä¸ª <code>å…ƒç´ div</code></li><li><code>arrows-before.width</code> å®½åº¦å¤š <code>10px</code> ï¼Œæ˜¯ä¸ºäº†èƒ½å’Œ <code>arrows-after</code> é‡å ï¼Œè§†è§‰çœ‹èµ·æ¥è™šçº¿ä¸æ–­è£‚</li></ul><p><strong>Demo</strong></p><p><img src="/images/pe-2.jpg" alt></p><p><strong>ç›¸å…³ä»£ç </strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"home-menu"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">:class</span>=<span class="string">"[&#123;'arrows-after': arrowsAfter&#125;, &#123;'arrows-before': arrowsBefore&#125;]"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">:class</span>=<span class="string">"&#123;'arrows': arrowsBefore&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span> @<span class="attr">click</span>=<span class="string">"clickIcon"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bg"</span> <span class="attr">:style</span>=<span class="string">"bgStyles"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"sp"</span>&gt;</span>&#123;&#123;title&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"body"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">"(item, index) in values"</span> <span class="attr">:key</span>=<span class="string">"index"</span> <span class="attr">:class</span>=<span class="string">"bodyClass"</span> <span class="attr">:style</span>=<span class="string">"bodyStyle"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"value"</span>&gt;</span>&#123;&#123;item.value&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"name"</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span></span></span><br></pre></td></tr></table></figure><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@arrows-border:</span> <span class="number">#E6E6E6</span>;</span><br><span class="line"><span class="variable">@arrows-margin:</span> <span class="number">24px</span>;</span><br><span class="line"><span class="variable">@arrows-width:</span> <span class="number">8px</span>;</span><br><span class="line"><span class="variable">@bg-r:</span> <span class="number">60px</span>;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.arrows</span>(<span class="variable">@arrows-margin</span>) &#123;</span><br><span class="line">  <span class="selector-class">.arrows-before</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">    <span class="attribute">width</span>: calc(<span class="string">~'50% - @&#123;bg-r&#125; / 2 - @&#123;arrows-margin&#125; - @&#123;arrows-width&#125; + 10px'</span>);</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> dashed <span class="variable">@arrows-border</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: -<span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">30px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.arrows</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="variable">@arrows-width</span> / <span class="number">2</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="variable">@arrows-width</span> solid <span class="variable">@arrows-border</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: calc(<span class="string">~'50% - @&#123;bg-r&#125; / 2 - @&#123;arrows-margin&#125; - @&#123;arrows-width&#125;'</span>);</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">27px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.arrows-after</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">    <span class="attribute">width</span>: calc(<span class="string">~'50% - @&#123;bg-r&#125; / 2 - @&#123;arrows-margin&#125; + @&#123;arrows-width&#125;'</span>);</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> dashed <span class="variable">@arrows-border</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">right</span>: -<span class="variable">@arrows-width</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">30px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.arrows</span>(<span class="variable">@arrows-margin</span>);</span><br><span class="line"><span class="keyword">@media</span> only screen and (<span class="attribute">max-width</span>: <span class="number">1600px</span>) &#123;</span><br><span class="line">  <span class="variable">@arrows-margin:</span> <span class="number">12px</span>;</span><br><span class="line">  <span class="selector-class">.arrows</span>(<span class="variable">@arrows-margin</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å‚ç›´å±…ä¸­"><a href="#å‚ç›´å±…ä¸­" class="headerlink" title="å‚ç›´å±…ä¸­"></a>å‚ç›´å±…ä¸­</h4><p>å‚è€ƒä¹‹å‰å†™çš„ä¸€ç¯‡<a href="https://jian2333.github.io/2019/06/22/centered/">æ–‡ç« </a>ï¼Œåˆ©ç”¨ <code>çˆ¶å…ƒç´ </code> çš„ <code>ä¼ªå…ƒç´ </code> ï¼Œå¯ä»¥å®ç°å‚ç›´å±…ä¸­</p><p><strong>ç›¸å…³ä»£ç </strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"centered"</span>&gt;</span></span><br><span class="line">    æˆ‘æ˜¯å±…ä¸­æ–‡å­—</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> soild pink;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span>: &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.parent</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ä¼ªå…ƒç´ çš„ç”¨æ³•è¿˜æœ‰å¾ˆå¤šï¼Œç›®å‰å¸¸ç”¨çš„æš‚æ—¶å°±è¿™äº›ï¼Œå…¶ä»–ç”¨æ³•ç­‰ç”¨çš„å¤šåå†è®°å½•ä¸‹æ¥å§ï½</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€è¿‘uiä¼˜åŒ–åšçš„æ¯”è¾ƒå¤šï¼Œæ ·å¼å†™ä¹…äº†ï¼Œè¶Šæ¥è¶Šè§‰å¾— &lt;code&gt;ä¼ªå…ƒç´ &lt;/code&gt; æ˜¯çœŸçš„å¥½ç”¨ï¼Œå–„ç”¨ &lt;code&gt;ä¼ªå…ƒç´ &lt;/code&gt; èƒ½æå¤§çš„æé«˜æ•ˆç‡ã€‚&lt;/p&gt;&lt;p&gt;ä¸‹é¢æ€»ç»“ä¸‹å‡ ç§å¸¸ç”¨çš„ä¼ªå…ƒç´ ç”¨æ³•ï¼š&lt;/p&gt;&lt;ul&gt;&lt;li&gt;ä¸‰è§’å½¢&lt;/li&gt;&lt;li&gt;ä¸šåŠ¡åœºæ™¯ä¸‹çš„ä¸€äº›æ ·å¼&lt;/li&gt;&lt;li&gt;å‚ç›´å±…ä¸­&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="webå‰ç«¯" scheme="http://jian2333.github.io/tags/web%E5%89%8D%E7%AB%AF/"/>
    
      <category term="css" scheme="http://jian2333.github.io/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>typescript vue å®æˆ˜(1)</title>
    <link href="http://jian2333.github.io/2020/09/02/ts-in-vue-1/"/>
    <id>http://jian2333.github.io/2020/09/02/ts-in-vue-1/</id>
    <published>2020-09-02T06:57:46.000Z</published>
    <updated>2020-09-02T10:21:36.559Z</updated>
    
    <content type="html"><![CDATA[<p><code>typescript</code> å¯¹ <code>vue 2.x</code> çš„æ”¯æŒä¸æ˜¯å¾ˆå¥½ï¼Œä½†æˆ‘ä»¬è¿˜æ˜¯æœ‰å¿…è¦å­¦ä¹ ä¸€ä¸‹ã€‚</p><p>æœ¬æ–‡ä¼šåˆ—å‡º <code>vue</code> ä¸­å¸¸ç”¨åŠŸèƒ½åœ¨ <code>typescript</code> é‡Œçš„å†™æ³•ã€‚</p><h3 id="åŸºäºç±»çš„ç»„ä»¶"><a href="#åŸºäºç±»çš„ç»„ä»¶" class="headerlink" title="åŸºäºç±»çš„ç»„ä»¶"></a>åŸºäºç±»çš„ç»„ä»¶</h3><p>å•é¡µé¢æ˜¯ä»¥ç±»çš„å½¢å¼ä½¿ç”¨çš„ï¼Œæ‰€ä»¥ç”¨ <code>typescript</code> å®šä¹‰ <code>vue</code> åº”ä½¿ç”¨ä¸‹é¢çš„è¯­æ³•</p><ul><li>åœ¨ <code>script</code> é‡Œæ·»åŠ  <code>lang=&#39;ts&#39;</code></li><li>åœ¨ <code>Component</code>é‡Œå®šä¹‰ç»„ä»¶çš„ <code>name</code></li></ul><a id="more"></a><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">"ts"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; Component, Vue &#125; <span class="keyword">from</span> <span class="string">'vue-property-decorator'</span></span></span><br><span class="line"><span class="undefined">  @Component(&#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">'HelloTs'</span></span></span><br><span class="line"><span class="undefined">  &#125;)</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloTs</span> <span class="keyword">extends</span> <span class="title">Vue</span> </span>&#123;&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>javascript</code> çš„ä»£ç ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">'HelloTs'</span></span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="å¼•å…¥å…¶ä»–ç»„ä»¶"><a href="#å¼•å…¥å…¶ä»–ç»„ä»¶" class="headerlink" title="å¼•å…¥å…¶ä»–ç»„ä»¶"></a>å¼•å…¥å…¶ä»–ç»„ä»¶</h4><ul><li>ä½¿ç”¨ <code>import</code> å¼•å…¥å…¶ä»–ç»„ä»¶</li><li>åœ¨ <code>Component.components</code> é‡Œæ·»åŠ å¼•å…¥çš„ç»„ä»¶</li><li>åœ¨ <code>html</code> æ¨¡æ¿é‡Œä½¿ç”¨ç»„ä»¶</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Login</span>&gt;</span><span class="tag">&lt;/<span class="name">Login</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">"ts"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; Component, Vue &#125; <span class="keyword">from</span> <span class="string">'vue-property-decorator'</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> Login <span class="keyword">from</span> <span class="string">'@/components/Login.vue'</span></span></span><br><span class="line"><span class="undefined">  @Component(&#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">'HelloTs'</span>,</span></span><br><span class="line"><span class="undefined">    components: &#123;</span></span><br><span class="line"><span class="undefined">      Login</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;)</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloTs</span> <span class="keyword">extends</span> <span class="title">Vue</span> </span>&#123;&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="åŸºç¡€å±æ€§"><a href="#åŸºç¡€å±æ€§" class="headerlink" title="åŸºç¡€å±æ€§"></a>åŸºç¡€å±æ€§</h3><h4 id="data"><a href="#data" class="headerlink" title="data"></a>data</h4><ul><li>ç›´æ¥å®šä¹‰å³å¯ã€‚</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> HelloTs <span class="keyword">extends</span> Vue &#123;</span><br><span class="line">  <span class="keyword">public</span> name: <span class="built_in">string</span> = <span class="string">'Jane'</span></span><br><span class="line"><span class="keyword">public</span> age: <span class="built_in">number</span> = <span class="number">18</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="prop"><a href="#prop" class="headerlink" title="prop"></a>prop</h4><ul><li>ä½¿ç”¨ <code>import</code> å¼•å…¥ <code>Prop</code></li><li>åœ¨ <code>@Prop</code> è£…é¥°å™¨ä¸­æ·»åŠ å…¶ä»–å±æ€§</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component, Prop, Vue &#125; <span class="keyword">from</span> <span class="string">'vue-property-decorator'</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> HelloTs <span class="keyword">extends</span> Vue &#123;</span><br><span class="line">  <span class="meta">@Prop</span>()</span><br><span class="line">  <span class="keyword">public</span> name!: <span class="built_in">string</span></span><br><span class="line">  <span class="meta">@Prop</span>(&#123; required: <span class="literal">true</span>, <span class="keyword">type</span>: <span class="built_in">Number</span> &#125;)</span><br><span class="line"><span class="keyword">public</span> age!: <span class="built_in">Number</span></span><br><span class="line">  <span class="meta">@Prop</span>(&#123; required: <span class="literal">true</span>, <span class="keyword">type</span>: <span class="built_in">String</span>, <span class="keyword">default</span>: <span class="function">(<span class="params">x: <span class="built_in">string</span></span>) =&gt;</span> <span class="string">`China: <span class="subst">$&#123;x&#125;</span>`</span>&#125;)</span><br><span class="line"><span class="keyword">public</span> address!: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Computed"><a href="#Computed" class="headerlink" title="Computed"></a>Computed</h4><ul><li>ç›´æ¥ä½¿ç”¨ <code>get</code> è¿”å›</li><li>ä½¿ç”¨ <code>set</code> + <code>get</code> å®šä¹‰å¯ä¿®æ”¹çš„ <code>computed</code></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> HelloTs <span class="keyword">extends</span> Vue &#123;</span><br><span class="line">  <span class="keyword">public</span> name: <span class="built_in">string</span> = <span class="string">'Jane'</span></span><br><span class="line">  <span class="keyword">public</span> age: <span class="built_in">number</span> = <span class="number">18</span></span><br><span class="line">  <span class="comment">// Computed</span></span><br><span class="line">  <span class="keyword">get</span> sayHi (): <span class="built_in">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`hi <span class="subst">$&#123;this.name&#125;</span>`</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">get</span> showAge (): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.age + <span class="number">2</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">set</span> showAge (newAge: <span class="built_in">number</span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.age = newAge</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Methods"><a href="#Methods" class="headerlink" title="Methods"></a>Methods</h4><ul><li>ç›´æ¥å®šä¹‰</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component, Vue &#125; <span class="keyword">from</span> <span class="string">'vue-property-decorator'</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> HelloTs <span class="keyword">extends</span> Vue &#123;</span><br><span class="line">  <span class="keyword">public</span> name: <span class="built_in">string</span> = <span class="string">'Jane'</span></span><br><span class="line">  <span class="keyword">public</span> age: <span class="built_in">number</span> = <span class="number">18</span></span><br><span class="line">  <span class="keyword">public</span> sayHi (name: <span class="built_in">string</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`hi <span class="subst">$&#123;this.name&#125;</span>`</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Watchers"><a href="#Watchers" class="headerlink" title="Watchers"></a>Watchers</h4><ul><li><code>Watch</code> çš„ç”¨æ³•å’Œ <code>Javascript</code> ä¸­çš„ <code>handler</code> è¯­æ³•ç±»ä¼¼</li><li>ä½¿ç”¨ <code>import</code> å¯¼å…¥ <code>Watch</code></li><li>åœ¨ <code>Watch</code> è£…é¥°å™¨ä¸­æ·»åŠ  <code>ç›‘å¬å¯¹è±¡</code> å’Œå…¶ä»–å±æ€§</li><li>æ·»åŠ  <code>handler</code> æ–¹æ³•</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component, Watch, Vue &#125; <span class="keyword">from</span> <span class="string">'vue-property-decorator'</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> HelloTs <span class="keyword">extends</span> Vue &#123;</span><br><span class="line">  <span class="keyword">public</span> name: <span class="built_in">string</span> = <span class="string">'Jane'</span></span><br><span class="line">  <span class="keyword">public</span> age: <span class="built_in">number</span> = <span class="number">18</span></span><br><span class="line">  <span class="keyword">public</span> likes: object = &#123;</span><br><span class="line">    sport: <span class="string">'sing'</span>,</span><br><span class="line">    color: <span class="string">'blue'</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Watch</span>(<span class="string">'likes'</span>, &#123;</span><br><span class="line">    immediate: <span class="literal">true</span>,</span><br><span class="line">    deep: <span class="literal">true</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">public</span> likesChanged (): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.table(<span class="keyword">this</span>.likes)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Emit"><a href="#Emit" class="headerlink" title="Emit"></a>Emit</h4><ul><li>çˆ¶ç»„ä»¶æ¥å— <code>Emit</code> çš„å‚æ•°ä¸ºå­ç»„ä»¶ <code>returnçš„å€¼</code> + <code>Emitå‡½æ•°è‡ªèº«çš„å‚æ•°</code></li><li>ä½¿ç”¨ <code>import</code> å¯¼å…¥ <code>Emit</code></li><li>åœ¨ <code>Emit</code> è£…é¥°å™¨ä¸­æ·»åŠ  <code>this.$emit(&#39;xxx&#39;)</code> çš„æ–¹æ³•ï¼Œå¦‚æœªæ·»åŠ ï¼Œä½¿ç”¨ä¸‹é¢å®šä¹‰çš„å‡½æ•°A(ç”¨<code>-</code>åˆ†éš”)</li><li>æ‰§è¡Œå®Œå‡½æ•° <code>A</code> åä¼šè‡ªåŠ¨è°ƒç”¨ <code>this.$emit(&#39;A&#39;,params)</code> æ–¹æ³•</li><li>åœ¨çˆ¶ç»„ä»¶è°ƒç”¨ <code>Emit</code></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ./HelloTs.vue: å­ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> &#123; Component, Emit, Vue &#125; <span class="keyword">from</span> <span class="string">'vue-property-decorator'</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> HelloTs <span class="keyword">extends</span> Vue &#123;</span><br><span class="line">  <span class="keyword">public</span> name: <span class="built_in">string</span> = <span class="string">'Jane'</span></span><br><span class="line">  <span class="keyword">public</span> age: <span class="built_in">number</span> = <span class="number">18</span></span><br><span class="line"></span><br><span class="line">  <span class="meta">@Emit</span>(<span class="string">'addToCount'</span>)</span><br><span class="line">  <span class="keyword">public</span> addToCount (x: <span class="built_in">number</span>, y: <span class="built_in">number</span>, z:<span class="built_in">number</span>): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.table(&#123; x, y, z &#125;)</span><br><span class="line">    <span class="keyword">return</span> x + y + z</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">// ./Father.vue: çˆ¶ç»„ä»¶</span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">HelloTs</span> @<span class="attr">addToCount</span>=<span class="string">"addToCount"</span>&gt;</span><span class="tag">&lt;/<span class="name">HelloTs</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">"ts"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; Component, Vue &#125; <span class="keyword">from</span> <span class="string">'vue-property-decorator'</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> HelloTs <span class="keyword">from</span> <span class="string">'./HelloTs.vue'</span></span></span><br><span class="line"><span class="undefined">  @Component(&#123;</span></span><br><span class="line"><span class="undefined">    components: &#123;</span></span><br><span class="line"><span class="undefined">      HelloTs</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;)</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Father</span> <span class="keyword">extends</span> <span class="title">Vue</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">    public addToCount (total: number, <span class="attr">x</span>: number, <span class="attr">y</span>: number, <span class="attr">z</span>:number): <span class="keyword">void</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(&#123; total, x, y, z &#125;)</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="ç”Ÿå‘½å‘¨æœŸé’©å­"><a href="#ç”Ÿå‘½å‘¨æœŸé’©å­" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸé’©å­"></a>ç”Ÿå‘½å‘¨æœŸé’©å­</h3><ul><li>ç›´æ¥ä½¿ç”¨</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component, Vue &#125; <span class="keyword">from</span> <span class="string">'vue-property-decorator'</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> HelloTs <span class="keyword">extends</span> Vue &#123;</span><br><span class="line">  <span class="keyword">public</span> name: <span class="built_in">string</span> = <span class="string">'Jane'</span></span><br><span class="line">  <span class="keyword">public</span> age: <span class="built_in">number</span> = <span class="number">18</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> mounted () &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'HelloTs mounted ~'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Mixins"><a href="#Mixins" class="headerlink" title="Mixins"></a>Mixins</h3><ul><li><code>Mixins</code> æ–‡ä»¶ <code>extends Vue</code></li><li>å¼•å…¥æ–‡ä»¶ <code>extends Mixins</code></li></ul><h4 id="ç¼–å†™Mixins"><a href="#ç¼–å†™Mixins" class="headerlink" title="ç¼–å†™Mixins"></a>ç¼–å†™Mixins</h4><ul><li>æ–°å»º <code>mixin</code> æ–‡ä»¶å¤¹</li><li>æ–°å»º <code>ProjectMixin.ts</code> æ–‡ä»¶ï¼Œ</li><li>æ·»åŠ æ–‡ä»¶å†…å®¹ï¼Œå’Œ <code>.vue</code> ä¸­çš„ <code>&lt;script&gt;</code> æ ‡ç­¾å†…ä¸€æ ·</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @/mixin/ProjectMixin.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; Component, Vue &#125; <span class="keyword">from</span> <span class="string">'vue-property-decorator'</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">class</span> ProjectMixin <span class="keyword">extends</span> Vue &#123;</span><br><span class="line">  <span class="keyword">public</span> proName: <span class="built_in">string</span> = <span class="string">'My project'</span></span><br><span class="line">  <span class="keyword">public</span> setProjectName (newValue: <span class="built_in">string</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.proName = newValue</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'ä¿®æ”¹æˆåŠŸ'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">public</span> showProjectName (): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'proName: '</span>, <span class="keyword">this</span>.proName)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> ProjectMixin</span><br></pre></td></tr></table></figure><h4 id="å¼•å…¥Mixins"><a href="#å¼•å…¥Mixins" class="headerlink" title="å¼•å…¥Mixins"></a>å¼•å…¥Mixins</h4><ul><li>ä½¿ç”¨ <code>import</code> å¼•å…¥ <code>Mixins</code></li><li>å¼•å…¥ <code>Mixins</code> æ–‡ä»¶ <code>ProjectMixin.ts</code></li><li>ä¿®æ”¹ç»§æ‰¿ <code>extends Vue</code> ä¸º <code>extends Mixins(ProjectMixin)</code></li><li>è°ƒç”¨ <code>ProjectMixin.ts</code> ä¸­çš„å˜é‡å’Œæ–¹æ³•</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @/components/HelloTs.vue</span></span><br><span class="line"><span class="keyword">import</span> &#123; Component, Mixins &#125; <span class="keyword">from</span> <span class="string">'vue-property-decorator'</span></span><br><span class="line"><span class="keyword">import</span> ProjectMixin <span class="keyword">from</span> <span class="string">'@/mixin/ProjectMixin'</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> Father <span class="keyword">extends</span> Mixins(ProjectMixin) &#123;</span><br><span class="line">  <span class="keyword">public</span> mounted () &#123;</span><br><span class="line">    <span class="keyword">this</span>.showProjectName()</span><br><span class="line">    <span class="keyword">this</span>.setProjectName(<span class="string">'New Project Name'</span>)</span><br><span class="line">    <span class="keyword">this</span>.showProjectName()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h3><ul><li>åœ¨ <code>typescript</code> ä¸­ä½¿ç”¨ <code>Vuex</code> éœ€è¦å¼•å…¥2ä¸ªåŒ… <code>vuex-module-decorators</code> å’Œ <code>vuex-class</code></li></ul><h4 id="ç¼–å†™Vuex"><a href="#ç¼–å†™Vuex" class="headerlink" title="ç¼–å†™Vuex"></a>ç¼–å†™Vuex</h4><ul><li>åœ¨ <code>store</code> æ–‡ä»¶å¤¹ä¸‹æ–°å»º <code>modules</code> æ–‡ä»¶å¤¹</li><li>åœ¨ <code>modules</code> æ–‡ä»¶å¤¹ä¸‹æ–°å»º <code>user.ts</code> æ–‡ä»¶</li><li><code>user.ts</code> æ–‡ä»¶æ·»åŠ å†…å®¹</li><li><code>store.index.ts</code> å†…å¼•å…¥ <code>user</code></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @/store/modules/user.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; VuexModule, Module, Mutation, Action &#125; <span class="keyword">from</span> <span class="string">'vuex-module-decorators'</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Module</span>(&#123; namespaced: <span class="literal">true</span> &#125;)</span><br><span class="line"><span class="keyword">class</span> User <span class="keyword">extends</span> VuexModule &#123;</span><br><span class="line">  <span class="keyword">public</span> vuexName: <span class="built_in">string</span> = <span class="string">''</span></span><br><span class="line">  <span class="keyword">public</span> vuexValue: <span class="built_in">string</span> = <span class="string">''</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">get</span> vuexValueUpper (): <span class="built_in">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.vuexName.toUpperCase()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Mutation</span></span><br><span class="line">  <span class="keyword">public</span> setName (newName: <span class="built_in">string</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.vuexName = newName</span><br><span class="line">    <span class="keyword">this</span>.vuexValue = <span class="string">'vuexValue: '</span> + <span class="keyword">this</span>.vuexName</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Action</span></span><br><span class="line">  <span class="keyword">public</span> updateName (newName: <span class="built_in">string</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.context.commit(<span class="string">'setName'</span>, newName)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> User</span><br></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @/store/index.ts</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"><span class="keyword">import</span> User <span class="keyword">from</span> <span class="string">'./modules/user'</span></span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  modules: &#123;</span><br><span class="line">    User</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨Vuex"><a href="#ä½¿ç”¨Vuex" class="headerlink" title="ä½¿ç”¨Vuex"></a>ä½¿ç”¨Vuex</h4><ul><li>å¼•å…¥ <code>vuex-class</code> ä¸­çš„ <code>namespace</code></li><li>å®šä¹‰ <code>modules</code> å¸¸é‡</li><li>å®šä¹‰åŠè°ƒç”¨ <code>Vuex</code></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @/components/HelloTs.vue</span></span><br><span class="line"><span class="keyword">import</span> &#123; Component, Vue &#125; <span class="keyword">from</span> <span class="string">'vue-property-decorator'</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="keyword">namespace</span> &#125; <span class="keyword">from</span> <span class="string">'vuex-class'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> user = <span class="keyword">namespace</span>(<span class="string">'User'</span>)</span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> HelloTs <span class="keyword">extends</span> Vue &#123;</span><br><span class="line">  <span class="meta">@user</span>.State</span><br><span class="line">  <span class="keyword">public</span> vuexName!: <span class="built_in">string</span></span><br><span class="line">  <span class="meta">@user</span>.Getter(<span class="string">'vuexValueUpper'</span>)</span><br><span class="line">  <span class="keyword">public</span> vUpper!: <span class="built_in">string</span></span><br><span class="line">  <span class="meta">@user</span>.Action</span><br><span class="line">  <span class="keyword">public</span> updateName!: <span class="function">(<span class="params">name: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">void</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;code&gt;typescript&lt;/code&gt; å¯¹ &lt;code&gt;vue 2.x&lt;/code&gt; çš„æ”¯æŒä¸æ˜¯å¾ˆå¥½ï¼Œä½†æˆ‘ä»¬è¿˜æ˜¯æœ‰å¿…è¦å­¦ä¹ ä¸€ä¸‹ã€‚&lt;/p&gt;&lt;p&gt;æœ¬æ–‡ä¼šåˆ—å‡º &lt;code&gt;vue&lt;/code&gt; ä¸­å¸¸ç”¨åŠŸèƒ½åœ¨ &lt;code&gt;typescript&lt;/code&gt; é‡Œçš„å†™æ³•ã€‚&lt;/p&gt;&lt;h3 id=&quot;åŸºäºç±»çš„ç»„ä»¶&quot;&gt;&lt;a href=&quot;#åŸºäºç±»çš„ç»„ä»¶&quot; class=&quot;headerlink&quot; title=&quot;åŸºäºç±»çš„ç»„ä»¶&quot;&gt;&lt;/a&gt;åŸºäºç±»çš„ç»„ä»¶&lt;/h3&gt;&lt;p&gt;å•é¡µé¢æ˜¯ä»¥ç±»çš„å½¢å¼ä½¿ç”¨çš„ï¼Œæ‰€ä»¥ç”¨ &lt;code&gt;typescript&lt;/code&gt; å®šä¹‰ &lt;code&gt;vue&lt;/code&gt; åº”ä½¿ç”¨ä¸‹é¢çš„è¯­æ³•&lt;/p&gt;&lt;ul&gt;&lt;li&gt;åœ¨ &lt;code&gt;script&lt;/code&gt; é‡Œæ·»åŠ  &lt;code&gt;lang=&amp;#39;ts&amp;#39;&lt;/code&gt;&lt;/li&gt;&lt;li&gt;åœ¨ &lt;code&gt;Component&lt;/code&gt;é‡Œå®šä¹‰ç»„ä»¶çš„ &lt;code&gt;name&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="webå‰ç«¯" scheme="http://jian2333.github.io/tags/web%E5%89%8D%E7%AB%AF/"/>
    
      <category term="vue" scheme="http://jian2333.github.io/tags/vue/"/>
    
      <category term="typescript" scheme="http://jian2333.github.io/tags/typescript/"/>
    
  </entry>
  
  <entry>
    <title>vue-i18nï¼švueä¸‹çš„ä¸€ç§å¤šè¯­è¨€æ–¹æ¡ˆ</title>
    <link href="http://jian2333.github.io/2020/08/26/vue-i18n/"/>
    <id>http://jian2333.github.io/2020/08/26/vue-i18n/</id>
    <published>2020-08-25T23:43:14.000Z</published>
    <updated>2020-08-26T02:18:15.550Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://kazupon.github.io/vue-i18n/zh/" target="_blank" rel="noopener"><code>vue-i18n</code></a> æ˜¯ <code>vue</code> ä¸‹çš„ä¸€ä¸ªæ’ä»¶ï¼Œç”¨äºè®©é¡¹ç›®æ”¯æŒå›½é™…åŒ–å¤šè¯­è¨€ã€‚</p><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-i18n --save</span><br></pre></td></tr></table></figure><h3 id="å¼•å…¥vue-i18n"><a href="#å¼•å…¥vue-i18n" class="headerlink" title="å¼•å…¥vue-i18n"></a>å¼•å…¥vue-i18n</h3><ol><li><p>å°† <code>vue-i18n</code> æ³¨å…¥åˆ°<code>vue</code>ä¸­ã€‚æ³¨å…¥ååœ¨ä»»ä½• <code>vueç»„ä»¶</code> (.vueç»“å°¾çš„æ–‡ä»¶)å†…ï¼Œéƒ½å¯ä»¥ä½¿ç”¨ <code>this.$t(&#39;xxxx&#39;)</code> æ¥è°ƒç”¨ã€‚</p></li><li><p>æ–°å»º <code>VueI18n</code> å®ä¾‹ã€‚</p><ol><li>æ–°å»ºé»˜è®¤è¯­è¨€ã€‚</li><li>æ–°å»ºå¾…ç¿»è¯‘è¯­è¨€(jsonæ–‡ä»¶)ã€‚</li><li>æ–°å»º <code>VueI18n</code> å®ä¾‹æ—¶å¯¼å…¥ä¸Šé¢æ–‡ä»¶ã€‚</li></ol></li><li>æ–°å»º <code>Vue</code> å®ä¾‹æ—¶å¼•å…¥ <code>VueI18n</code> å®ä¾‹ã€‚</li></ol><a id="more"></a><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ./i18n/index.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> VueI18n form <span class="string">'vue-i18n'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'en'</span> <span class="keyword">from</span> <span class="string">'./i18n/locales/en.json'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'zh'</span> <span class="keyword">from</span> <span class="string">'./i18n/locales/zh.json'</span></span><br><span class="line"></span><br><span class="line">Vue.use(VueI18n)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> DEFAULT_LANG = <span class="string">'zh'</span></span><br><span class="line"><span class="keyword">const</span> messages = &#123;</span><br><span class="line">  en,</span><br><span class="line">  zh</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> i18n = <span class="keyword">new</span> VueI18n(&#123;</span><br><span class="line">  locale: DEFAULT_LANG,</span><br><span class="line">  messages: messages</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> i18n</span><br><span class="line"></span><br><span class="line">----------------------------</span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> i18n <span class="keyword">from</span> <span class="string">'./i18n'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  i18n</span><br><span class="line">&#125;).$mount(<span class="string">'#app'</span>)</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><p><a href="https://kazupon.github.io/vue-i18n/zh/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>æœ‰è¯¦æƒ…çš„ä»‹ç»ï¼Œæœ¬æ–‡åªä»‹ç»å¸¸ç”¨çš„å‡ ç§ä½¿ç”¨æ–¹æ³•ã€‚</p><h4 id="jsonç¼–å†™"><a href="#jsonç¼–å†™" class="headerlink" title="jsonç¼–å†™"></a>jsonç¼–å†™</h4><ul><li><p>ä½¿ç”¨ <code>{}</code> è®¾ç½®å˜é‡</p></li><li><p>ä½¿ç”¨ <code>@xx:yy:zz</code> å¼•ç”¨ <code>json</code> ä¸­<strong>å·²å­˜åœ¨çš„å˜é‡</strong></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  en: &#123;</span><br><span class="line">    hello: 'hello &#123; name &#125;, nice to meet you ~',</span><br><span class="line">  &#125;,</span><br><span class="line">  en1: &#123;</span><br><span class="line">    alsoHello: '@:en.hello' // å’Œen.helloä¸€æ ·ï¼Œä¹Ÿè¦ä¼ å…¥å˜é‡ &#123; name:xx &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h4><ul><li><p><code>vue</code>å®ä¾‹ä¸­ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;$t('en.hello')&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vueä¸­çš„ &lt;script&gt;å†…</span></span><br><span class="line">hello () &#123;</span><br><span class="line">  <span class="keyword">let</span> hello = <span class="keyword">this</span>.$t(<span class="string">'en.hello'</span>)</span><br><span class="line">  <span class="built_in">console</span>.log(hello)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>évue</code> å®ä¾‹ä¸­(æ¯”å¦‚<code>jsæ–‡ä»¶</code>)ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ³¨æ„æ²¡æœ‰$ç¬¦å·</span></span><br><span class="line"><span class="comment">// ./demo.js</span></span><br><span class="line"><span class="keyword">import</span> i18n <span class="keyword">from</span> <span class="string">'./i18n'</span></span><br><span class="line"></span><br><span class="line">hello () &#123;</span><br><span class="line">  <span class="keyword">let</span> hello = i18n.t(<span class="string">'en.hello'</span>)</span><br><span class="line">  <span class="built_in">console</span>.log(hello)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="ä½¿ç”¨æ–¹å¼"><a href="#ä½¿ç”¨æ–¹å¼" class="headerlink" title="ä½¿ç”¨æ–¹å¼"></a>ä½¿ç”¨æ–¹å¼</h4><h5 id="å¸¸è§„ç¿»è¯‘"><a href="#å¸¸è§„ç¿»è¯‘" class="headerlink" title="å¸¸è§„ç¿»è¯‘"></a>å¸¸è§„ç¿»è¯‘</h5><ul><li><p>ç›´æ¥ä½¿ç”¨å³å¯ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// en.json</span></span><br><span class="line">&#123;</span><br><span class="line">  en: &#123;</span><br><span class="line">    hello: <span class="string">'hello world'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// hello.vue</span></span><br><span class="line"><span class="keyword">let</span> hello = <span class="keyword">this</span>.$t(<span class="string">'hello'</span>)</span><br></pre></td></tr></table></figure></li></ul><h5 id="å¸¦å˜é‡çš„ç¿»è¯‘"><a href="#å¸¦å˜é‡çš„ç¿»è¯‘" class="headerlink" title="å¸¦å˜é‡çš„ç¿»è¯‘"></a>å¸¦å˜é‡çš„ç¿»è¯‘</h5><ul><li><p>ä½¿ç”¨ <code>{}</code> è®¾ç½®å˜é‡ã€‚</p></li><li><p>ä½¿ç”¨ <code>Object</code>ã€<code>Array</code> ç­‰ä¼ å…¥å˜é‡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ---------- å¯¹è±¡</span></span><br><span class="line"><span class="comment">// en.json</span></span><br><span class="line">&#123;</span><br><span class="line">  en: &#123;</span><br><span class="line">    hello: <span class="string">'hello &#123; name &#125;, nice to meet you ~'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// hello.vue</span></span><br><span class="line"><span class="keyword">let</span> hello = <span class="keyword">this</span>.$t(<span class="string">'en.hello'</span>, &#123; <span class="attr">name</span>: <span class="string">'Jack'</span> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ---------- æ•°ç»„</span></span><br><span class="line"><span class="comment">// en.json</span></span><br><span class="line">&#123;</span><br><span class="line">  en: &#123;</span><br><span class="line">    hello: <span class="string">'hello &#123; 0 &#125;, nice to meet &#123; 1 &#125; ~'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// hello.vue</span></span><br><span class="line"><span class="keyword">let</span> hello = <span class="keyword">this</span>.$t(<span class="string">'en.hello'</span>, [<span class="string">'Jack'</span>, <span class="string">'you'</span>])</span><br></pre></td></tr></table></figure></li></ul><h3 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h3><h4 id="è°ƒç”¨æ–¹å¼"><a href="#è°ƒç”¨æ–¹å¼" class="headerlink" title="è°ƒç”¨æ–¹å¼"></a>è°ƒç”¨æ–¹å¼</h4><p>æˆ‘ä»¬å‘ç°ï¼Œåœ¨ <code>vue</code> ç»„ä»¶ä¸­æ˜¯é€šè¿‡ <code>this.$t(&#39;xxx&#39;)</code> æ¥è°ƒç”¨ï¼Œåœ¨ <code>évue</code> ç»„ä»¶ä¸­æ˜¯é€šè¿‡å¼•å…¥ <code>i18n</code> ï¼Œç„¶å <code>i18n.t(&#39;xxx&#39;)</code> æ¥è°ƒç”¨ã€‚</p><p>é‚£æ¯æ¬¡è°ƒç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¾—åŒºåˆ†<strong>æ˜¯å¦æ˜¯ <code>vue</code> ç»„ä»¶</strong>ï¼Œ ç„¶å<strong>é‡å¤ã€å¤šæ¬¡å¼•å…¥ <code>i18n</code> </strong>ã€‚</p><p>è¿™æ˜æ˜¾å¢åŠ äº†ä»£ç çš„å¤æ‚æ€§ã€‚æœ‰ä¸ªç›´æ¥çš„è§£å†³æ–¹æ³•å°±æ˜¯ï¼ŒæŠŠ <code>i18n</code> æŒ‚è½½åˆ°å…¨å±€çš„ <code>windows</code> ä¸‹ï¼Œä¹‹ååœ¨ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥é€šè¿‡ <code>i18n.t()</code> æ¥è°ƒç”¨äº†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ./i18n/index.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> VueI18n form <span class="string">'vue-i18n'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'en'</span> <span class="keyword">from</span> <span class="string">'./i18n/locales/en.json'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'zh'</span> <span class="keyword">from</span> <span class="string">'./i18n/locales/zh.json'</span></span><br><span class="line"></span><br><span class="line">Vue.use(VueI18n)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> DEFAULT_LANG = <span class="string">'zh'</span></span><br><span class="line"><span class="keyword">const</span> messages = &#123;</span><br><span class="line">  en,</span><br><span class="line">  zh</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> i18n = <span class="keyword">new</span> VueI18n(&#123;</span><br><span class="line">  locale: DEFAULT_LANG,</span><br><span class="line">  messages: messages</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.i18n = i18n <span class="comment">// +++++</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> i18n</span><br><span class="line"></span><br><span class="line">----------------------------</span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> i18n <span class="keyword">from</span> <span class="string">'./i18n'</span></span><br><span class="line"><span class="comment">// å…¶ä»– import æ–‡ä»¶ +++++</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  i18n</span><br><span class="line">&#125;).$mount(<span class="string">'#app'</span>)</span><br></pre></td></tr></table></figure><h4 id="æ·»åŠ ä¿®æ”¹è¯­è¨€æ–¹æ³•"><a href="#æ·»åŠ ä¿®æ”¹è¯­è¨€æ–¹æ³•" class="headerlink" title="æ·»åŠ ä¿®æ”¹è¯­è¨€æ–¹æ³•"></a>æ·»åŠ ä¿®æ”¹è¯­è¨€æ–¹æ³•</h4><p>æˆ‘ä»¬åœ¨ <code>i18n</code> é‡Œæ·»åŠ ä¸€ä¸ªä¿®æ”¹è¯­è¨€çš„æ–¹æ³•ã€‚</p><ul><li>è¯¥å‡½æ•°åšäº†ä»¥ä¸‹3ä»¶äº‹æƒ…ã€‚</li><li>å°†å½“å‰è¯­è¨€ä¿å­˜åˆ° <code>localStorage</code> ä¸­ï¼›</li><li>ç»™ <code>body</code> æ·»åŠ è¯­ç§ç›¸å…³çš„ <code>class</code>ï¼Œä¼˜åŒ–æ ·å¼æ—¶ä½¿ç”¨ã€‚</li><li>å°†å½“å‰è¯­ç§å­˜åˆ° <code>Vue</code> çš„å…¨å±€é…ç½®ä¸­ï¼Œä»¥ä¾¿æœªæ¥ä½¿ç”¨ã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ./i18n/index.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> VueI18n form <span class="string">'vue-i18n'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'en'</span> <span class="keyword">from</span> <span class="string">'./i18n/locales/en.json'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'zh'</span> <span class="keyword">from</span> <span class="string">'./i18n/locales/zh.json'</span></span><br><span class="line"></span><br><span class="line">Vue.use(VueI18n)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> DEFAULT_LANG = <span class="string">'zh'</span></span><br><span class="line"><span class="keyword">const</span> messages = &#123;</span><br><span class="line">  en,</span><br><span class="line">  zh</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> i18n = <span class="keyword">new</span> VueI18n(&#123;</span><br><span class="line">  locale: DEFAULT_LANG,</span><br><span class="line">  messages: messages</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¿®æ”¹è¯­è¨€çš„å‡½æ•°</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> setup = <span class="function"><span class="params">lang</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (!lang) &#123;</span><br><span class="line">    lang = <span class="built_in">window</span>.localStorage.getItem(LOCALE_KEY)</span><br><span class="line">    <span class="keyword">if</span> (!messages[lang]) &#123;</span><br><span class="line">      lang = DEFAULT_LANG</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">window</span>.localStorage.setItem(LOCALE_KEY, lang)</span><br><span class="line"></span><br><span class="line">  <span class="built_in">Object</span>.keys(messages).forEach(<span class="function"><span class="params">lang</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">document</span>.body.classList.remove(<span class="string">`lang-<span class="subst">$&#123;lang&#125;</span>`</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="built_in">document</span>.body.classList.add(<span class="string">`lang-<span class="subst">$&#123;lang&#125;</span>`</span>)</span><br><span class="line">  <span class="built_in">document</span>.body.setAttribute(<span class="string">'lang'</span>, lang)</span><br><span class="line"></span><br><span class="line">  Vue.config.lang = lang</span><br><span class="line">  i18n.locale = lang</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.i18n = i18n </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> i18n</span><br></pre></td></tr></table></figure><h4 id="çƒ­åŠ è½½-å¾…éªŒè¯"><a href="#çƒ­åŠ è½½-å¾…éªŒè¯" class="headerlink" title="çƒ­åŠ è½½(å¾…éªŒè¯)"></a>çƒ­åŠ è½½(å¾…éªŒè¯)</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">module</span>.hot) &#123;</span><br><span class="line">  <span class="built_in">module</span>.hot.accept([<span class="string">'./i18n/locales/en'</span>, <span class="string">'./i18n/locales/zh'</span>], <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    i18n.setLocaleMessage(<span class="string">'en'</span>, <span class="built_in">require</span>(<span class="string">'./i18n/locales/en'</span>).default)</span><br><span class="line">    i18n.setLocaleMessage(<span class="string">'zh'</span>, <span class="built_in">require</span>(<span class="string">'./i18n/locales/zh'</span>).default)</span><br><span class="line">    <span class="comment">// åŒæ ·å¯ä»¥é€šè¿‡ $i18n å±æ€§è¿›è¡Œçƒ­æ›´æ–°</span></span><br><span class="line">    <span class="comment">// app.$i18n.setLocaleMessage('en', require('./i18n/locales/en').default)</span></span><br><span class="line">    <span class="comment">// app.$i18n.setLocaleMessage('ja', require('../i18n/locales/zh').default)</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://kazupon.github.io/vue-i18n/zh/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;vue-i18n&lt;/code&gt;&lt;/a&gt; æ˜¯ &lt;code&gt;vue&lt;/code&gt; ä¸‹çš„ä¸€ä¸ªæ’ä»¶ï¼Œç”¨äºè®©é¡¹ç›®æ”¯æŒå›½é™…åŒ–å¤šè¯­è¨€ã€‚&lt;/p&gt;&lt;h3 id=&quot;å®‰è£…&quot;&gt;&lt;a href=&quot;#å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£…&quot;&gt;&lt;/a&gt;å®‰è£…&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;npm install vue-i18n --save&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h3 id=&quot;å¼•å…¥vue-i18n&quot;&gt;&lt;a href=&quot;#å¼•å…¥vue-i18n&quot; class=&quot;headerlink&quot; title=&quot;å¼•å…¥vue-i18n&quot;&gt;&lt;/a&gt;å¼•å…¥vue-i18n&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;&lt;p&gt;å°† &lt;code&gt;vue-i18n&lt;/code&gt; æ³¨å…¥åˆ°&lt;code&gt;vue&lt;/code&gt;ä¸­ã€‚æ³¨å…¥ååœ¨ä»»ä½• &lt;code&gt;vueç»„ä»¶&lt;/code&gt; (.vueç»“å°¾çš„æ–‡ä»¶)å†…ï¼Œéƒ½å¯ä»¥ä½¿ç”¨ &lt;code&gt;this.$t(&amp;#39;xxxx&amp;#39;)&lt;/code&gt; æ¥è°ƒç”¨ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;æ–°å»º &lt;code&gt;VueI18n&lt;/code&gt; å®ä¾‹ã€‚&lt;/p&gt;&lt;ol&gt;&lt;li&gt;æ–°å»ºé»˜è®¤è¯­è¨€ã€‚&lt;/li&gt;&lt;li&gt;æ–°å»ºå¾…ç¿»è¯‘è¯­è¨€(jsonæ–‡ä»¶)ã€‚&lt;/li&gt;&lt;li&gt;æ–°å»º &lt;code&gt;VueI18n&lt;/code&gt; å®ä¾‹æ—¶å¯¼å…¥ä¸Šé¢æ–‡ä»¶ã€‚&lt;/li&gt;&lt;/ol&gt;&lt;/li&gt;&lt;li&gt;æ–°å»º &lt;code&gt;Vue&lt;/code&gt; å®ä¾‹æ—¶å¼•å…¥ &lt;code&gt;VueI18n&lt;/code&gt; å®ä¾‹ã€‚&lt;/li&gt;&lt;/ol&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="webå‰ç«¯" scheme="http://jian2333.github.io/tags/web%E5%89%8D%E7%AB%AF/"/>
    
      <category term="vue" scheme="http://jian2333.github.io/tags/vue/"/>
    
      <category term="å¤šè¯­è¨€" scheme="http://jian2333.github.io/tags/%E5%A4%9A%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>Vue Router</title>
    <link href="http://jian2333.github.io/2020/06/29/vue-router/"/>
    <id>http://jian2333.github.io/2020/06/29/vue-router/</id>
    <published>2020-06-29T02:57:05.000Z</published>
    <updated>2020-06-29T07:24:24.541Z</updated>
    
    <content type="html"><![CDATA[<p>æ–­æ–­ç»­ç»­çœ‹äº†å¥½å¤šé <code>Vue Router</code> çš„<a href="https://router.vuejs.org/zh/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ï¼Œç»ˆäºä¸‹å®šå†³å¿ƒæ¥å†™ä¸€ç¯‡ç¬”è®°äº†â€¦..</p><p><img src="/images/vr-1.jpg" alt></p><p>OKï¼Œå¼€å§‹æ­£é¢˜</p><a id="more"></a><p>å®Œæ•´ä»‹ç»çš„è¯å†…å®¹å¤ªå¤šï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç»å·¥ä½œä¸­è¾ƒå¸¸ç”¨åˆ°çš„å‡ ä¸ªçŸ¥è¯†ç‚¹</p><h3 id="router-route"><a href="#router-route" class="headerlink" title="router/route"></a>router/route</h3><h4 id="router"><a href="#router" class="headerlink" title="router"></a>router</h4><p><code>Vue Router</code> å¯¹è±¡ï¼ŒåŒ…å«äº† <code>Vue Router</code> çš„ä¸€äº›å±æ€§å’Œæ–¹æ³•</p><p><strong>Vue Router å±æ€§</strong></p><ul><li>router.app: é…ç½®äº† <code>router</code> çš„Vueæ ¹å®ä¾‹ã€‚</li><li>router.mode: è·¯ç”±ä½¿ç”¨çš„<a href="https://router.vuejs.org/zh/api/#mode" target="_blank" rel="noopener">æ¨¡å¼</a>ã€‚</li><li>router.currentRoute: å½“å‰æ¿€æ´»çš„è·¯ç”±å®ä¾‹ï¼ŒåŒ <code>this.$route</code>ã€‚</li></ul><p><strong>Vue Router æ–¹æ³•</strong></p><ul><li>router.beforeEach: å…¨å±€å‰ç½®å®ˆå«ï¼Œå¿…é¡»è°ƒç”¨ <code>next()</code> æ–¹æ³•ã€‚</li><li>router.beforeResolve: å…¨å±€è§£æå®ˆå«ï¼Œå¿…é¡»è°ƒç”¨ <code>next()</code> æ–¹æ³•ã€‚</li><li>router.afterEach: å…¨å±€åç½®é’©å­ï¼Œæ—  <code>next()</code> æ–¹æ³•ã€‚</li><li>router.push: æ‰“å¼€ä¸€ä¸ªæ–°è·¯ç”±/é¡µé¢ï¼Œ<strong>ä¼š</strong>åœ¨æµè§ˆå™¨æ·»åŠ å†å²è®°å½•ã€‚</li><li>router.replace: æ‰“å¼€/æ›¿æ¢ä¸ºä¸€ä¸ªæ–°è·¯ç”±/é¡µé¢ï¼Œ<strong>ä¸ä¼š</strong>åœ¨æµè§ˆå™¨æ·»åŠ å†å²è®°å½•ã€‚</li><li>router.go: å‰è¿› <code>n</code> ä¸ªé¡µé¢ï¼Œ<code>n</code> å¯ä¸ºè´Ÿæ•°ã€‚</li><li>router.back: ç­‰åŒäº <code>router.go(-1)</code>ã€‚</li><li>router.forward: ç­‰åŒäº <code>router.go(1)</code>ã€‚</li><li>router.getMatchedComponents: è¿”å›ç›®æ ‡ä½ç½®æˆ–æ˜¯å½“å‰è·¯ç”±åŒ¹é…çš„ç»„ä»¶æ•°ç»„(æ˜¯ç»„ä»¶çš„å®šä¹‰/æ„é€ ç±»ï¼Œä¸æ˜¯å®ä¾‹)ï¼Œä¸€èˆ¬ç”¨äº<strong>æœåŠ¡ç«¯æ¸²æŸ“</strong>çš„æ•°æ®é¢„åŠ è½½ä½¿ç”¨ã€‚</li><li>router.resolve: è§£æç›®æ ‡ä½ç½®ã€‚</li><li>router.addRoutes: åŠ¨æ€æ·»åŠ æ›´å¤šçš„è·¯ç”±è§„åˆ™ã€‚</li><li>router.onReady: æŠŠä¸€ä¸ªå›è°ƒæ’é˜Ÿã€‚</li><li>router.onError: æ³¨å†Œä¸€ä¸ªå›è°ƒï¼Œè¯¥å›è°ƒåœ¨è·¯ç”±å¯¼èˆªè¿‡ç¨‹ä¸­å‡ºé”™æ—¶è¢«è°ƒç”¨ã€‚</li></ul><h4 id="route"><a href="#route" class="headerlink" title="route"></a>route</h4><p>å½“å‰æ¿€æ´»çš„è·¯ç”±å®ä¾‹ï¼Œæ‰€æœ‰å±æ€§<strong>åªè¯»</strong></p><ul><li>$route.path: å½“å‰è·¯ç”±çš„<strong>ç»å¯¹</strong>è·¯å¾„ã€‚</li><li>$route.params: å½“å‰è·¯ç”±ä¸Š <code>key/valueå¯¹è±¡</code> å‚æ•°ã€‚</li><li>$route.query: å½“å‰å¯¹è±¡çš„ <code>URL</code> ä¸Šçš„ <code>key/valueå¯¹è±¡</code> å‚æ•°ï¼Œä¼šæ˜¾ç¤ºåœ¨æµè§ˆå™¨åœ°å€æ ä¸Šã€‚</li><li>$route.hash: å½“å‰è·¯ç”±çš„ <code>hash</code> å€¼(å¸¦ <code>#</code>)ã€‚</li><li>$route.fullPath: å®Œæˆè§£æåçš„ <code>URL</code>ï¼ŒåŒ…å«æŸ¥è¯¢å‚æ•°å’Œ <code>hash</code> çš„å®Œæ•´è·¯å¾„ã€‚</li><li>$route.matched: ä¸€ä¸ªåŒ¹é…è·¯ç”±çš„æ•°ç»„ã€‚ä»æ ¹è·¯ç”±å¼€å§‹åˆ°å½“å‰æ‰€åœ¨è·¯ç”±çš„æ‰€æœ‰åµŒå¥—è·¯å¾„ç‰‡æ®µç»„æˆçš„æ•°ç»„ã€‚</li><li>$route.name: å½“å‰è·¯ç”±çš„ <code>name</code>ã€‚</li><li>$route.redirectedFrom: é‡å®šå‘æ¥æºçš„è·¯ç”±çš„åå­—ã€‚</li></ul><h4 id="ç»„ä»¶æ³¨å…¥"><a href="#ç»„ä»¶æ³¨å…¥" class="headerlink" title="ç»„ä»¶æ³¨å…¥"></a>ç»„ä»¶æ³¨å…¥</h4><p>é€šè¿‡åœ¨ Vue æ ¹å®ä¾‹çš„ <code>router</code> é…ç½®ä¼ å…¥ router å®ä¾‹ï¼Œä¸‹é¢è¿™äº›å±æ€§æˆå‘˜ä¼šè¢«æ³¨å…¥åˆ°æ¯ä¸ªå­ç»„ä»¶ã€‚</p><ul><li><strong>this.$router</strong> : <code>router</code> å®ä¾‹ã€‚</li><li><strong>this.$route</strong> : å½“å‰æ¿€æ´»çš„è·¯ç”±å®ä¾‹ï¼Œæ‰€æœ‰å±æ€§<strong>åªè¯»</strong>ã€‚</li></ul><h3 id="å¯¼èˆªå®ˆå«"><a href="#å¯¼èˆªå®ˆå«" class="headerlink" title="å¯¼èˆªå®ˆå«"></a>å¯¼èˆªå®ˆå«</h3><h4 id="å…¨å±€å¯¼èˆªå®ˆå«"><a href="#å…¨å±€å¯¼èˆªå®ˆå«" class="headerlink" title="å…¨å±€å¯¼èˆªå®ˆå«"></a>å…¨å±€å¯¼èˆªå®ˆå«</h4><ul><li>beforeEach: å…¨å±€å‰ç½®å®ˆå«ï¼Œå¯¼èˆªå‰ï¼Œä¸€å®šè¦è°ƒç”¨ <code>next()</code> æ¥ <code>resolve</code> è¿™ä¸ªé’©å­ã€‚</li><li>beforeResolve: å…¨å±€è§£æå®ˆå«ï¼Œå¯¼èˆªå‰ï¼Œå’Œ <code>beforeEach</code> ç±»ä¼¼ï¼ŒåŒºåˆ«æ˜¯å¯¼èˆªåœ¨ç¡®è®¤å‰ï¼Œ<strong>åŒæ—¶åœ¨æ‰€æœ‰ç»„ä»¶å†…å®ˆå«å’Œå¼‚æ­¥è·¯ç”±ç»„ä»¶è§£æä¹‹å</strong>ï¼Œè§£æå®ˆå«æ‰ä¼šè¢«è°ƒç”¨ã€‚</li><li>afterEach: å…¨å±€åç½®é’©å­ï¼Œå¯¼èˆªåï¼Œæ—  <code>next()</code> æ–¹æ³•ä¹Ÿä¸ä¼šæ”¹å˜å¯¼èˆªæœ¬èº«(å¯æ·»åŠ é¡µé¢å®šä½ç­‰åŠŸèƒ½)ã€‚</li></ul><h4 id="è·¯ç”±ç‹¬äº«çš„å®ˆå«"><a href="#è·¯ç”±ç‹¬äº«çš„å®ˆå«" class="headerlink" title="è·¯ç”±ç‹¬äº«çš„å®ˆå«"></a>è·¯ç”±ç‹¬äº«çš„å®ˆå«</h4><ul><li>beforeEnter: è·¯ç”±ç‹¬äº«å®ˆå«ï¼Œé…ç½®åœ¨è·¯ç”±ä¸Šçš„å®ˆå«ï¼Œ<strong>è¯¥è·¯ç”±åŠå…¶å­è·¯ç”±</strong>éƒ½ä¼šå…±äº«è¯¥å®ˆå«ã€‚</li></ul><h4 id="ç»„ä»¶å†…å®ˆå«"><a href="#ç»„ä»¶å†…å®ˆå«" class="headerlink" title="ç»„ä»¶å†…å®ˆå«"></a>ç»„ä»¶å†…å®ˆå«</h4><ul><li><p>beforeRouteEnter: æ¸²æŸ“è¯¥ç»„ä»¶å¯¹åº”çš„è·¯ç”±è¢« <code>confirm</code> å‰è°ƒç”¨ï¼Œ<strong>ä¸èƒ½</strong>è·å– <code>this</code>ï¼Œä½†å¯é€šè¿‡ä¼ å›è°ƒ(å”¯ä¸€ä¸€ä¸ªå¯ä»¥ä¼ å›è°ƒç»™ <code>next</code> çš„å®ˆå«)ç»™ <code>next()</code> æ¥è®¿é—®ç»„ä»¶å®ä¾‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">beforeRouteEnter (to, <span class="keyword">from</span>, next) =&gt; &#123;</span><br><span class="line">  next(<span class="function"><span class="params">vm</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// é€šè¿‡ `vm` è®¿é—®ç»„ä»¶å®ä¾‹</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>beforeRouteUpdate: è·¯ç”±æ”¹å˜ï¼Œä½†æ˜¯è¯¥ç»„ä»¶è¢«å¤ç”¨æ—¶è°ƒç”¨ã€‚</p></li><li><p>beforeRouteLeave: å¯¼èˆªç¦»å¼€è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±æ—¶è°ƒç”¨ã€‚</p></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Foo = &#123;</span><br><span class="line">  template: <span class="string">`...`</span>,</span><br><span class="line">  beforeRouteEnter (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">    <span class="comment">// åœ¨æ¸²æŸ“è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±è¢« confirm å‰è°ƒç”¨</span></span><br><span class="line">    <span class="comment">// ä¸ï¼èƒ½ï¼è·å–ç»„ä»¶å®ä¾‹ `this`</span></span><br><span class="line">    <span class="comment">// å› ä¸ºå½“å®ˆå«æ‰§è¡Œå‰ï¼Œç»„ä»¶å®ä¾‹è¿˜æ²¡è¢«åˆ›å»º</span></span><br><span class="line">  &#125;,</span><br><span class="line">  beforeRouteUpdate (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">    <span class="comment">// åœ¨å½“å‰è·¯ç”±æ”¹å˜ï¼Œä½†æ˜¯è¯¥ç»„ä»¶è¢«å¤ç”¨æ—¶è°ƒç”¨</span></span><br><span class="line">    <span class="comment">// ä¸¾ä¾‹æ¥è¯´ï¼Œå¯¹äºä¸€ä¸ªå¸¦æœ‰åŠ¨æ€å‚æ•°çš„è·¯å¾„ /foo/:idï¼Œåœ¨ /foo/1 å’Œ /foo/2 ä¹‹é—´è·³è½¬çš„æ—¶å€™ï¼Œ</span></span><br><span class="line">    <span class="comment">// ç”±äºä¼šæ¸²æŸ“åŒæ ·çš„ Foo ç»„ä»¶ï¼Œå› æ­¤ç»„ä»¶å®ä¾‹ä¼šè¢«å¤ç”¨ã€‚è€Œè¿™ä¸ªé’©å­å°±ä¼šåœ¨è¿™ä¸ªæƒ…å†µä¸‹è¢«è°ƒç”¨ã€‚</span></span><br><span class="line">    <span class="comment">// å¯ä»¥è®¿é—®ç»„ä»¶å®ä¾‹ `this`</span></span><br><span class="line">  &#125;,</span><br><span class="line">  beforeRouteLeave (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">    <span class="comment">// å¯¼èˆªç¦»å¼€è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±æ—¶è°ƒç”¨</span></span><br><span class="line">    <span class="comment">// å¯ä»¥è®¿é—®ç»„ä»¶å®ä¾‹ `this`</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="å®Œæ•´çš„å¯¼èˆªè§£ææµç¨‹"><a href="#å®Œæ•´çš„å¯¼èˆªè§£ææµç¨‹" class="headerlink" title="å®Œæ•´çš„å¯¼èˆªè§£ææµç¨‹"></a>å®Œæ•´çš„å¯¼èˆªè§£ææµç¨‹</h4><ol><li>å¯¼èˆªè¢«è§¦å‘ã€‚</li><li>åœ¨å¤±æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨ <code>beforeRouteLeave</code> å®ˆå«ã€‚</li><li>è°ƒç”¨å…¨å±€çš„ <code>beforeEach</code> å®ˆå«ã€‚</li><li>åœ¨é‡ç”¨çš„ç»„ä»¶é‡Œè°ƒç”¨ <code>beforeRouteUpdate</code> å®ˆå«ï¼ˆ2.2+ï¼‰ã€‚</li><li>åœ¨è·¯ç”±é…ç½®é‡Œè°ƒç”¨ <code>beforeEnter</code> ã€‚</li><li>è§£æå¼‚æ­¥è·¯ç”±ç»„ä»¶ã€‚</li><li>åœ¨è¢«æ¿€æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨ <code>beforeRouteEnter</code> ã€‚</li><li>è°ƒç”¨å…¨å±€çš„ <code>beforeResolve</code> å®ˆå«ï¼ˆ2.5+ï¼‰ã€‚</li><li>å¯¼èˆªè¢«ç¡®è®¤ã€‚</li><li>è°ƒç”¨å…¨å±€çš„ <code>afterEach</code> é’©å­ã€‚</li><li>è§¦å‘ <code>DOM</code> æ›´æ–°ã€‚</li><li>ç”¨åˆ›å»ºå¥½çš„å®ä¾‹è°ƒç”¨ <code>beforeRouteEnter</code> å®ˆå«ä¼ é€’ç»™ <code>next</code> çš„å›è°ƒå‡½æ•°ã€‚</li></ol><h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><p><strong>falsy/falsey(è™šå€¼)</strong></p><ul><li>åœ¨ <code>Boolean</code> ä¸Šä¸‹æ–‡ä¸­è®¤å®šä¸º <code>false</code> çš„å€¼ã€‚</li><li><code>Javascript</code> åœ¨éœ€è¦ç”¨åˆ° <code>Boolean</code> ç±»å‹çš„å€¼çš„ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢å°†å€¼è½¬æ¢ä¸º <code>Boolean</code> å€¼ï¼Œæ¯”å¦‚æ¡ä»¶è¯­å¥å’Œå¾ªç¯ä¸­ã€‚</li><li>ç›®å‰ <code>Js</code> ä¸­åªæœ‰7ä¸ª <code>falsy</code> å€¼ï¼š<ul><li><code>false</code>ã€<code>0</code>ã€<code>0n</code>ã€<code>&quot;&quot;/&#39;&#39;/</code>ã€``ã€ <code>null</code>ã€<code>undefined</code>ã€<code>NaN</code></li></ul></li></ul><p><strong>æ»šåŠ¨è¡Œä¸º</strong></p><ul><li><code>scrollBehavior(to, from, savedPosition)</code>: æ·»åŠ åœ¨è·¯ç”±å®ä¾‹ <code>new Router({})</code> ä¸­ï¼Œç”¨äºè‡ªå®šä¹‰åˆ‡æ¢æ—¶é¡µé¢å¦‚ä½•æ»šåŠ¨ã€‚</li><li>è¯¥åŠŸèƒ½åªåœ¨æ”¯æŒ <code>history.pushState</code> çš„æµè§ˆå™¨ä¸­å¯ç”¨ã€‚</li><li><code>keep-alive</code> ä¸­æ— æ•ˆï¼Œå› ä¸º <code>keep-alive</code> å·²è‡ªåŠ¨ä¿ç•™äº†ä¹‹å‰çš„çŠ¶æ€ã€‚</li><li>è¿”å›æ»šåŠ¨çš„ä½ç½®ä¿¡æ¯ï¼š<ul><li><code>{ x: number, y: number }</code> : å…·ä½“ä½ç½®ã€‚</li><li><code>{ selector: string, offset? : { x: number, y: number }}</code> : é”šç‚¹+åç§»é‡</li></ul></li><li><a href="https://router.vuejs.org/zh/guide/advanced/scroll-behavior.html" target="_blank" rel="noopener">æ›´å¤šå‚è€ƒ</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ–­æ–­ç»­ç»­çœ‹äº†å¥½å¤šé &lt;code&gt;Vue Router&lt;/code&gt; çš„&lt;a href=&quot;https://router.vuejs.org/zh/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt;ï¼Œç»ˆäºä¸‹å®šå†³å¿ƒæ¥å†™ä¸€ç¯‡ç¬”è®°äº†â€¦..&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/images/vr-1.jpg&quot; alt&gt;&lt;/p&gt;&lt;p&gt;OKï¼Œå¼€å§‹æ­£é¢˜&lt;/p&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="webå‰ç«¯" scheme="http://jian2333.github.io/tags/web%E5%89%8D%E7%AB%AF/"/>
    
      <category term="vue" scheme="http://jian2333.github.io/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>eslint &amp;&amp; babel</title>
    <link href="http://jian2333.github.io/2020/06/24/eslint-and-babel/"/>
    <id>http://jian2333.github.io/2020/06/24/eslint-and-babel/</id>
    <published>2020-06-24T06:28:22.000Z</published>
    <updated>2020-06-24T07:07:06.631Z</updated>
    
    <content type="html"><![CDATA[<p>å…³äº<code>eslint</code>å’Œ<code>babel</code>çš„ä¸€ç‚¹ç†è§£ï¼š</p><p><code>eslint</code>: ä»£ç è¯­æ³•æ ¡éªŒï¼Œä¸»è¦æ˜¯è¯­æ³•çš„ä½¿ç”¨æ˜¯å¦æ­£ç¡®ï¼Œé™„å¸¦ä¹Ÿå¯ä»¥æ ¼å¼åŒ–ä»£ç é£æ ¼ã€‚</p><p><code>babel</code>: è½¬ä¹‰ä»£ç ï¼Œå°†æµè§ˆå™¨ä¸æ”¯æŒçš„æ–°è¯­æ³•ï¼Œè½¬ä¹‰æˆæµè§ˆå™¨æ”¯æŒçš„è¯­æ³•ã€‚æ‰€ä»¥ä½¿ç”¨<code>babel</code>ï¼Œæˆ‘ä»¬å°±å¯ä»¥ <strong>æ¯«æ— é¡¾å¿Œ</strong> çš„ä½¿ç”¨æ–°è¯­æ³•äº†ã€‚</p><p>ä½†æœ‰æ—¶å€™å§ï¼Œ<code>eslint</code> æ ¡éªŒæ–°è¯­æ³•æ—¶è¯†åˆ«ä¸äº†ï¼Œå°±ä¼šæŠ¥é”™äº†ï¼Œè¿™æ—¶å€™<code>babel-eslint</code>å°±ç™»åœºäº†ã€‚</p><p><code>babel-eslint</code>: å°†<code>eslint</code>æ— æ³•è¯†åˆ«çš„æ–°è¯­æ³•è½¬ä¹‰æˆ<code>eslint</code>å¯ä»¥è¯†åˆ«çš„è¯­æ³•ï¼Œè¿›è€Œé€šè¿‡<code>eslint</code>æ ¡éªŒã€‚<code>babel-eslint</code>éœ€æ­é…<code>eslint</code>ä¸€èµ·ä½¿ç”¨ã€‚</p><p>é¢˜å¤–è¯ï¼š</p><ul><li><code>babel</code>æœ‰å¤šç§å¼•å…¥æ–¹å¼ï¼Œæœ€æ–°çš„æ¨èæ–¹å¼æ˜¯ <strong>æŒ‰éœ€è½¬ä¹‰</strong></li><li>æ ¼å¼åŒ–(ç»Ÿä¸€)ä»£ç é£æ ¼ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹2ç§æ–¹å¼ã€‚ä¸»è¦æ˜¯æ”¹å˜ä»£ç çš„æ˜¾ç¤ºé£æ ¼ï¼Œå¹¶ä¸ä¼šå¯¹ä»£ç çš„<code>è¯­æ³•è§„åˆ™</code>åšæ ¡éªŒï¼š<ul><li><code>.editorconfig</code>: æœ¬åœ°é…ç½®æ–‡ä»¶ï¼Œä¸€èˆ¬ç”¨äº<code>æ¢è¡Œã€ç¼©è¿›ç­‰</code>ã€‚</li><li><code>.prettierrc</code>ï¼šå½“å‰ä¸»æµçš„æ–¹æ³•ã€‚æ‰€æœ‰è§„åˆ™<code>åŸºæœ¬éƒ½å¯é…ç½®</code>ã€‚æ­é… <code>webstorm file watch</code> å¯å®ç° <strong>ä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–/æäº¤ä»£ç æ—¶è‡ªåŠ¨æ ¼å¼åŒ–</strong></li></ul></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å…³äº&lt;code&gt;eslint&lt;/code&gt;å’Œ&lt;code&gt;babel&lt;/code&gt;çš„ä¸€ç‚¹ç†è§£ï¼š&lt;/p&gt;&lt;p&gt;&lt;code&gt;eslint&lt;/code&gt;: ä»£ç è¯­æ³•æ ¡éªŒï¼Œä¸»è¦æ˜¯è¯­æ³•çš„ä½¿ç”¨æ˜¯å¦æ­£ç¡®ï¼Œé™„å¸¦ä¹Ÿå¯ä»¥æ ¼å¼åŒ–ä»£ç é£æ ¼ã€‚&lt;/p&gt;&lt;p&gt;&lt;code&gt;babel&lt;/code&gt;: è½¬ä¹‰ä»£
      
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="webå‰ç«¯" scheme="http://jian2333.github.io/tags/web%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€ç§æ–°çš„ç§‘å­¦ä¸Šç½‘æ–¹å¼ -- v2ray</title>
    <link href="http://jian2333.github.io/2020/01/05/v2ray/"/>
    <id>http://jian2333.github.io/2020/01/05/v2ray/</id>
    <published>2020-01-05T10:23:55.000Z</published>
    <updated>2020-08-09T04:36:51.988Z</updated>
    
    <content type="html"><![CDATA[<p>ç”±äºæŸäº›ä¼—æ‰€å‘¨çŸ¥çš„åŸå› ï¼Œemmmmmâ€¦.ï¼Œä¸ä¹…å‰çš„è¡€è‰²åæœˆï¼Œä¸€å¤§æ³¢æ¢¯å­è¢«å°äº†ã€‚æ¯«æ— æ„å¤–ï¼Œæˆ‘çš„ <code>ss</code> ä¹Ÿè¢«å°äº†ï¼Œè€Œä¸”ä»é‚£ä¹‹åï¼Œ<code>ss</code> å°±å˜å¾—ä¸å¥½ç”¨äº†ï¼Œé€Ÿåº¦æ…¢ï¼Œè¿˜ç»å¸¸ä¸Šä¸äº†ç½‘ã€‚</p><p>ç„¶åå§ï¼Œç ”ç©¶äº†ä¸‹ç›®å‰æ¯”è¾ƒä¸»æµçš„æ–¹å¼ <code>v2ray</code> ï¼ŒåŒ…æ‹¬ <code>æ­å»ºæ–¹å¼</code> ã€<code>é€Ÿåº¦ä¼˜åŒ–</code>ã€<code>ipä¼ªè£…é˜²å°</code> ç­‰ï¼Œå‘ç° <code>v2ray : ws + tls + nginx + cdn</code> çš„æ–¹å¼é€Ÿåº¦å’Œä¼ªè£…æ€§éƒ½å¾ˆå¥½ã€‚</p><p>å†ç„¶åå§ï¼Œä»Šå¤©å°±æ€»ç»“ä¸€ä¸‹è¿™ä¸ªå¥½äº†â€¦..</p><a id="more"></a><p>æœ¬æ–‡ä¸»è¦æ€»ç»“äº†ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p><ul><li><a href="#æœ€ç»ˆæ€»ç»“åŠæ¨è">æœ€ç»ˆæ€»ç»“åŠæ¨è</a></li><li><a href="#åè¯è§£é‡Š">åè¯è§£é‡Š</a></li><li><a href="#å…·ä½“æ­å»ºæµç¨‹">å…·ä½“æ­å»ºæµç¨‹</a></li><li><a href="#æ•ˆæœ">æ•ˆæœ</a></li><li><a href="#ç›¸å…³èµ„æ–™ä»‹ç»">ç›¸å…³èµ„æ–™ä»‹ç»</a></li></ul><h3 id="æœ€ç»ˆæ€»ç»“åŠæ¨è"><a href="#æœ€ç»ˆæ€»ç»“åŠæ¨è" class="headerlink" title="æœ€ç»ˆæ€»ç»“åŠæ¨è"></a>æœ€ç»ˆæ€»ç»“åŠæ¨è</h3><p>æ ¹æ®å®é™…æµ‹è¯•ä¸‹æ¥çš„ç»“æœï¼Œæœ€ç»ˆæ¨è <strong>googleäº‘é¦™æ¸¯æœåŠ¡å™¨+ws+tls+nginx+ä¼ªè£…ä¸»é¡µ+bbr</strong> è¿™ç§é…ç½®ã€‚ä¸æ¨èä½¿ç”¨ <code>cdn</code> ã€‚å› ä¸ºå…è´¹çš„ <code>cdn</code> è™½ç„¶èƒ½éšè—çœŸå®<code>ip</code>ï¼Œä½†æ˜¯ä¼š <strong>å¤§å¤§é™ä½ç½‘ç»œé€Ÿåº¦</strong>ï¼Œå†åŠ ä¸Š <code>ws+tls+nginx+ä¼ªè£…ä¸»é¡µ</code>ï¼Œå·²ç»èƒ½è¾¾åˆ°å¾ˆå¥½çš„æ¬ºéª— <code>GFW</code> çš„æ•ˆæœäº†ï¼Œè€Œæ”¶è´¹çš„ <code>cdn</code> è™½ç„¶æ•ˆæœå¥½ï¼Œä½†æ˜¯<strong>å¤ªè´µäº†</strong>ï¼æ‰€ä»¥ä¸æ¨èä½¿ç”¨ <code>cdn</code>ã€‚</p><h4 id="æœåŠ¡å™¨"><a href="#æœåŠ¡å™¨" class="headerlink" title="æœåŠ¡å™¨"></a>æœåŠ¡å™¨</h4><ul><li>é€Ÿåº¦æœ€å¿«çš„ä¾›åº”å•†æ˜¯ <a href="https://cloud.google.com/" target="_blank" rel="noopener"><code>googleäº‘</code></a>ï¼Œå…¶æ¬¡æ˜¯ <a href="https://bandwagonhost.com/" target="_blank" rel="noopener"><code>æ¬ç“¦å·¥</code></a>ï¼Œæœ€åæ˜¯ <a href="https://www.vultr.com/" target="_blank" rel="noopener"><code>vultr</code></a>ã€‚</li><li>é¦™æ¸¯æœåŠ¡å™¨æœ€å¿«(<code>vultr</code>æ²¡æœ‰é¦™æ¸¯æœåŠ¡å™¨)ã€‚</li><li><code>æ¬ç“¦å·¥</code> æœåŠ¡å™¨é€Ÿåº¦ï¼šé¦™æ¸¯æœåŠ¡å™¨ &gt; CN2 GIA-E = CN2 GIA &gt; KVM = vultr ã€‚</li></ul><h4 id="åè®®"><a href="#åè®®" class="headerlink" title="åè®®"></a>åè®®</h4><ul><li><code>mkcp</code> åè®®æ­å»ºç®€å•ï¼Œä½†æ˜¯é€Ÿåº¦ä¸å¤Ÿå¿«ï¼Œä¼ªè£…è¿˜è¡Œï¼Œä½†åœ¨æœ‰äº›åœºåˆè¿æ¥ä¸ç¨³å®š(æ¯”å¦‚ <strong>åœ¨å…¬å¸ç½‘ç»œ ï¼Œæˆ‘å°±ç»å¸¸è¿ä¸ä¸Šâ€¦..</strong> )ã€‚</li><li><code>ws+tls</code> åè®®æ­å»ºå¤æ‚ä¸€ä¸‹ï¼Œéœ€è¦æœ‰åŸŸåï¼Œä½†æ˜¯é€Ÿåº¦å¿«ï¼Œè€Œä¸”ç¨³å®šï¼Œ<strong>åœ¨å…¬å¸ç½‘ç»œï¼Œä¸€æ ·ç¨³å¦‚è€ç‹—ï¼ï¼</strong></li><li><code>ws+tls+nginx+cdn</code> ä¼ªè£…æ€§æ›´å¥½ï¼Œä½†æ˜¯æ›´å¤æ‚ï¼Œéœ€è¦æ‡‚ä¸€äº›<code>nginx</code>çš„ç›¸å…³é…ç½®ï¼Œè¿˜è¦ä¼š<code>cdn</code>ä»£ç†ä¼ªè£…ã€‚ä¸è¿‡ä¸æ¨è <code>cdn</code> ä»£ç†ã€‚åŸå› ä¹‹å‰è¯´åˆ°äº†ï¼š<ul><li>å…è´¹çš„ <strong>å¤§å¤§é™ä½ç½‘é€Ÿ</strong>ï¼Œæ”¶è´¹çš„å¤ªè´µã€‚(å…è´¹çš„<code>cloudflare</code>æœåŠ¡å™¨åœ¨ç¾å›½ï¼Œ<code>ping</code> å˜æˆ200+ï¼Œ ç›´è¿<code>googleäº‘é¦™æ¸¯æœåŠ¡å™¨</code> <code>ping</code> æ‰20+ï¼Œé€Ÿåº¦å·®10å€)ã€‚</li><li><code>ws+tls+nginx+ä¸»é¡µä¼ªè£…</code> å·²ç»èƒ½å¾ˆå¥½çš„ä¼ªè£…äº†ï¼Œèƒ½ <strong>å¾ˆå¥½çš„éª—è¿‡ <code>GFW</code> äº†</strong> ã€‚</li></ul></li><li>æ‰€ä»¥æ¨èçš„æ˜¯ <code>ws+tls+nginx+ä¼ªè£…ä¸»é¡µ</code>ã€‚</li></ul><h4 id="bbråŠ é€Ÿ"><a href="#bbråŠ é€Ÿ" class="headerlink" title="bbråŠ é€Ÿ"></a>bbråŠ é€Ÿ</h4><ul><li><code>bbr</code> æ˜¯ <code>google</code> çš„ä¸€ç§ç®—æ³•åŠ é€Ÿï¼Œå¯¹é€Ÿåº¦ <strong>å½±å“æå¤§</strong>ï¼Œ<strong>å¼ºçƒˆæ¨èå¼€å¯</strong>ã€‚</li><li>å°±ä¸ªäººæµ‹è¯•è€Œè¨€ï¼ŒåŒæ ·é…ç½® <code>youtube 4K 60fps</code> ä¸‹ï¼Œæœªå¼€å¯ <code>bbr</code> é€Ÿåº¦ä¸º <code>20k Kbps</code>ï¼Œå¼€å¯ <code>bbr</code> åä¸º <code>150k Kbps</code>ï¼Œ<strong>é€Ÿåº¦ç›¸å·®æå¤§</strong>ã€‚</li><li><del>ç›´æ¥ä½¿ç”¨ä¸€é”®å®‰è£…è„šæœ¬é‡Œçš„å‘½ä»¤å¼€å¯å³å¯ï¼Œé€‰æ‹© <code>bbrPlusç‰ˆæœ¬</code>ï¼Œå³ <code>11-2-7</code></del> (2020.08.08æ›´æ–°)ä¸€é”®è„šæœ¬çš„<code>bbrå®‰è£…å¯åŠ¨</code>å‘½ä»¤å·²ç»å¤±æ•ˆï¼Œè¯·ä½¿ç”¨ä¸‹æ–¹æ–°å‘½ä»¤ã€‚</li></ul><h3 id="åè¯è§£é‡Š"><a href="#åè¯è§£é‡Š" class="headerlink" title="åè¯è§£é‡Š"></a>åè¯è§£é‡Š</h3><p><strong>ä¸€é”®å®‰è£…è„šæœ¬</strong></p><p>ä¸€é”®å®‰è£… <code>v2ray+ws+tls+nginx+httpsè¯ä¹¦+httpsè¯ä¹¦å®šæ—¶ç»­ç­¾</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -L -s https://raw.githubusercontent.com/wulabing/V2Ray_ws-tls_bash_onekey/master/install.sh) | tee v2ray_ins.log</span><br></pre></td></tr></table></figure><p>ç›¸å…³è·¯å¾„ï¼š</p><ul><li>Web ç›®å½•ï¼š<code>/home/wwwroot/3DCEList</code></li><li>V2ray æœåŠ¡ç«¯é…ç½®ï¼š<code>/etc/v2ray/config.json</code></li><li>V2ray å®¢æˆ·ç«¯é…ç½®: <code>~/v2ray_info.txt</code></li><li>Nginx ç›®å½•ï¼š <code>/etc/nginx</code></li><li>è¯ä¹¦æ–‡ä»¶: <code>/data/v2ray.key å’Œ /data/v2ray.crt</code></li></ul><p><strong>cdn</strong></p><p>ç”¨æ¥ <code>ä¼ªè£…çœŸå®ip</code>ï¼Œè¿˜æœ‰é˜² <code>DDOSæµé‡æ”»å‡»</code> ç­‰å…¶ä»–åŠŸèƒ½ã€‚</p><p><strong>cloudflare</strong></p><p>ä¸€ä¸ª<strong>å…è´¹</strong>é…ç½® <code>cdn</code> çš„<a href="https://www.cloudflare.com/" target="_blank" rel="noopener">ç½‘ç«™</a>ï¼Œä½†æ˜¯ä¸æ¨èä½¿ç”¨ï¼ŒåŸå› å‰é¢æœ‰è¯´åˆ°ï¼Œä¼š <strong>å¤§å¤§é™ä½ç½‘ç»œé€Ÿåº¦</strong>ã€‚</p><p><strong>ws</strong></p><p><code>websocket</code> ï¼Œä¸€ç§åè®®ã€‚éœ€è¦æœ‰åŸŸåã€‚æŠŠç¿»å¢™æµé‡ä¼ªè£…æˆæ­£å¸¸è®¿é—®é…ç½®åŸŸåçš„æµé‡ã€‚</p><p><strong>tls</strong></p><p>ä¸€ç§åŠ å¯†åè®®ï¼Œéœ€è¦ä½¿ç”¨åŸŸåã€‚ä¸€èˆ¬é…åˆ <code>ws</code> ä½¿ç”¨ã€‚</p><p><strong>nginx</strong>(éå¿…é¡»)</p><p>æœåŠ¡å™¨é…ç½® <code>webç½‘ç«™</code> ä½¿ç”¨ï¼Œé…ç½®ä¸€ä¸ª <code>.html</code> æ–‡ä»¶ <code>ä¼ªè£…æˆé™æ€ç½‘ç«™</code>ã€‚</p><p><strong>httpsè¯ä¹¦</strong>(éå¿…é¡»)</p><p>ç»™ä¼ªè£…çš„ <code>web</code> ç½‘ç«™æ·»åŠ è¯ä¹¦ï¼Œè®©ç½‘ç«™æ›´çœŸå®ã€‚è¯ä¹¦æœ‰æ•ˆæœŸ3ä¸ªæœˆï¼Œ<code>ä¸€é”®å®‰è£…è„šæœ¬</code> ä¼šè‡ªåŠ¨ <code>ç”³è¯·ï¼Œä¸‹è½½è¯ä¹¦</code>ï¼Œå¹¶æ·»åŠ  <code>è¯ä¹¦è‡ªåŠ¨ç»­ç­¾ä»»åŠ¡</code>ï¼Œ<strong>ä½†æ˜¯ï¼Œéœ€è¦è‡ªå·±ä¿®æ”¹nginxé…ç½®ï¼Œé€‰æ‹©è¯ä¹¦è·¯å¾„ï¼ï¼</strong></p><p><strong>bbrä¸€é”®å®‰è£…è„šæœ¬</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate <span class="string">"https://raw.githubusercontent.com/chiakge/Linux-NetSpeed/master/tcp.sh"</span></span><br><span class="line">chmod +x tcp.sh</span><br><span class="line">./tcp.sh</span><br></pre></td></tr></table></figure><h3 id="å…·ä½“æ­å»ºæµç¨‹"><a href="#å…·ä½“æ­å»ºæµç¨‹" class="headerlink" title="å…·ä½“æ­å»ºæµç¨‹"></a>å…·ä½“æ­å»ºæµç¨‹</h3><h4 id="ç”³è¯·åŸŸå"><a href="#ç”³è¯·åŸŸå" class="headerlink" title="ç”³è¯·åŸŸå"></a>ç”³è¯·åŸŸå</h4><p>å¯ä»¥åœ¨ <a href="https://www.freenom.com/" target="_blank" rel="noopener">freenom</a> ç”³è¯·å…è´¹çš„åŸŸåã€‚ä¸è¿‡è¿™ä¸ªç½‘ç«™æ³¨å†Œæ¯”è¾ƒéº»çƒ¦â€¦..</p><p>ä¹Ÿå¯ä»¥åœ¨ <a href="https://cn.aliyun.com/" target="_blank" rel="noopener">é˜¿é‡Œäº‘</a>ï¼Œ<a href="https://cloud.tencent.com/" target="_blank" rel="noopener">è…¾è®¯äº‘</a> ç­‰æ³¨å†Œï¼Œéƒ½å¯ä»¥ã€‚</p><h4 id="é…ç½®cdn"><a href="#é…ç½®cdn" class="headerlink" title="é…ç½®cdn"></a>é…ç½®cdn</h4><p>å…è´¹çš„è¯å¯ä»¥åœ¨ <a href="https://www.cloudflare.com/" target="_blank" rel="noopener">cloudflare</a> é…ç½® cdnã€‚</p><ul><li>é…ç½®æ—¶ï¼Œä»£ç† <code>Proxy status</code> è®°å¾—ç‚¹æˆç°è‰²ï¼Œåœ¨ <code>bbr</code> å®‰è£…å®Œæˆåï¼Œåœ¨å†³å®šç‚¹äº®ã€‚</li><li>ç‚¹äº®ä¸ç‚¹äº®éƒ½å¯ä»¥ä½¿ç”¨ï¼Œç‚¹äº®å³ä½¿ç”¨ä»£ç†ï¼Œä¼ªè£…äº†çœŸå®ipï¼Œä½†é€Ÿåº¦ä¼šæ…¢å¾ˆå¤šï¼Œä¸ç‚¹äº®å³ç›´è¿ã€‚</li><li>é…ç½®å¥½åï¼Œéœ€è¦åœ¨ <code>åŸŸåç®¡ç†</code> çš„åœ°æ–¹(æ¯”ä¾‹å¦‚<code>é˜¿é‡Œäº‘-&gt;åŸŸå-&gt;ç®¡ç†-&gt;cdn</code>)ï¼Œå°† <code>dns</code> çš„2ä¸ªåœ°å€æ·»åŠ ä¸Šå»ã€‚</li></ul><h4 id="åˆ›å»ºvmå®ä¾‹"><a href="#åˆ›å»ºvmå®ä¾‹" class="headerlink" title="åˆ›å»ºvmå®ä¾‹"></a>åˆ›å»ºvmå®ä¾‹</h4><p>ä½¿ç”¨ä¸»æœºä¾›åº”å•†æ·»åŠ  <code>vmå®ä¾‹</code>å³å¯ï¼Œæ¨è <code>googleäº‘</code>ï¼Œ é€Ÿåº¦æœ€å¿«ã€‚</p><p>ä»¥ä¸‹ä»¥ <code>google</code> ä¸ºæ ‡å‡†ï¼š</p><p>åˆ›å»º <code>vm</code> å®ä¾‹</p><ul><li>é€‰æ‹© <code>é¦™æ¸¯+N1+f1-micro+å‹¾é€‰httpã€https+ç½‘ç»œæ ‡è®°rz,cz</code></li><li>ç¼–è¾‘é˜²ç«å¢™è§„åˆ™ <code>rz</code> ï¼š<code>æ–¹å‘ï¼šå…¥ç«™ï¼›ç›®æ ‡ï¼šç½‘ç»œä¸­çš„å®ä¾‹ï¼›æ¥æºè¿‡æ»¤æ¡ä»¶ï¼šIPåœ°å€èŒƒå›´ï¼›æ¥æºIPåœ°å€èŒƒå›´ï¼š0.0.0.0/0</code></li><li>ç¼–è¾‘é˜²ç«å¢™è§„åˆ™ <code>cz</code>ï¼š<code>æ–¹å‘ï¼šå‡ºç«™ï¼›ç›®æ ‡ï¼šç½‘ç»œä¸­çš„å®ä¾‹ï¼›æ¥æºè¿‡æ»¤æ¡ä»¶ï¼šIPåœ°å€èŒƒå›´ï¼›æ¥æºIPåœ°å€èŒƒå›´ï¼š0.0.0.0/0</code></li></ul><h4 id="ä¸€é”®è„šæœ¬å®‰è£…"><a href="#ä¸€é”®è„šæœ¬å®‰è£…" class="headerlink" title="ä¸€é”®è„šæœ¬å®‰è£…"></a>ä¸€é”®è„šæœ¬å®‰è£…</h4><p>åœ¨ <code>googleäº‘ vmå®ä¾‹</code> é¡µé¢ï¼Œç‚¹å‡» <code>SSH</code> é“¾æ¥ï¼š</p><ul><li><p>è¾“å…¥ <code>sudo -i</code> è·å– <code>root</code> æƒé™ï¼›</p></li><li><p>è¾“å…¥ä¸€é”®å®‰è£…è„šæœ¬</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -L -s https://raw.githubusercontent.com/wulabing/V2Ray_ws-tls_bash_onekey/master/install.sh) | tee v2ray_ins.log</span><br></pre></td></tr></table></figure></li><li><p>æŒ‰è¦æ±‚è¾“å…¥åŸŸåï¼Œç­‰å¾…è„šæœ¬æ‰§è¡Œå®Œæˆå³å¯ã€‚</p></li></ul><h4 id="ä¿®æ”¹nginxé…ç½®æ–‡ä»¶-éå¿…é¡»"><a href="#ä¿®æ”¹nginxé…ç½®æ–‡ä»¶-éå¿…é¡»" class="headerlink" title="ä¿®æ”¹nginxé…ç½®æ–‡ä»¶(éå¿…é¡»)"></a>ä¿®æ”¹nginxé…ç½®æ–‡ä»¶(éå¿…é¡»)</h4><p><strong>æ·»åŠ  <code>nginx</code> å‘½ä»¤åˆ°ç¯å¢ƒå˜é‡</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> PATH=<span class="variable">$PATH</span>:/etc/nginx/sbin &gt;&gt; /etc/profile</span><br><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure><p><strong>ä¸‹è½½å¹¶ä¿®æ”¹nginxé…ç½®æ–‡ä»¶</strong></p><p>çª—å£å³ä¸Šè§’ä¸‹è½½ï¼Œä¸‹è½½åç¼–è¾‘ï¼Œä¸»è¦ä¿®æ”¹ <code>åŸŸåã€ç«¯å£å·ã€/ptahã€httpsè¯ä¹¦è·¯å¾„</code></p><p>å¯ä»¥å‚è€ƒä¸‹é¢çš„é…ç½®</p><p>è¯¥é…ç½®åšäº†ä»¥ä¸‹å‡ ä»¶äº‹ï¼š</p><ul><li>é‡å®šå‘ <code>http(80ç«¯å£)</code> åˆ° <code>https(443ç«¯å£)</code>ã€‚</li><li>é‡å®šå‘ <code>/path</code> æˆ– <code>websocket</code> åè®®åˆ° <code>23188</code> ç«¯å£ï¼Œ<code>v2ray ws</code> åè®®ç”¨ã€‚</li><li>ä¿®æ”¹ <code>httpsè¯ä¹¦è·¯å¾„</code>ã€‚</li><li>ä¿®æ”¹ <code>åŸŸåã€ç«¯å£å·</code>ã€‚</li></ul><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="attribute">user</span>  root;</span><br><span class="line"><span class="attribute">worker_processes</span>  <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#error_log  logs/error.log;</span></span><br><span class="line"><span class="comment">#error_log  logs/error.log  notice;</span></span><br><span class="line"><span class="comment">#error_log  logs/error.log  info;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#pid        logs/nginx.pid;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section">events</span> &#123;</span><br><span class="line">    <span class="attribute">worker_connections</span>  <span class="number">4096</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    <span class="attribute">include</span>       mime.types;</span><br><span class="line">    <span class="attribute">default_type</span>  application/octet-stream;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '</span></span><br><span class="line">    <span class="comment">#                  '$status $body_bytes_sent "$http_referer" '</span></span><br><span class="line">    <span class="comment">#                  '"$http_user_agent" "$http_x_forwarded_for"';</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#access_log  logs/access.log  main;</span></span><br><span class="line"></span><br><span class="line">    <span class="attribute">sendfile</span>        <span class="literal">on</span>;</span><br><span class="line">    <span class="comment">#tcp_nopush     on;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#keepalive_timeout  0;</span></span><br><span class="line">    <span class="attribute">keepalive_timeout</span>  <span class="number">65</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#gzip  on;</span></span><br><span class="line"></span><br><span class="line">    <span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">listen</span>       <span class="number">80</span>;</span><br><span class="line">        <span class="attribute">server_name</span>  kxsw.jianwill.cn;</span><br><span class="line">        <span class="attribute">return</span> <span class="number">301</span> https://kxsw.jianwill.cn:443;</span><br><span class="line"></span><br><span class="line">        <span class="comment">#charset koi8-r;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#access_log  logs/host.access.log  main;</span></span><br><span class="line"></span><br><span class="line">        <span class="attribute">location</span> / &#123;</span><br><span class="line">            <span class="attribute">root</span>   /home/wwwroot/3DCEList;</span><br><span class="line">            <span class="attribute">index</span>  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">#error_page  404              /404.html;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># redirect server error pages to the static page /50x.html</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="attribute">error_page</span>   <span class="number">500</span> <span class="number">502</span> <span class="number">503</span> <span class="number">504</span>  /50x.html;</span><br><span class="line">        <span class="attribute">location</span> = /50x.html &#123;</span><br><span class="line">            <span class="attribute">root</span>   html;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># proxy the PHP scripts to Apache listening on 127.0.0.1:80</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment">#location ~ \.php$ &#123;</span></span><br><span class="line">        <span class="comment">#    proxy_pass   http://127.0.0.1;</span></span><br><span class="line">        <span class="comment">#&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment">#location ~ \.php$ &#123;</span></span><br><span class="line">        <span class="comment">#    root           html;</span></span><br><span class="line">        <span class="comment">#    fastcgi_pass   127.0.0.1:9000;</span></span><br><span class="line">        <span class="comment">#    fastcgi_index  index.php;</span></span><br><span class="line">        <span class="comment">#    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;</span></span><br><span class="line">        <span class="comment">#    include        fastcgi_params;</span></span><br><span class="line">        <span class="comment">#&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># deny access to .htaccess files, if Apache's document root</span></span><br><span class="line">        <span class="comment"># concurs with nginx's one</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment">#location ~ /\.ht &#123;</span></span><br><span class="line">        <span class="comment">#    deny  all;</span></span><br><span class="line">        <span class="comment">#&#125;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># another virtual host using mix of IP-, name-, and port-based configuration</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#server &#123;</span></span><br><span class="line">    <span class="comment">#    listen       8000;</span></span><br><span class="line">    <span class="comment">#    listen       somename:8080;</span></span><br><span class="line">    <span class="comment">#    server_name  somename  alias  another.alias;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#    location / &#123;</span></span><br><span class="line">    <span class="comment">#        root   html;</span></span><br><span class="line">    <span class="comment">#        index  index.html index.htm;</span></span><br><span class="line">    <span class="comment">#    &#125;</span></span><br><span class="line">    <span class="comment">#&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># HTTPS server</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">listen</span>       <span class="number">443</span> ssl http2;</span><br><span class="line">        <span class="attribute">server_name</span>  kxsw.jianwill.cn;</span><br><span class="line"></span><br><span class="line">        <span class="attribute">ssl_certificate</span>      /data/v2ray.crt;</span><br><span class="line">        <span class="attribute">ssl_certificate_key</span>  /data/v2ray.key;</span><br><span class="line"></span><br><span class="line">        <span class="attribute">ssl_session_cache</span>    shared:SSL:<span class="number">1m</span>;</span><br><span class="line">        <span class="attribute">ssl_session_timeout</span>  <span class="number">5m</span>;</span><br><span class="line"></span><br><span class="line">        <span class="attribute">ssl_ciphers</span>  HIGH:!aNULL:!MD5;</span><br><span class="line">        <span class="attribute">ssl_prefer_server_ciphers</span>  <span class="literal">on</span>;</span><br><span class="line">        <span class="attribute">ssl_protocols</span> TLSv1 TLSv1.<span class="number">1</span> TLSv1.<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">        <span class="attribute">location</span> / &#123;</span><br><span class="line">            <span class="attribute">root</span> /home/wwwroot/3DCEList;</span><br><span class="line">            <span class="attribute">index</span> index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="attribute">location</span> /8fded3d7/ &#123;</span><br><span class="line">            <span class="attribute">proxy_redirect</span> <span class="literal">off</span>;</span><br><span class="line">            <span class="attribute">proxy_pass</span> http://127.0.0.1:23188;</span><br><span class="line">            <span class="attribute">proxy_http_version</span> <span class="number">1</span>.<span class="number">1</span>;</span><br><span class="line">            <span class="attribute">proxy_set_header</span> Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">            <span class="attribute">proxy_set_header</span> Connection <span class="string">"upgrade"</span>;</span><br><span class="line">            <span class="attribute">proxy_set_header</span> Host <span class="variable">$http_host</span>;</span><br><span class="line">            <span class="attribute">proxy_intercept_errors</span> <span class="literal">on</span>;</span><br><span class="line">            <span class="attribute">if</span> (<span class="variable">$http_upgrade</span> = <span class="string">"websocket"</span> )&#123;</span><br><span class="line">               <span class="attribute">proxy_pass</span> http://127.0.0.1:23188;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="attribute">include</span> conf.d/<span class="regexp">*.conf</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ä¸Šä¼ nginx.confé…ç½®æ–‡ä»¶</strong><br>çª—å£å³ä¸Šè§’ï¼Œä¸Šä¼ æ–‡ä»¶ï¼Œä¸Šä¼ ååˆ°æ–‡ä»¶é»˜è®¤åœ¨ <code>/home/googleç”¨æˆ·å/</code> è·¯å¾„ä¸‹ï¼Œæ¯”å¦‚æˆ‘çš„æ˜¯ <code>/home/jian23333/</code></p><p><strong>æ‹·è´nginx.confåˆ°nginxé…ç½®ç›®å½•</strong></p><p><code>nginx</code> é…ç½®æ–‡ä»¶è·¯å¾„æ˜¯ <code>/etc/nginx/conf/</code></p><p>æ‰€ä»¥ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /home/jian23333/</span><br><span class="line">cp nginx.conf /etc/nginx/conf/</span><br><span class="line">// é»˜è®¤ä¼šç›´æ¥è¦†ç›–</span><br></pre></td></tr></table></figure><p>PSï¼š å¦‚æœä¸Šä¼ çš„æ—¶å€™ï¼Œå·²ç»å­˜åœ¨ <code>nginx.conf</code>ï¼Œä¸Šä¼ çš„æ–‡ä»¶ä¼šè¢«å‘½åä¸º <code>nginx_(n).conf</code>ï¼Œåé¢æ‰§è¡Œå‘½ä»¤çš„æ—¶å€™ <code>(</code> è¿™ä¸ªç¬¦å·å¯èƒ½ä¼šè¯†åˆ«æŠ¥é”™ï¼Œè¿™æ—¶å¯ä»¥åˆ æ‰åŸæ¥çš„æ‰€æœ‰ <code>nginx_(n).conf</code> æ–‡ä»¶ï¼Œé‡æ–°ä¸Šä¼ ï¼Œå°±å‘½åæˆ <code>nginx.conf</code> æ–‡ä»¶äº†ã€‚</p><p>åˆ é™¤å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /home/jian23333/</span><br><span class="line">rm *.conf</span><br></pre></td></tr></table></figure><p><strong>æ ¡éªŒå¹¶é‡æ–°å¯åŠ¨nginx</strong></p><ul><li>æ ¡éªŒï¼š<code>nginx -t</code></li></ul><ul><li>é‡æ–°å¯åŠ¨ï¼š<code>nginx -s reload</code></li></ul><ul><li>æŸ¥çœ‹nginxæ˜¯å¦å¯åŠ¨ï¼š<code>ps -ef | grep nginx</code>ï¼Œçœ‹æ˜¯å¦æœ‰ <code>master</code> çš„è¡Œ</li></ul><p>å¦‚æœæ ¡éªŒæŠ¥é”™ï¼Œæ ¹æ®é”™è¯¯æç¤ºï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ã€‚</p><p>å¯ä»¥ä½¿ç”¨ <code>vi /etc/nginx/conf/nginx.conf</code> ç›´æ¥ä¿®æ”¹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸Šé¢çš„æ–¹å¼ä¸‹è½½åˆ°æœ¬åœ°ï¼Œä¿®æ”¹ï¼Œå†ä¸Šä¼ çš„æ–¹å¼ã€‚</p><p>å¦‚æœæç¤º <code>nginx: command not found</code> ï¼Œå°±æ˜¯æ²¡æœ‰æŠŠ <code>nginx</code> é…ç½®åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼Œé‡æ–°æ‰§è¡Œä¸Šé¢çš„ <code>ç¬¬ä¸€æ­¥ï¼šæ·»åŠ nginxå‘½ä»¤åˆ°ç¯å¢ƒå˜é‡</code> å³å¯ã€‚</p><h4 id="å®‰è£…bbråŠ é€Ÿ"><a href="#å®‰è£…bbråŠ é€Ÿ" class="headerlink" title="å®‰è£…bbråŠ é€Ÿ"></a>å®‰è£…bbråŠ é€Ÿ</h4><p><strong>å®‰è£…bbr</strong></p><p>æ‰§è¡Œbbrä¸€é”®å®‰è£…è„šæœ¬</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate <span class="string">"https://raw.githubusercontent.com/chiakge/Linux-NetSpeed/master/tcp.sh"</span></span><br><span class="line">chmod +x tcp.sh</span><br><span class="line">./tcp.sh</span><br></pre></td></tr></table></figure><p>ä¾æ¬¡æ‰§è¡Œ<code>2-7</code>ï¼Œå³<code>å®‰è£…bbrPlus</code>ï¼Œ<code>ä½¿ç”¨bbrPlusåŠ é€Ÿ</code></p><p>å®‰è£…ä¹‹åä½¿ç”¨<code>./tcp.sh</code>å³å¯é‡å¤æ‰§è¡Œå‘½ä»¤</p><p><del>æœŸé—´ä¼šé‡å¯ä¸€æ¬¡ã€‚</del></p><p>ç»æµ‹è¯•ï¼Œå‘ç° <code>bbrPlus</code> æ¯” <code>bbr</code> åŠ é€Ÿæ•ˆæœæ›´å¥½ã€‚</p><p><strong>æ£€æŸ¥bbræ˜¯å¦å®‰è£…æˆåŠŸ</strong></p><ul><li><p>éªŒè¯å½“å‰<code>TCP</code>çš„æ§åˆ¶ç®—æ³•(<strong>æ˜¯å¦å®‰è£…<code>bbr</code></strong>)ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysctl net.ipv4.tcp_available_congestion_control</span><br></pre></td></tr></table></figure><p>è¿”å›å€¼ä¸€èˆ¬ä¸ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">net.ipv4.tcp_available_congestion_control = bbr cubic reno</span><br><span class="line">// æˆ–è€…</span><br><span class="line">net.ipv4.tcp_available_congestion_control = reno cubic bbr</span><br></pre></td></tr></table></figure></li><li><p>éªŒè¯<code>BBR</code>æ˜¯å¦å·²ç»å¯åŠ¨(<strong>æ˜¯å¦å¯åŠ¨<code>bbr</code></strong>)ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysctl net.ipv4.tcp_congestion_control</span><br></pre></td></tr></table></figure><p>è¿”å›å€¼ä¸€èˆ¬ä¸ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net.ipv4.tcp_congestion_control = bbr</span><br></pre></td></tr></table></figure></li><li><p>æˆ–è€…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsmod | grep bbr</span><br></pre></td></tr></table></figure><p>è¿”å›å€¼ä¸€èˆ¬ä¸ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// è¿”å›å€¼æœ‰tcp_bbrplus å³è¯´æ˜bbrå·²ç»å¯åŠ¨ã€‚</span><br><span class="line">// PSï¼šä½†ä¸æ˜¯æ‰€æœ‰vpséƒ½ä¼šæœ‰æ­¤è¿”å›å€¼ï¼Œæ²¡æœ‰ä¹Ÿæ­£å¸¸ã€‚</span><br><span class="line">tcp_bbrplus            20480  21</span><br></pre></td></tr></table></figure></li><li><p><strong>æ³¨æ„ï¼š</strong> <code>bbrPlus</code> æœ‰æ—¶å€™ä¼šè‡ªåŠ¨å¤±æ•ˆ(æ¯”å¦‚é‡å¯æœåŠ¡å™¨åï¼Ÿ)ï¼Œæ­¤æ—¶éœ€æ‰‹åŠ¨å†æ¬¡å¼€å¯<code>bbrPlus</code></p></li></ul><h4 id="å…¶ä»–é—®é¢˜"><a href="#å…¶ä»–é—®é¢˜" class="headerlink" title="å…¶ä»–é—®é¢˜"></a>å…¶ä»–é—®é¢˜</h4><p><strong>å¦‚æœè¦æ›´æ¢åŸŸåï¼Œå‘ç°åŸŸåè¯ä¹¦æ²¡æœ‰ä¸€èµ·æ›´æ–°æ€ä¹ˆåŠï¼Ÿ</strong></p><p><del>åˆ æ‰è¯ä¹¦æ–‡ä»¶ï¼Œé‡æ–°æ‰§è¡Œä¸€é”®å®‰è£…è„šæœ¬ï¼Œé€‰æ‹©é‡æ–°å®‰è£… <code>ws+tls+nginx</code></del></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// ä½œåºŸï¼ä½œåºŸï¼ä½œåºŸï¼</span><br><span class="line"><span class="built_in">cd</span> /data/</span><br><span class="line">rm v2ray.crt</span><br><span class="line">rm v2ray.key</span><br><span class="line">bash &lt;(curl -L -s https://raw.githubusercontent.com/wulabing/V2Ray_ws-tls_bash_onekey/master/install.sh) | tee v2ray_ins.log</span><br><span class="line">1</span><br></pre></td></tr></table></figure><p>ä¸€é”®å®‰è£…è„šæœ¬å·²æ›´æ–°å¹¶æ·»åŠ <strong>åˆ é™¤è¯ä¹¦é—ç•™æ–‡ä»¶</strong>åŠŸèƒ½ï¼Œæ‰§è¡Œä¸€é”®å®‰è£…è„šæœ¬ï¼Œé€‰æ‹©<code>16</code>å³å¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -L -s https://raw.githubusercontent.com/wulabing/V2Ray_ws-tls_bash_onekey/master/install.sh) | tee v2ray_ins.log</span><br><span class="line">16</span><br></pre></td></tr></table></figure><p><strong>å¦‚ä½•é‡å¯æœåŠ¡å™¨</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure><h3 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h3><p><code>bbr</code> åŠ é€Ÿåï¼Œ<code>youtube 4K 60fps</code> ï¼Œé€Ÿåº¦å¯ä»¥è¾¾åˆ° <code>170k Kbps</code>ï¼Œç½‘é€Ÿ <code>17m/s</code> ï¼ˆæˆ‘ç”¨çš„100Mç”µä¿¡ï¼Œç¨³å®š20k Kbpså°±å¯ä»¥æµç•…çœ‹ 4K 60fpsï¼‰ã€‚</p><p>æ‰€ä»¥ï¼Œç°åœ¨æ˜¯ <strong>ç§’å¼€4Kï¼Œ8K</strong></p><p><strong>ç”¨æˆ·ä½“æ£€æå¥½ï¼â€¦</strong></p><p><img src="/images/v2ray-1.jpg" alt></p><p><strong>è€Œä¸”è¿˜æœ‰ä¼ªè£…ä¸»é¡µ</strong>(httpsåŠ å¯†)</p><p>åœ°å€ä¸ºï¼š<a href="https://kxsw.jianwill.cn/" target="_blank" rel="noopener">kxsw.jianwill.cn</a></p><h3 id="ç›¸å…³èµ„æ–™ä»‹ç»"><a href="#ç›¸å…³èµ„æ–™ä»‹ç»" class="headerlink" title="ç›¸å…³èµ„æ–™ä»‹ç»"></a>ç›¸å…³èµ„æ–™ä»‹ç»</h3><p>æŠ˜è…¾äº†å‡ ä¸ªæœˆï¼Œå°è¯•äº†å¤šå®¶ä¾›åº”å•†ä¸åŒåœ°åŒºçš„æœåŠ¡å™¨ï¼Œ<code>vultr ç¾å›½ã€å·´é»ã€æ–°åŠ å¡ã€æ—¥æœ¬ç­‰</code>ï¼Œ<code>googleäº‘ é¦™æ¸¯ç­‰</code>ï¼Œä¸åŒçš„åè®® <code>tcpã€mckpä¼ªè£…BTä¸‹è½½ã€mkcpä¼ªè£…Facetimeç«¥è¯ã€mkcpä¼ªè£…å¾®ä¿¡è§†é¢‘ã€websocket</code>ï¼Œ<code>cdn</code>ï¼Œ<code>nginx</code> ç­‰å¤šç§æ–¹æ¡ˆï¼Œæœ€åå†³å®šä½¿ç”¨ <code>googleäº‘é¦™æ¸¯æœåŠ¡å™¨+ws+tls+nginx+ä¼ªè£…ä¸»é¡µ</code> çš„æ–¹å¼ã€‚</p><p>å‚è€ƒäº†å¾ˆå¤šèµ„æ–™ï¼Œè§†é¢‘ï¼Œä¸‹é¢ä¸ºå‡ ä¸ªä¸»è¦çš„ã€‚</p><ol><li><a href="https://www.youtube.com/watch?v=GrHEVhGoqK0&amp;list=PLFQSCKX4FTD7P0PYNTFkUA3Dd2BhatadZ&amp;index=3&amp;t=13s" target="_blank" rel="noopener">è§†é¢‘:v2ray+ws+tls+nginx</a></li><li><a href="https://briteming.blogspot.com/2019/01/v2ray-websocket-web-nginx.html" target="_blank" rel="noopener">æ–‡ç« :v2ray+ws+tls+nginxæ‰‹åŠ¨åŠä¸€é”®è„šæœ¬</a></li><li><a href="https://www.freenom.com/" target="_blank" rel="noopener">ç”³è¯·å…è´¹åŸŸåfroomon</a></li><li><a href="https://www.cloudflare.com/" target="_blank" rel="noopener">å…è´¹cdn cloudflare</a></li><li><a href="https://cloud.google.com/" target="_blank" rel="noopener">googleäº‘ gcp</a></li><li><a href="http://ping.chinaz.com/" target="_blank" rel="noopener">pingæµ‹è¯•</a></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç”±äºæŸäº›ä¼—æ‰€å‘¨çŸ¥çš„åŸå› ï¼Œemmmmmâ€¦.ï¼Œä¸ä¹…å‰çš„è¡€è‰²åæœˆï¼Œä¸€å¤§æ³¢æ¢¯å­è¢«å°äº†ã€‚æ¯«æ— æ„å¤–ï¼Œæˆ‘çš„ &lt;code&gt;ss&lt;/code&gt; ä¹Ÿè¢«å°äº†ï¼Œè€Œä¸”ä»é‚£ä¹‹åï¼Œ&lt;code&gt;ss&lt;/code&gt; å°±å˜å¾—ä¸å¥½ç”¨äº†ï¼Œé€Ÿåº¦æ…¢ï¼Œè¿˜ç»å¸¸ä¸Šä¸äº†ç½‘ã€‚&lt;/p&gt;&lt;p&gt;ç„¶åå§ï¼Œç ”ç©¶äº†ä¸‹ç›®å‰æ¯”è¾ƒä¸»æµçš„æ–¹å¼ &lt;code&gt;v2ray&lt;/code&gt; ï¼ŒåŒ…æ‹¬ &lt;code&gt;æ­å»ºæ–¹å¼&lt;/code&gt; ã€&lt;code&gt;é€Ÿåº¦ä¼˜åŒ–&lt;/code&gt;ã€&lt;code&gt;ipä¼ªè£…é˜²å°&lt;/code&gt; ç­‰ï¼Œå‘ç° &lt;code&gt;v2ray : ws + tls + nginx + cdn&lt;/code&gt; çš„æ–¹å¼é€Ÿåº¦å’Œä¼ªè£…æ€§éƒ½å¾ˆå¥½ã€‚&lt;/p&gt;&lt;p&gt;å†ç„¶åå§ï¼Œä»Šå¤©å°±æ€»ç»“ä¸€ä¸‹è¿™ä¸ªå¥½äº†â€¦..&lt;/p&gt;
    
    </summary>
    
      <category term="ä¸€èµ·å“ˆå•¤" scheme="http://jian2333.github.io/categories/%E4%B8%80%E8%B5%B7%E5%93%88%E5%95%A4/"/>
    
    
      <category term="v2ray" scheme="http://jian2333.github.io/tags/v2ray/"/>
    
      <category term="vpn" scheme="http://jian2333.github.io/tags/vpn/"/>
    
      <category term="ç§‘å­¦ä¸Šç½‘" scheme="http://jian2333.github.io/tags/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/"/>
    
  </entry>
  
  <entry>
    <title>ss + proxifier å®ç°vpnæ¸¸æˆä»£ç†</title>
    <link href="http://jian2333.github.io/2019/09/10/sstovpn/"/>
    <id>http://jian2333.github.io/2019/09/10/sstovpn/</id>
    <published>2019-09-10T14:40:54.000Z</published>
    <updated>2019-09-13T02:48:14.588Z</updated>
    
    <content type="html"><![CDATA[<p>ä¹‹å‰æ­è¿‡ä¸€ä¸ª <code>ss</code> (æ­å»ºæ•™ç¨‹å¯ä»¥å‚è€ƒ <a href="https://github.com/Alvin9999/new-pac/wiki/%E8%87%AA%E5%BB%BAss%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%95%99%E7%A8%8B" target="_blank" rel="noopener">è‡ªå»ºss/ssræœåŠ¡å™¨æ•™ç¨‹</a>)ï¼Œä½† <code>ss</code> åªèƒ½åœ¨æµè§ˆå™¨ä¸Šç”¨ï¼Œå¦‚æœæƒ³åƒ <code>vpn</code> ä¸€æ ·ä»£ç†æ¸¸æˆçš„è¯ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p>å¥½åœ¨è¿™ä¸ªé—®é¢˜å·²ç»æœ‰è§£å†³æ–¹æ¡ˆäº†ï¼Œå°±æ˜¯æ­é… <code>Proxifier</code> ä½¿ç”¨ã€‚</p><p>ä¸‹é¢ï¼Œå°±æ˜¯è®¾ç½® <code>Proxifier</code> çš„æ­¥éª¤ã€‚</p><a id="more"></a><h3 id="ä¸‹è½½-ss-å’Œ-Proxifier"><a href="#ä¸‹è½½-ss-å’Œ-Proxifier" class="headerlink" title="ä¸‹è½½ ss å’Œ Proxifier"></a>ä¸‹è½½ <code>ss</code> å’Œ <code>Proxifier</code></h3><p><strong>ä¸‹è½½ <code>ss</code></strong></p><ul><li><strong>Windows SSRå®¢æˆ·ç«¯</strong> ï¼š<a href="https://github.com/shadowsocksr-backup/shadowsocksr-csharp/releases" target="_blank" rel="noopener">ä¸‹è½½åœ°å€</a></li><li><strong>Mac SSRå®¢æˆ·ç«¯</strong> ï¼š<a href="https://github.com/shadowsocksr-backup/ShadowsocksX-NG/releases" target="_blank" rel="noopener">ä¸‹è½½åœ°å€</a></li></ul><p><strong>ä¸‹è½½ <code>Proxifier</code></strong></p><ul><li><strong>Windows ä¾¿æºç‰ˆ</strong> ï¼š<a href="https://www.proxifier.com/distr/ProxifierPE.zip" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></li><li><strong>Windows å®‰è£…ç‰ˆ</strong> ï¼š<a href="https://www.proxifier.com/distr/ProxifierSetup.exe" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></li><li><strong>Macç‰ˆ</strong> ï¼š<a href="https://www.proxifier.com/distr/ProxifierMac.zip" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></li></ul><h3 id="å®ç°æ­¥éª¤"><a href="#å®ç°æ­¥éª¤" class="headerlink" title="å®ç°æ­¥éª¤"></a>å®ç°æ­¥éª¤</h3><h4 id="å¯åŠ¨ss"><a href="#å¯åŠ¨ss" class="headerlink" title="å¯åŠ¨ss"></a>å¯åŠ¨ss</h4><p>å¯åŠ¨å¹¶è®¾ç½®å¥½ <code>ss</code> ï¼Œä¿è¯èƒ½æ­£å¸¸è¿è¡Œå³å¯ã€‚</p><h4 id="å¯åŠ¨å¹¶è®¾ç½®-Proxifier"><a href="#å¯åŠ¨å¹¶è®¾ç½®-Proxifier" class="headerlink" title="å¯åŠ¨å¹¶è®¾ç½® Proxifier"></a>å¯åŠ¨å¹¶è®¾ç½® <code>Proxifier</code></h4><p>å¯åŠ¨ <code>Proxifier</code> åï¼Œè¦é…ç½®ä»¥ä¸‹ä¸‰ä¸ªæ­¥éª¤ï¼š</p><ul><li>ä»£ç†æœåŠ¡å™¨è®¾ç½®</li><li>ä»£ç†è§„åˆ™è®¾ç½®</li><li>åŸŸåè§£æè®¾ç½®</li></ul><h5 id="ä»£ç†æœåŠ¡å™¨è®¾ç½®"><a href="#ä»£ç†æœåŠ¡å™¨è®¾ç½®" class="headerlink" title="ä»£ç†æœåŠ¡å™¨è®¾ç½®"></a>ä»£ç†æœåŠ¡å™¨è®¾ç½®</h5><ul><li><code>profile</code> â€“&gt; <code>Proxy Servers</code></li><li>æ·»åŠ  <code>Server</code></li><li>è®¾ç½® <code>Address</code> å’Œ <code>Port</code></li><li>ä¿®æ”¹ <code>Protocol</code></li><li><code>Check</code></li><li><code>OK</code></li></ul><p><img src="/images/sspro-1.jpg" alt></p><p><img src="/images/sspro-2.jpg" alt></p><h5 id="ä»£ç†è§„åˆ™è®¾ç½®"><a href="#ä»£ç†è§„åˆ™è®¾ç½®" class="headerlink" title="ä»£ç†è§„åˆ™è®¾ç½®"></a>ä»£ç†è§„åˆ™è®¾ç½®</h5><ul><li><code>profile</code> â€“&gt; <code>Proxification Rules</code></li><li>è®¾ç½® <code>Localhost</code></li><li>è®¾ç½® <code>éœ€è¦ä»£ç†çš„æ¸¸æˆ</code>ï¼Œæ¯”å¦‚ <code>GTAV</code></li><li>è®¾ç½® <code>é»˜è®¤è¿æ¥æ–¹å¼</code></li></ul><p><img src="/images/sspro-3.jpg" alt></p><p><img src="/images/sspro-4.jpg" alt></p><p><img src="/images/sspro-5.jpg" alt></p><h5 id="åŸŸåè§£æè®¾ç½®"><a href="#åŸŸåè§£æè®¾ç½®" class="headerlink" title="åŸŸåè§£æè®¾ç½®"></a>åŸŸåè§£æè®¾ç½®</h5><ul><li><code>profile</code> â€“&gt; <code>Name Resolution</code></li><li>è®¾ç½® <code>é€šè¿‡ä»£ç†æœåŠ¡å™¨è§£æåŸŸå</code></li><li>è®¾ç½® <code>ä¸è§£æä»¥ä¸‹ä¸»æœº</code></li></ul><p><img src="/images/sspro-6.jpg" alt></p><h3 id="æ•ˆæœå›¾"><a href="#æ•ˆæœå›¾" class="headerlink" title="æ•ˆæœå›¾"></a>æ•ˆæœå›¾</h3><p>ä¸‹é¢æ˜¯ <code>ss</code> + <code>Proxifier</code> ä»£ç†åï¼Œå¯åŠ¨ <code>GTAV</code> çš„æ•ˆæœå›¾</p><p><img src="/images/sspro-7.jpg" alt></p><p>ç„¶åï¼Œç»ˆäºå¯ä»¥æ„‰å¿«çš„ä½“éªŒ <strong>GTAV èµŒåœºDLC</strong> äº†â€¦</p><p>(æ‰‹åŠ¨ç‹—å¤´ï¼Œæ»‘é¸¡!)</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¹‹å‰æ­è¿‡ä¸€ä¸ª &lt;code&gt;ss&lt;/code&gt; (æ­å»ºæ•™ç¨‹å¯ä»¥å‚è€ƒ &lt;a href=&quot;https://github.com/Alvin9999/new-pac/wiki/%E8%87%AA%E5%BB%BAss%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%95%99%E7%A8%8B&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;è‡ªå»ºss/ssræœåŠ¡å™¨æ•™ç¨‹&lt;/a&gt;)ï¼Œä½† &lt;code&gt;ss&lt;/code&gt; åªèƒ½åœ¨æµè§ˆå™¨ä¸Šç”¨ï¼Œå¦‚æœæƒ³åƒ &lt;code&gt;vpn&lt;/code&gt; ä¸€æ ·ä»£ç†æ¸¸æˆçš„è¯ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ&lt;/p&gt;&lt;p&gt;å¥½åœ¨è¿™ä¸ªé—®é¢˜å·²ç»æœ‰è§£å†³æ–¹æ¡ˆäº†ï¼Œå°±æ˜¯æ­é… &lt;code&gt;Proxifier&lt;/code&gt; ä½¿ç”¨ã€‚&lt;/p&gt;&lt;p&gt;ä¸‹é¢ï¼Œå°±æ˜¯è®¾ç½® &lt;code&gt;Proxifier&lt;/code&gt; çš„æ­¥éª¤ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="ä¸€èµ·å“ˆå•¤" scheme="http://jian2333.github.io/categories/%E4%B8%80%E8%B5%B7%E5%93%88%E5%95%A4/"/>
    
    
      <category term="vpn" scheme="http://jian2333.github.io/tags/vpn/"/>
    
      <category term="ss" scheme="http://jian2333.github.io/tags/ss/"/>
    
  </entry>
  
  <entry>
    <title>æ­£åˆ™è¡¨è¾¾å¼</title>
    <link href="http://jian2333.github.io/2019/09/05/regexp/"/>
    <id>http://jian2333.github.io/2019/09/05/regexp/</id>
    <published>2019-09-05T14:51:00.000Z</published>
    <updated>2020-03-18T07:55:22.686Z</updated>
    
    <content type="html"><![CDATA[<style>table{width:auto}</style><p>ç ”ç©¶äº†ä¸€ä¸‹æ­£åˆ™è¡¨è¾¾å¼</p><p>ç†è§£çš„ä¸æ·±ï¼Œä½†ä¹Ÿæœ‰äº›å¿ƒå¾—</p><p>æ‰€ä»¥</p><p>åšä¸ªæ€»ç»“ï½</p><p>å“ˆå“ˆå“ˆ</p><a id="more"></a><h3 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><p>æ­£åˆ™è¡¨è¾¾å¼åœ¨ä¸åŒçš„è¯­è¨€æœ‰ä¸åŒçš„ä½¿ç”¨æ–¹æ³•</p><p>ä¸€èˆ¬éƒ½æ˜¯ <code>/^xxxx$/</code></p><p>å…¶ä¸­ï¼š</p><ul><li><code>//</code> ï¼šä»£è¡¨é‡Œé¢æ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…è§„åˆ™</li><li><code>^</code> ï¼šè¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼çš„å¼€å§‹</li><li><code>$</code> ï¼šè¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼çš„ç»“æŸ</li><li><code>xxx</code> ï¼š ä½äº <code>^</code> å’Œ <code>$</code> ä¹‹é—´çš„ä¸ºæ­£åˆ™è¡¨è¾¾å¼è§„åˆ™ï¼Œç”¨äºåŒ¹é…å­—ç¬¦ä¸²ç­‰</li></ul><h3 id="ç†è§£"><a href="#ç†è§£" class="headerlink" title="ç†è§£"></a>ç†è§£</h3><p>è¯´å‡ ä¸ªè‡ªèº«çš„ç†è§£å§</p><h4 id="ç‰¹æ®Šå­—ç¬¦"><a href="#ç‰¹æ®Šå­—ç¬¦" class="headerlink" title="ç‰¹æ®Šå­—ç¬¦"></a>ç‰¹æ®Šå­—ç¬¦</h4><table><thead><tr><th style="text-align:center">ç¬¦å·</th><th style="text-align:left">ä½œç”¨</th></tr></thead><tbody><tr><td style="text-align:center">^</td><td style="text-align:left">å¼€å§‹æ ‡è¯†ã€‚æ–¹æ‹¬å· <code>[ ]</code> ä¸­è¡¨ç¤ºä¸åŒ…å«å¯¹åº”çš„é›†åˆ</td></tr><tr><td style="text-align:center">$</td><td style="text-align:left">ç»“æŸæ ‡è¯†</td></tr><tr><td style="text-align:center">[ ]</td><td style="text-align:left">ç”¨äºåŒ¹é…å…·ä½“çš„å€¼ï¼Œæ¯”å¦‚ <code>[A-Z] [A-Za-z] [0-9]</code></td></tr><tr><td style="text-align:center">( )</td><td style="text-align:left">ç”¨äºæ•´ç†è¡¨è¾¾å¼ï¼Œç¡®å®šåŒ¹é…çš„ä¼˜å…ˆçº§ï¼Œç±»ä¼¼æ•°å­¦ä¸­çš„ <code>()</code><br>ç”¨äºåˆ†ç»„ï¼Œå¯ç”¨$1ï¼Œ$2 â€¦ è·å–å¯¹åº”åˆ†ç»„é‡Œçš„å†…å®¹</td></tr><tr><td style="text-align:center">{ }</td><td style="text-align:left">ç”¨äºè®¾ç½®åŒ¹é…æ¬¡æ•°ï¼Œå¦‚æœªè®¾ç½®ï¼Œ<strong>é»˜è®¤ä¸º1æ¬¡</strong></td></tr><tr><td style="text-align:center">[ç«–æ†]</td><td style="text-align:left">åŒ¹é…ä¸¤è€…ä¸­çš„ä¸€ä¸ªï¼Œéœ€ç”¨æ‹¬å·æ‹¬èµ·æ¥ï¼Œæ¯”å¦‚ <code>(0[ç«–æ†][1-9][0-9]*)</code></td></tr><tr><td style="text-align:center">\</td><td style="text-align:left">è½¬ä¹‰å­—ç¬¦</td></tr><tr><td style="text-align:center">.</td><td style="text-align:left">åŒ¹é…é™¤æ¢è¡Œç¬¦ <code>\n</code> ä¹‹å¤–çš„ä»»ä½•å•å­—ç¬¦ã€‚è¦åŒ¹é… <code>.</code> ï¼Œè¯·ä½¿ç”¨ <code>\.</code></td></tr></tbody></table><h4 id="é™å®šç¬¦"><a href="#é™å®šç¬¦" class="headerlink" title="é™å®šç¬¦"></a>é™å®šç¬¦</h4><p>æœªä½¿ç”¨é™å®šç¬¦æ—¶ï¼Œ<strong>é»˜è®¤åŒ¹é…1æ¬¡</strong></p><table><thead><tr><th style="text-align:center">ç¬¦å·</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td style="text-align:center">*</td><td>åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼<strong>é›¶æ¬¡æˆ–å¤šæ¬¡</strong>ã€‚ä¾‹å¦‚ï¼Œzo<em> èƒ½åŒ¹é…â€zâ€ ä»¥åŠ â€œzooâ€ã€‚</em> ç­‰ä»·äº{0,}ã€‚</td></tr><tr><td style="text-align:center">+</td><td>åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼<strong>ä¸€æ¬¡æˆ–å¤šæ¬¡</strong>ã€‚ä¾‹å¦‚ï¼Œâ€™zo+â€™ èƒ½åŒ¹é… â€œzoâ€ ä»¥åŠ â€œzooâ€ï¼Œä½†ä¸èƒ½åŒ¹é… â€œzâ€ã€‚+ ç­‰ä»·äº {1,}ã€‚</td></tr><tr><td style="text-align:center">ï¼Ÿ</td><td>åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼<strong>é›¶æ¬¡æˆ–ä¸€æ¬¡</strong>ã€‚ä¾‹å¦‚ï¼Œâ€do(es)?â€ å¯ä»¥åŒ¹é… â€œdoâ€ ã€ â€œdoesâ€ ä¸­çš„ â€œdoesâ€ ã€ â€œdoxyâ€ ä¸­çš„ â€œdoâ€ ã€‚? ç­‰ä»·äº {0,1}ã€‚</td></tr><tr><td style="text-align:center">{n}</td><td>n æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚åŒ¹é…ç¡®å®šçš„ n æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€™o{2}â€™ ä¸èƒ½åŒ¹é… â€œBobâ€ ä¸­çš„ â€˜oâ€™ï¼Œä½†æ˜¯èƒ½åŒ¹é… â€œfoodâ€ ä¸­çš„ä¸¤ä¸ª oã€‚</td></tr><tr><td style="text-align:center">{n,}</td><td>n æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚è‡³å°‘åŒ¹é…n æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€™o{2,}â€™ ä¸èƒ½åŒ¹é… â€œBobâ€ ä¸­çš„ â€˜oâ€™ï¼Œä½†èƒ½åŒ¹é… â€œfooooodâ€ ä¸­çš„æ‰€æœ‰ oã€‚â€™o{1,}â€™ ç­‰ä»·äº â€˜o+â€™ã€‚â€™o{0,}â€™ åˆ™ç­‰ä»·äº â€˜o*â€™ã€‚</td></tr><tr><td style="text-align:center">{n,m}</td><td>m å’Œ n å‡ä¸ºéè´Ÿæ•´æ•°ï¼Œå…¶ä¸­n &lt;= mã€‚æœ€å°‘åŒ¹é… n æ¬¡ä¸”æœ€å¤šåŒ¹é… m æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€o{1,3}â€ å°†åŒ¹é… â€œfoooooodâ€ ä¸­çš„å‰ä¸‰ä¸ª oã€‚â€™o{0,1}â€™ ç­‰ä»·äº â€˜o?â€™ã€‚è¯·æ³¨æ„åœ¨é€—å·å’Œä¸¤ä¸ªæ•°ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ã€‚</td></tr></tbody></table><h4 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h4><ul><li><p><code>\d</code> ï¼šæ•°å­—</p></li><li><p>å¤§å†™ä¸ºåŸæ¥çš„åçš„å€¼ï¼š<code>\D</code> ï¼šé™¤æ•°å­—ä¹‹å¤–çš„æ‰€æœ‰å€¼</p></li><li><p>$1, $2â€¦ ï¼šç”¨äºè·å– <code>()</code> å¯¹åº”åˆ†ç»„é‡Œçš„å†…å®¹ï¼Œåœ¨ <code>replace</code> ç­‰åœ°æ–¹å¾ˆå¸¸è§ã€‚</p><ul><li><p>æ¯”å¦‚å¯ä»¥ç”¨ <code>$1,$2,$3</code> è·å–å¹´æœˆæ—¥ï¼š<code>/^(\d{4})[\/-](\d{1,2})[\/-](\d{1,2})$/</code> ã€‚</p></li><li><p><code>&#39;2020/01/16&#39;.replace(/^(\d{4})[\/-](\d{1,2})[\/-](\d{1,2})$/, &#39;$1-$2-$3&#39;)</code></p><p><img src="/images/reg-1.jpg" alt></p></li></ul></li></ul><h3 id="å¸¸ç”¨ğŸŒ°"><a href="#å¸¸ç”¨ğŸŒ°" class="headerlink" title="å¸¸ç”¨ğŸŒ°"></a>å¸¸ç”¨ğŸŒ°</h3><ul><li><strong>0å’Œé0å¼€å¤´çš„çº¯æ•°å­—</strong> ï¼š<code>/^(0|[1-9][0-9]*)$/</code></li><li><strong>é0å¼€å¤´çš„æœ€å¤šå¸¦ä¸¤ä½å°æ•°çš„æ•°å­—</strong> ï¼š<code>/^([1-9][0-9]*)+(\.[0-9]{1,2})?$/</code></li><li><strong>å¸¦1ï½2ä½å°æ•°çš„æ­£æ•°æˆ–è´Ÿæ•°</strong> ï¼š<code>/^(-)?([1-9][0-9]*)(\.d{1,2})?$/</code></li><li><strong>éè´Ÿçš„æ•´æ•°æˆ–æœ€å¤š2ä½å°æ•°çš„æ•°å­—(0.0, 0.00 æœªè¿‡æ»¤æ‰)</strong> ï¼š<code>/^(0|([1-9][0-9]*))(\.[0-9]{1,2})?$/</code></li><li><strong>éè´Ÿçš„æ•´æ•°æˆ–æœ€å¤š2ä½å°æ•°çš„æ•°å­—+2ä½å­—æ¯(0.0, 0.00åŠåŠ å­—æ¯ æœªè¿‡æ»¤æ‰)</strong> ï¼š<code>/^(0|[1-9][0-9]*)(\.[0-9]{1,2})?([A-Za-z]{1,2})?$/</code></li></ul><h3 id="æ¨èèµ„æ–™"><a href="#æ¨èèµ„æ–™" class="headerlink" title="æ¨èèµ„æ–™"></a>æ¨èèµ„æ–™</h3><ul><li><a href="https://www.cnblogs.com/zxin/archive/2013/01/26/2877765.html" target="_blank" rel="noopener">1. å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼å¤§å…¨</a></li><li><a href="https://www.runoob.com/regexp/regexp-syntax.html" target="_blank" rel="noopener">2. æ­£åˆ™è¡¨è¾¾å¼ - èœé¸Ÿæ•™ç¨‹</a></li><li><a href="https://www.baidufe.com/fehelper/regexp/index.html" target="_blank" rel="noopener">3. FeHelper</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;style&gt;table{width:auto}&lt;/style&gt;&lt;p&gt;ç ”ç©¶äº†ä¸€ä¸‹æ­£åˆ™è¡¨è¾¾å¼&lt;/p&gt;&lt;p&gt;ç†è§£çš„ä¸æ·±ï¼Œä½†ä¹Ÿæœ‰äº›å¿ƒå¾—&lt;/p&gt;&lt;p&gt;æ‰€ä»¥&lt;/p&gt;&lt;p&gt;åšä¸ªæ€»ç»“ï½&lt;/p&gt;&lt;p&gt;å“ˆå“ˆå“ˆ&lt;/p&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="åç«¯" scheme="http://jian2333.github.io/tags/%E5%90%8E%E7%AB%AF/"/>
    
      <category term="webå‰ç«¯" scheme="http://jian2333.github.io/tags/web%E5%89%8D%E7%AB%AF/"/>
    
      <category term="æ­£åˆ™è¡¨è¾¾å¼" scheme="http://jian2333.github.io/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>nginxå­¦ä¹ ï¼ˆ1ï¼‰</title>
    <link href="http://jian2333.github.io/2019/08/25/nginx-1/"/>
    <id>http://jian2333.github.io/2019/08/25/nginx-1/</id>
    <published>2019-08-25T09:08:41.000Z</published>
    <updated>2019-09-01T15:17:03.669Z</updated>
    
    <content type="html"><![CDATA[<p>å› ä¸ºå…¬å¸çš„éœ€è¦ï¼Œç½‘ç«™éœ€è¦æ¥å…¥ç½‘å…³ï¼Œå¯¹åŸŸåæœ‰æ ¡éªŒ</p><p>äºæ˜¯ç ”ç©¶äº†ä¸€ä¸‹ <code>nginx</code> å’Œ <code>ä»£ç†</code></p><p>å‘ç°è¿˜æŒºå¥½ç©çš„ã€‚ã€‚</p><p>ç„¶åï¼Œ</p><p>å°±æ€»ç»“äº†ä¸€ä¸‹è¿™ä»½</p><p><strong>nginx-1 ï¼</strong></p><a id="more"></a><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p><code>nginx</code> çš„åŠŸèƒ½å¤ªå¤šï¼Œç®€å•æ¥è¯´å°±æ˜¯å¯ä»¥<strong>é…ç½®ç›¸åº”çš„æœåŠ¡å™¨</strong>ã€‚</p><p>å¯ä»¥é…ç½®åŒ…æ‹¬ä½†ä¸é™äºï¼š</p><ul><li>ä»£ç†</li><li>åŸŸåè¿‡æ»¤</li><li>IPè¿‡æ»¤</li><li>ç­‰ç­‰å…¶ä»–ï¼Œå…·ä½“å¯ä»¥å‚è€ƒ <a href="http://www.nginx.cn/doc/" target="_blank" rel="noopener">ä¸­æ–‡æ–‡æ¡£</a> ä»¥åŠ <a href="https://docs.nginx.com/nginx/" target="_blank" rel="noopener">è‹±æ–‡æ–‡æ¡£</a></li></ul><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>mac å®‰è£… <code>nginx</code> å¾ˆç®€å•ï¼Œå…ˆå®‰è£… <code>homebrew</code> ï¼Œç„¶åå®‰è£… <code>nginx</code></p><h4 id="å®‰è£…-homebrew"><a href="#å®‰è£…-homebrew" class="headerlink" title="å®‰è£… homebrew"></a>å®‰è£… <code>homebrew</code></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ruby -e <span class="string">"<span class="variable">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>"</span></span><br></pre></td></tr></table></figure><p>å‡ºç°ä»¥ä¸‹ <code>log</code> è¡¨ç¤ºå®‰è£…å®Œæˆäº†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Installation successful!</span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ <code>homebrew</code> çš„ç‰ˆæœ¬</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">brew -v</span><br><span class="line">Homebrew 2.1.7</span><br><span class="line">Homebrew/homebrew-core (git revision 270f; last commit 2019-07-18)</span><br></pre></td></tr></table></figure><h4 id="å¸¸ç”¨çš„-brew-å‘½ä»¤"><a href="#å¸¸ç”¨çš„-brew-å‘½ä»¤" class="headerlink" title="å¸¸ç”¨çš„ brew å‘½ä»¤"></a>å¸¸ç”¨çš„ <code>brew</code> å‘½ä»¤</h4><ul><li>brew æœç´¢è½¯ä»¶ ï¼š<code>brew search nginx</code></li><li>brew å®‰è£…è½¯ä»¶ ï¼š<code>brew install nginx</code></li><li>brew å¸è½½è½¯ä»¶ ï¼š<code>brew uninstall nginx</code></li><li>brew å‡çº§ ï¼š<code>sudo brew update</code></li><li>brew æŸ¥çœ‹å®‰è£…ä¿¡æ¯ ï¼š<code>sudo brew info nginx</code></li><li>brew æŸ¥çœ‹å·²å®‰è£…è½¯ä»¶ ï¼š<code>brew list</code></li></ul><h4 id="å®‰è£…-nginx"><a href="#å®‰è£…-nginx" class="headerlink" title="å®‰è£… nginx"></a>å®‰è£… <code>nginx</code></h4><p>å®‰è£… <code>nginx</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo brew install nginx</span><br></pre></td></tr></table></figure><p>å¯åŠ¨ <code>nginx</code> æœåŠ¡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo brew services start nginx</span><br></pre></td></tr></table></figure><p>åˆ©ç”¨ <code>http://localhost:8080</code> è¿›è¡Œè®¿é—®ï¼Œå¦‚æœå‡ºç°å¦‚ä¸‹é¡µé¢ï¼Œè¯´æ˜ <code>nginx</code> å¯åŠ¨æˆåŠŸ</p><p><img src="/images/nginx1-1.jpg" alt></p><p><strong>ç›¸å…³ æ–‡ä»¶åœ°å€</strong></p><ul><li><strong>host</strong> ï¼š<code>/private/etc/hosts</code></li><li><strong>nginx</strong> ï¼š<ul><li>æ–‡ä»¶é…ç½®è·¯å¾„ï¼š<code>/usr/local/etc/nginx/nginx.conf</code></li><li>æœåŠ¡å™¨é»˜è®¤è·¯å¾„ï¼š<code>usr/local/var/www</code></li><li>å®‰è£…è·¯å¾„ï¼š<code>/usr/local/Caller/nginx/1.17.1</code></li></ul></li></ul><h4 id="å¸¸ç”¨çš„-nginx-å‘½ä»¤"><a href="#å¸¸ç”¨çš„-nginx-å‘½ä»¤" class="headerlink" title="å¸¸ç”¨çš„ nginx å‘½ä»¤"></a>å¸¸ç”¨çš„ <code>nginx</code> å‘½ä»¤</h4><p><strong>åœ¨ä»»æ„è·¯å¾„ä¸‹æ‰§è¡Œéƒ½å¯ä»¥ï¼ ğŸ¤ª</strong></p><ul><li>å¯åŠ¨ï¼š<code>nginx</code> / <code>nginx -c /usr/local/etc/nginx/nginx.conf</code></li><li>æ›´æ–°é…ç½®æ–‡ä»¶åé‡å¯ï¼š<code>nginx -s reload</code></li><li>æ ¡éªŒé…ç½®æ–‡ä»¶ï¼š<code>nginx -t</code></li><li>åœæ­¢ï¼š<ul><li>å¿«é€Ÿåœæ­¢ï¼š<code>nginx -s stop</code></li><li>æ­£å¸¸åœæ­¢(æ‰§è¡Œå®Œå½“å‰é˜Ÿåˆ—)ï¼š<code>nginx -s quit</code></li></ul></li><li>æŸ¥çœ‹æ˜¯å¦å¯åŠ¨ <code>nginx</code>ï¼š<ul><li><code>ps -ef|grep nginx</code> ï¼šæŸ¥çœ‹æ˜¯å¦æœ‰ <code>master</code> çš„è¿›ç¨‹</li><li>è®°ä½ <strong>ç¬¬äºŒåˆ—</strong> çš„ <code>pid</code> å· xxxï¼Œå¯ä»¥ç”¨æ¥ <strong>æ€è¿›ç¨‹</strong></li></ul></li><li>åœæ­¢(æ€æ‰è¿›ç¨‹)ï¼š<ul><li>å¿«é€Ÿåœæ­¢(ç«‹åˆ»)ï¼š<code>kill -TERM xxx</code></li><li>æ­£å¸¸åœæ­¢ï¼š<code>kill -QUIT xxx</code></li><li>å’Œä¸Šé¢ä¸€æ ·ï¼š<code>kill -INT xxx</code></li></ul></li></ul><h3 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h3><p>è¿™é‡Œä¸»è¦è¯´ä¸‹ï¼Œåœ¨å…¬å¸ç”¨åˆ°çš„ï¼Œ<strong>ä»£ç†</strong></p><h4 id="ä»£ç†"><a href="#ä»£ç†" class="headerlink" title="ä»£ç†"></a>ä»£ç†</h4><p><strong>éœ€æ±‚</strong></p><p>å…¬å¸çš„åç«¯æ¥å…¥äº†ç½‘å…³ï¼Œå¯¹åŸŸåæœ‰æ ¡éªŒï¼Œåªæœ‰ç¬¦åˆè§„åˆ™çš„åŸŸåæ‰èƒ½è°ƒç”¨ç½‘å…³</p><p>äºæ˜¯ï¼Œæœ¬åœ°å¼€å‘çš„æ—¶å€™ï¼Œå¦‚æœç”¨ <code>http://localhost:3001</code> å»è°ƒå¼€å‘ç¯å¢ƒçš„åç«¯ï¼Œä¼šå¤±è´¥ï¼Œå› ä¸ºé€šè¿‡ä¸äº†ç½‘å…³</p><p>æ‰€ä»¥ï¼Œéœ€è¦åšä¸€ä¸ªä»£ç†ï¼Œä»£ç† <code>xxx.ym</code> åŸŸåï¼Œå½“è°ƒç”¨ <code>/</code> çš„æ—¶å€™è°ƒæœ¬åœ°çš„å‰ç«¯ï¼Œå½“è°ƒç”¨ <code>/api</code> çš„æ—¶å€™è°ƒæœåŠ¡å™¨ä¸Šçš„åç«¯ï¼Œè¿™æ ·å°±èƒ½å’Œå¼€å‘ç¯å¢ƒçš„åç«¯è¿è°ƒäº†</p><p><strong>æ­¥éª¤</strong></p><p>ä¸Šé¢è¯´äº†éœ€æ±‚ï¼Œé‚£å¦‚æœè¦å®ç°è¿™æ ·æ•ˆæœï¼Œæˆ‘ä»¬è¦æ‰§è¡Œä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p><ul><li>é…ç½® <code>host</code> æ–‡ä»¶</li><li>é…ç½® <code>nginx.conf</code> æ–‡ä»¶</li><li>å¯åŠ¨ <code>nginx</code></li><li>å¯åŠ¨ <code>å‰ç«¯å¼€å‘ç¯å¢ƒ</code></li><li>ä½¿ç”¨ <code>http://xxx.ym</code> åœ°å€è¿›è¡Œæµ‹è¯•</li></ul><p><code>é…ç½® host æ–‡ä»¶</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># host æ–‡ä»¶</span><br><span class="line">127.0.0.1 xxx.ym</span><br></pre></td></tr></table></figure><p><code>é…ç½® nginx.conf æ–‡ä»¶</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"># nginx.conf æ–‡ä»¶</span><br><span class="line">server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  xxx.ym;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">            proxy_pass   http://127.0.0.1:3001;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        location /api &#123;</span><br><span class="line">            proxy_pass   http://10.1.0.67:9523;</span><br><span class="line">            proxy_set_header Host xxx.yy.ym;</span><br><span class="line">            proxy_set_header X-Forward-For $remote_addr;</span><br><span class="line">        &#125;</span><br><span class="line">        location /oba3/api &#123;</span><br><span class="line">            proxy_pass   http://10.1.0.67:9523;</span><br><span class="line">            proxy_set_header Host xxx.yy.ym;</span><br><span class="line">            proxy_set_header X-Forward-For $remote_addr;</span><br><span class="line">        &#125;</span><br><span class="line">        error_page   500 502 503 504  /50x.html;</span><br><span class="line">        location = /50x.html &#123;</span><br><span class="line">            root   html;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p><code>å¯åŠ¨æˆ–é‡å¯ nginx</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// å¯åŠ¨</span><br><span class="line">nginx</span><br><span class="line">// æˆ–é‡å¯</span><br><span class="line">nginx -s reload</span><br><span class="line">// æˆ–å…ˆæ ¡éªŒæ–‡ä»¶æ­£ç¡®æ€§ï¼Œå†é‡å¯</span><br><span class="line">nginx -t</span><br><span class="line">nginx -s reload</span><br></pre></td></tr></table></figure><p><code>å¯åŠ¨å‰ç«¯ç¯å¢ƒ</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /xxxx</span><br><span class="line">npm run dev</span><br></pre></td></tr></table></figure><p><code>æ‰“å¼€ç½‘ç«™</code></p><p>åœ¨æµè§ˆå™¨è¾“å…¥ <code>http://xxx.ym</code> æ‰“å¼€å°±å¯ä»¥å•¦</p><h4 id="æ­é…-host-æ–‡ä»¶"><a href="#æ­é…-host-æ–‡ä»¶" class="headerlink" title="æ­é… host æ–‡ä»¶"></a>æ­é… <code>host</code> æ–‡ä»¶</h4><p>æ­é… <code>host</code> æ–‡ä»¶ï¼Œå¯ä»¥åœ¨æœ¬åœ° <strong>æ‰“å¼€ä»»æ„åŸŸåï¼Œè·³è½¬åˆ°ä»»æ„æƒ³è·³è½¬çš„åœ°å€</strong>ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºè·³è½¬åˆ° <code>https://www.google.com</code>ï¼Œ<code>https://www.baidu.com</code>ï¼Œ<code>http://localhost:4000</code> ç­‰ä»»æ„åœ°å€ã€‚</p><p>æˆ‘ä»¬å¯ä»¥è¿™æ ·ç†è§£ï¼š</p><ul><li><p>å¤šä¸ª <code>serverå—</code> æ‰ä¼šåŒ¹é… <code>server_name</code> ï¼Œ1ä¸ªè¯ä¸åŒ¹é…ç›´æ¥ä½¿ç”¨</p></li><li><p><code>nginx</code> æ˜¯æœåŠ¡å™¨ä¸Šç”¨çš„ï¼Œæ‰€ä»¥æƒ³åƒæˆæœåŠ¡å™¨çš„è¯ï¼Œ1ä¸ªæœåŠ¡å™¨æœ‰1ä¸ªipï¼Œä½†æ˜¯å¯ä»¥æœ‰å¤šä¸ª åŸŸå è§£ææˆè¿™ä¸ªipï¼Œæ‰€ä»¥å½“ä¸åŒçš„åŸŸåè®¿é—®è¿™ä¸ªæœåŠ¡å™¨çš„æ—¶å€™ï¼Œæ€ä¹ˆåŒºåˆ†ä¸åŒçš„åŸŸåå‘¢ï¼Ÿï¼Œäºæ˜¯ï¼Œ <code>server_name</code> è¿™ä¸ªå­—æ®µå°±å‡ºç°äº†ï¼Œå®ƒå¯ä»¥ä½¿ç”¨ <strong>æ­£åˆ™å’Œé€šé…ç¬¦</strong> æ¥åŒ¹é…åŸŸåï¼Œå†³å®š <strong>å“ªä¸ªåŸŸåä½¿ç”¨é‚£ä¸ª serverå—</strong>ï¼Œè¿›è€Œä½¿ç”¨ç›¸åº”çš„é…ç½®ã€‚<strong>ç«¯å£</strong> ç›¸å½“äºäºŒæ¬¡æ ¡éªŒã€‚</p></li><li><p>ç„¶åå¯ä»¥ä½¿ç”¨ <code>location / + prox_pass</code> è¿›è¡Œä»£ç†</p></li><li><p>é€šè¿‡é…åˆ <code>host</code> æ–‡ä»¶ä½¿ç”¨ï¼Œ<code>host</code> æ–‡ä»¶å¯ä»¥å°†æŒ‡å®šåŸŸåæ˜ å°„åˆ°æŒ‡å®šipï¼Œæ¯”å¦‚å¯ä»¥æŠŠä»»æ„ç½‘ç«™xxxæ˜ å°„åˆ° <code>127.0.0.1</code> ï¼Œæˆ‘ä»¬å¯ä»¥æ­é…nginxçš„ <code>serverå—</code> çš„ <code>ç«¯å£å·</code>ï¼Œç„¶åè¿›è¡Œä»£ç†ï¼Œä»£ç†åˆ°ä»»æ„ ipä¸Š</p></li><li><p>ä¸¾ä¸ªğŸŒ°ï¼Œä¸‹é¢çš„é…ç½®å¯ä»¥æŠŠ <code>longge666.huiwan</code> æ˜ å°„æˆæœ¬åœ°çš„ <code>http://localhost:4000</code>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># host æ–‡ä»¶</span><br><span class="line"># .comåŸŸå chromeä¼šè‡ªåŠ¨è½¬æ¢æˆ httpsï¼Œè·³è½¬ä¸äº†</span><br><span class="line">127.0.0.1 longge666.huiwan</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># nginx.conf æ–‡ä»¶</span><br><span class="line">server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  longge666.huiwan;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">            proxy_pass   http://localhost:4000;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        error_page   500 502 503 504  /50x.html;</span><br><span class="line">        location = /50x.html &#123;</span><br><span class="line">            root   html;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="/images/nginx1-2.jpg" alt></p></li></ul><h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><p>å¯¹ <code>nginx</code> çš„ç†è§£æš‚æ—¶å°±è¿™ä¹ˆå¤š</p><p>åé¢æœ‰äº†æ–°çš„ç†è§£å†ç»§ç»­è¡¥å……ï½ ğŸ˜‹</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å› ä¸ºå…¬å¸çš„éœ€è¦ï¼Œç½‘ç«™éœ€è¦æ¥å…¥ç½‘å…³ï¼Œå¯¹åŸŸåæœ‰æ ¡éªŒ&lt;/p&gt;&lt;p&gt;äºæ˜¯ç ”ç©¶äº†ä¸€ä¸‹ &lt;code&gt;nginx&lt;/code&gt; å’Œ &lt;code&gt;ä»£ç†&lt;/code&gt;&lt;/p&gt;&lt;p&gt;å‘ç°è¿˜æŒºå¥½ç©çš„ã€‚ã€‚&lt;/p&gt;&lt;p&gt;ç„¶åï¼Œ&lt;/p&gt;&lt;p&gt;å°±æ€»ç»“äº†ä¸€ä¸‹è¿™ä»½&lt;/p&gt;&lt;p&gt;&lt;strong&gt;nginx-1 ï¼&lt;/strong&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="åç«¯" scheme="http://jian2333.github.io/tags/%E5%90%8E%E7%AB%AF/"/>
    
      <category term="nginx" scheme="http://jian2333.github.io/tags/nginx/"/>
    
  </entry>
  
  <entry>
    <title>ompé¡¹ç›®æ€»ç»“</title>
    <link href="http://jian2333.github.io/2019/08/18/omp/"/>
    <id>http://jian2333.github.io/2019/08/18/omp/</id>
    <published>2019-08-18T08:15:00.000Z</published>
    <updated>2021-04-01T03:08:48.225Z</updated>
    
    <content type="html"><![CDATA[<p>è¿ç»­åŠ ç­1ä¸ªæœˆäº†ï¼Œå¤©å¤©åŠ ç­10ç‚¹å¤šï¼Œåˆ°å®¶11ç‚¹åŠï¼Œå‘¨æœ«ä¹Ÿåœ¨åŠ ç­ï¼ŒåŸºæœ¬æ²¡æœ‰å“ªå¤©æ˜¯12ç‚¹ä»¥å‰ç¡çš„ã€‚æ˜æ˜¾æ„Ÿè§‰æ‰›ä¸ä½äº†ï¼Œèº«ä½“è¶Šæ¥è¶Šå·®ï¼Œä¸€åº¦å¤„äº <strong>çŒæ­»çš„è¾¹ç¼˜</strong> â€¦..</p><p>å¥½åœ¨è¿™ä¸ªé¡¹ç›®ç»ˆäºå®Œæˆäº†(å…¶å®è¿˜æ²¡å®Œå…¨ç»“æŸï¼Œè¿˜åœ¨ä¿®bugé˜¶æ®µï¼Œç„¶ååˆè¢«å®‰æ’å»å¦ä¸€ä¸ªé¡¹ç›®äº†â€¦7å¤©å¼€å‘æ—¶é—´ï¼Œ1ä¸ªæ˜ŸæœŸ+2ä¸ªå‘¨å…­ï¼Œ<strong>æ„Ÿè§‰è¦çŒæ­»äº†</strong> â€¦..)</p><p>åæ§½ä¸è¦å¤ªå¤š</p><p>å½“ç„¶ï¼Œæ”¶è·ä¹Ÿæ˜¯å¾ˆå¤š</p><p>æ‰€ä»¥ï¼Œå°±æ€»ç»“äº†ä¸€å“ˆâ€¦.</p><a id="more"></a><p><img src="/images/omp-1.jpg" alt></p><h2 id="é¡¹ç›®"><a href="#é¡¹ç›®" class="headerlink" title="é¡¹ç›®"></a>é¡¹ç›®</h2><p><strong>å¼€å‘å‘¨æœŸ</strong></p><p>å‘¨æœŸæ²¡å•¥å¥½å†™çš„ï¼Œå°±æ˜¯1ä¸ªæœˆï¼Œä»å¼€å‘åˆ°ä¸Šçº¿ï¼Œæ€»å…±ä¸€ä¸ªæœˆâ€¦</p><p><strong>åæ§½</strong></p><p>åæ§½ä¸è¦å¤ªå¤šâ€¦</p><p>å¼€å‘å‘¨æœŸå¤ªçŸ­ï¼Œé¡¹ç›®å¤ªèµ¶äº†ã€‚</p><p>æœ€åˆè®¡åˆ’æ˜¯1ä¸ªæœˆæ—¶é—´ä¸Šçº¿ã€‚å¼€å‘2å‘¨ï¼Œæµ‹è¯•è”è°ƒ2å‘¨ï¼Œç„¶è€Œå®é™…æƒ…å†µæ˜¯ï¼Œå¼€å‘å’Œæµ‹è¯•åŒæ­¥è¿›è¡Œã€‚</p><p>å¼€å‘1ä¸ªé¡µé¢ï¼Œæµ‹è¯•å°±å¼€å§‹æµ‹ï¼Œç„¶åå°±æ˜¯å‰æœŸæµ‹è¯•ä¸€ç›´åœ¨å‚¬ï¼Œé¡µé¢å¼€å‘å¥½äº†æ²¡ï¼Œå¼€å‘å¥½äº†æ²¡ã€‚ã€‚ã€‚ è¿™ xx$%^^&amp;*ï¼Œ å¼€å‘æ€ä¹ˆèƒ½èµ¶ä¸Šæµ‹è¯•çš„è¿›åº¦â€¦.</p><p>å…¶æ¬¡ï¼Œå¼€å‘é¢„è®¡æ—¶é—´ï¼Œå®‰æ’çš„æä¸åˆç†ã€‚æ‰€æœ‰å¼€å‘é¢„è®¡æ—¶é—´éƒ½æ˜¯æœ€ç†æƒ³çŠ¶æ€çš„ã€‚å°±æ˜¯æ²¡äººæ‰“æ‰°ï¼Œä¸ä¼šé‡åˆ°éš¾ç‚¹ï¼Œåªåšå¼€å‘ä¸€ä»¶äº‹çš„æ—¶é—´ã€‚ç„¶è€Œå®é™…æƒ…å†µæ˜¯ï¼Œæœ‰å¤ªå¤šçš„ç¬¬ä¸‰æ–¹å› ç´ ä¼šå½±å“å¼€å‘è¿›åº¦ï¼Œæ¯”å¦‚ï¼š</p><ul><li>é‡åˆ°éš¾ç‚¹ï¼šè‡ªå·±æˆ–è€…å…¶ä»–åŒäº‹é‡åˆ°éš¾ç‚¹ï¼Œè§£å†³ä¸€ä¸ªéš¾ç‚¹å°±èŠ±äº†2ä¸ªäººä¸€ä¸Šåˆçš„æ—¶é—´</li><li>å°è£…å…¬å…±ç»„ä»¶ï¼šè¿™äº›ä»»åŠ¡æ˜¯æ²¡æœ‰è€ƒè™‘åœ¨å¼€å‘é¢„è®¡æ—¶é—´å†…çš„ï¼Œé‚£ä¸ªæ—¶é—´åªè€ƒè™‘äº†é¡µé¢çš„å¼€å‘æ—¶é—´â€¦</li><li>å…¶ä»–äº‹æƒ…ï¼š<ul><li>æ¯”å¦‚å¼€ä¼šï¼Œå„ç§ä¼šè®®ã€‚</li><li>æµ‹è¯•å«å»æ”¹bugç­‰(æµ‹è¯•å’Œå¼€å‘åŒæ­¥è¿›è¡Œçš„â€¦.)</li><li>åç«¯æ¥å£æœ‰é—®é¢˜ï¼Œè”è°ƒçš„æ—¶å€™ä¸€ç›´åœ¨ç­‰åç«¯çš„æ¥å£æ­£å¸¸</li></ul></li></ul><p>æ€»ä¹‹å°±æ˜¯ï¼Œ<strong>æ—¶é—´å¤ªèµ¶ï¼Œ2å‘¨æ—¶é—´å¼€å‘æ ¹æœ¬ä¸å¤Ÿ</strong> ã€‚</p><p>ç„¶åå§ï¼Œå°±æ˜¯ç–¯ç‹‚åŠ ç­äº†ã€‚ã€‚ã€‚</p><p>ä½çš„ç¦»å…¬å¸è¿‘è¿˜å¥½ï¼Œåƒæˆ‘è¿™ç§è¿™ä¹ˆè¿œçš„ï¼Œæ¯å¤©10ç‚¹å¤šä¸‹ç­ï¼Œå›å»åˆ°å®¶å°±11ç‚¹åŠäº†ï¼Œæ¯å¤©è¦12ç‚¹å¤šæ‰èƒ½ç¡è§‰ï¼Œè€Œä¸”ï¼Œ<strong>é•¿æœŸæ²¡æœ‰ä¼‘æ¯</strong>ï¼Œå‘¨æœ«èƒ½ä¼‘æ¯ä¸‹è¿˜å¥½ï¼Œé—®é¢˜æ˜¯å‘¨æœ«è¿˜å¾—åŠ ç­â€¦..</p><p>å†ç„¶åå§ï¼Œèº«ä½“è¶Šæ¥è¶Šå·®äº†ï¼Œå¤©å¤©éƒ½å›°çš„è¦æ­»ï¼Œæ„Ÿè§‰è¦çŒæ­»äº†ã€‚ã€‚ã€‚</p><p>æ‰€ä»¥ï¼Œæ¥ä¸‹æ¥ï¼Œè¦<strong>èµ¶ç´§æ”¹å˜ä¸‹å½“å‰çš„çŠ¶æ€</strong>ï¼Œè¿™æ˜¯å½“å‰æœ€é‡è¦çš„äº‹äº†..</p><h2 id="æ”¶è·"><a href="#æ”¶è·" class="headerlink" title="æ”¶è·"></a>æ”¶è·</h2><p>okï¼Œåæ§½å®Œæ¯•ï¼Œè¯´ä¸‹æ”¶è·å§ã€‚</p><p>èŠ±è´¹äº†è¿™ä¹ˆå¤šç²¾åŠ›ï¼Œä»¥åŠæ— æ•°ä¸ªåŠ ç­ã€‚ã€‚ã€‚æ”¶è·è¿˜æ˜¯æŒºå¤šçš„ã€‚ã€‚</p><h3 id="å¼€å‘è§„èŒƒ"><a href="#å¼€å‘è§„èŒƒ" class="headerlink" title="å¼€å‘è§„èŒƒ"></a>å¼€å‘è§„èŒƒ</h3><h4 id="æ•æ·å¼€å‘æµç¨‹"><a href="#æ•æ·å¼€å‘æµç¨‹" class="headerlink" title="æ•æ·å¼€å‘æµç¨‹"></a>æ•æ·å¼€å‘æµç¨‹</h4><p>é¡¹ç›®é‡‡ç”¨çš„æ˜¯æ•æ·å¼€å‘ï¼Œå’Œä¼ ç»Ÿå¼€å‘æœ€å¤§çš„åŒºåˆ«ï¼Œå°±æ˜¯æ²¡æœ‰é¢„æœŸçš„å¼€å‘æ—¶é—´ã€‚</p><p>ä¼ ç»Ÿå¼€å‘ä¼šæœ‰å……è¶³çš„å¼€å‘è®¡åˆ’ï¼Œxxxxæ—¶é—´æ®µå¼€å‘ï¼Œxxxxæ—¶é—´æ®µæµ‹è¯•é˜¶æ®µï¼Œç„¶åä¸Šçº¿ã€‚ç›®çš„æ˜¯ æŒ‰æ—¶äº¤ä»˜<strong>é«˜è´¨é‡çš„äº§å“</strong>ã€‚</p><p>è€Œæ•æ·å¼€å‘(ompé¡¹ç›®å°±ç®—å§)ï¼Œæ˜¯æœ‰éœ€æ±‚äº†ï¼Œç«‹åˆ»å¼€å‘ï¼Œå¹¶ä¸” <strong>å¼€å‘å’Œæµ‹è¯•åŒæ­¥è¿›è¡Œ</strong>ï¼Œç›®çš„ <strong>æœ€çŸ­æ—¶é—´å†…</strong> äº¤ä»˜äº§å“ã€‚</p><h4 id="gitä½¿ç”¨è§„èŒƒï¼šgit-flow"><a href="#gitä½¿ç”¨è§„èŒƒï¼šgit-flow" class="headerlink" title="gitä½¿ç”¨è§„èŒƒï¼šgit-flow"></a>gitä½¿ç”¨è§„èŒƒï¼šgit-flow</h4><p>é¡¹ç›®ä½¿ç”¨ <code>git-flow</code> è§„èŒƒæ¥ç®¡ç†ä»£ç ï¼Œå¸¸è§çš„åˆ†æ”¯ç»“æ„æœ‰ï¼š</p><ul><li><strong>master</strong> ï¼šç”¨æ¥å­˜å‚¨å‘å¸ƒåçš„ç¨³å®šä»£ç åˆ†æ”¯ï¼Œä¸€èˆ¬ä¼šä½¿ç”¨ <code>tag</code> æ ‡ç­¾è¿›è¡Œç®¡ç†</li><li><strong>hotfix-xxx</strong> ï¼šçƒ­ä¿®å¤çº¿ä¸Šbugçš„åˆ†æ”¯ï¼Œä» <code>master</code> åˆ›å»ºï¼Œç›´æ¥åˆå¹¶åˆ° <code>master</code></li><li><strong>dev</strong> ï¼šå¼€å‘åˆ†æ”¯ï¼Œä» <code>master</code> åˆ›å»º</li><li><strong>test</strong> ï¼šæµ‹è¯•åˆ†æ”¯ï¼Œä» <code>master</code> åˆ›å»º</li><li><strong>release</strong> ï¼šå‘å¸ƒåˆ†æ”¯ï¼Œä» <code>master</code> åˆ›å»º</li><li><strong>feature-xxx</strong> ï¼šæ–°éœ€æ±‚åˆ†æ”¯ï¼Œä» <code>master</code> åˆ›å»ºï¼Œåˆå¹¶åˆ° <code>dev</code></li><li><img src="/images/omp-2.jpg" alt></li></ul><p>å…¶ä¸­æœ‰å‡ ç‚¹è¦æ±‚ï¼š</p><ul><li>ä¸€ä¸ªåŠŸèƒ½ä¸€ä¸ªåˆ†æ”¯ï¼Œä¸€èµ·æäº¤åˆ°è¿œç¨‹æœåŠ¡å™¨ï¼Œå¾…ç¨³å®šåï¼Œåˆ é™¤å¯¹åº”çš„ <code>feature</code> åˆ†æ”¯</li><li>æµç¨‹åŸºæœ¬ä¸Šæ˜¯ï¼š<code>master</code> â€“&gt; <code>feat-xx</code> â€“&gt; <code>dev</code> â€“&gt; <code>test</code> â€“&gt; <code>release</code> â€“&gt; <code>master</code></li><li>ä¸èƒ½ä» <code>dev</code> <code>merge</code> ä»£ç åˆ° <code>feature</code> åˆ†æ”¯ï¼Œå¦‚æœæœ‰ä¾èµ–å…¶ä»–åˆ†æ”¯çš„åŠŸèƒ½ä»å…¶ä»–åˆ†æ”¯ç›´æ¥ <code>merge</code> åˆ°å½“å‰åˆ†æ”¯ï¼š<code>feat-A</code> â€“&gt; <code>feat-B</code></li></ul><h3 id="ä»£ç æ–¹é¢"><a href="#ä»£ç æ–¹é¢" class="headerlink" title="ä»£ç æ–¹é¢"></a>ä»£ç æ–¹é¢</h3><h4 id="vue"><a href="#vue" class="headerlink" title="vue"></a>vue</h4><p><strong>ç”Ÿå‘½å‘¨æœŸåŠé’©å­å‡½æ•°</strong></p><p><code>vue</code> çš„ç”Ÿå‘½å‘¨æœŸåŒ…å«ä¸‹é¢8ä¸ªé˜¶æ®µï¼š</p><ul><li><strong>beforeCreate</strong> ï¼š<code>vue</code> å®ä¾‹çš„æŒ‚è½½å…ƒç´  <code>$el</code> å’Œæ•°æ®å¯¹è±¡ <code>data</code> éƒ½æ˜¯ <code>undefined</code>ï¼Œè¿˜æœªåˆå§‹åŒ–</li><li><strong>created</strong> ï¼šå®Œæˆäº† <code>data</code> çš„åˆå§‹åŒ–ï¼Œ<code>el</code> è¿˜æœªåˆå§‹åŒ–</li><li><strong>beforeMount</strong> ï¼š<code>vue</code> å®ä¾‹çš„ <code>$el</code> å’Œ <code>data</code> éƒ½åˆå§‹åŒ–äº†ï¼Œç›¸å…³çš„ <code>render</code> å‡½æ•°é¦–æ¬¡è¢«è°ƒç”¨ã€‚å®ä¾‹å·²å®Œæˆä»¥ä¸‹çš„é…ç½®ï¼šç¼–è¯‘æ¨¡æ¿ï¼ŒæŠŠ <code>data</code> é‡Œé¢çš„æ•°æ®å’Œæ¨¡æ¿ç”Ÿæˆ <code>html</code> ã€‚æ³¨æ„æ­¤æ—¶ <code>html</code> è¿˜æ²¡æœ‰æŒ‚è½½åˆ°é¡µé¢ä¸Š</li><li><strong>mounted</strong> ï¼šåœ¨ <code>el</code> è¢«æ–°åˆ›å»ºçš„ <code>vm.$el</code> æ›¿æ¢ï¼Œå¹¶æŒ‚è½½åˆ°å®ä¾‹ä¸Šå»ä¹‹åè°ƒç”¨ã€‚å®ä¾‹å·²å®Œæˆä»¥ä¸‹çš„é…ç½®ï¼šç”¨ä¸Šé¢ç¼–è¯‘å¥½çš„ <code>html</code> å†…å®¹æ›¿æ¢ <code>el</code> å±æ€§æŒ‡å‘çš„ <code>DOMå¯¹è±¡</code> ã€‚å®Œæˆæ¨¡æ¿ä¸­çš„ <code>html</code> æ¸²æŸ“åˆ° <code>html</code> é¡µé¢ä¸­ï¼Œæ­¤è¿‡ç¨‹ä¸­è¿›è¡Œ <code>ajaxäº¤äº’</code></li><li><strong>beforeUpdate</strong> ï¼šåœ¨æ•°æ®æ›´æ–°ä¹‹å‰è°ƒç”¨ï¼Œå‘ç”Ÿåœ¨è™šæ‹Ÿ <code>DOM</code> é‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ä¹‹å‰è°ƒç”¨ã€‚å¯ä»¥åœ¨è¯¥é’©å­ä¸­è¿›ä¸€æ­¥åœ°æ›´æ”¹çŠ¶æ€ï¼Œä¸ä¼šè§¦å‘é™„åŠ çš„æ¸²æŸ“çŠ¶æ€</li><li><strong>updated</strong> ï¼šåœ¨ç”±äºæ•°æ®æ›´æ”¹å¯¼è‡´çš„è™šæ‹Ÿ <code>DOM</code> é‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ä¹‹åè°ƒç”¨ã€‚è°ƒç”¨æ—¶ï¼Œç»„ä»¶ <code>DOM</code> å·²ç»æ›´æ–°ï¼Œæ‰€ä»¥å¯ä»¥ä¾èµ–ä¸ <code>DOM</code> çš„æ“ä½œã€‚ç„¶è€Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹åº”è¯¥é¿å…åœ¨æ­¤æœŸé—´æ›´æ”¹çŠ¶æ€ï¼Œå› ä¸ºè¿™å¯èƒ½ä¼šå¯¼è‡´æ— é™å¾ªç¯ã€‚è¯¥é’©å­å‡½æ•°åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æœŸé—´ä¸å¯ç”¨</li><li><strong>beforeDestroy</strong> ï¼šåœ¨å®ä¾‹é”€æ¯ä¹‹å‰è°ƒç”¨ã€‚å®ä¾‹ä»ç„¶å®Œå…¨å¯ç”¨</li><li><strong>destroyed</strong> ï¼šåœ¨å®ä¾‹é”€æ¯ä¹‹åè°ƒç”¨ã€‚è°ƒç”¨åï¼Œæ‰€æœ‰çš„äº‹ä»¶ç›‘å¬å™¨ä¼šè¢«ç§»é™¤ï¼Œæ‰€æœ‰çš„å­å®ä¾‹ä¹Ÿä¼šè¢«é”€æ¯ã€‚è¯¥é’©å­å‡½æ•°åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æœŸé—´ä¸è¢«è°ƒç”¨</li></ul><p><strong>çˆ¶å­ç»„ä»¶çš„ä¼ å€¼</strong></p><ul><li><strong>çˆ¶ â€“&gt; å­</strong> ï¼š<ul><li>ç”¨ <code>props</code> ä¼ å€¼</li><li>å¯ä»¥è®¾å®š <code>ç±»å‹</code> å’Œ <code>é»˜è®¤å€¼</code></li><li><code>props</code> ä¼ çš„å€¼åœ¨ <code>data</code> é‡Œä¸èƒ½é‡å¤å®šä¹‰</li><li><code>props</code> ä¼ çš„å€¼é»˜è®¤ä¼šåŒå‘ç»‘å®šï¼ŒåŠ å­é¡µé¢çš„å€¼æ”¹å˜äº†ï¼Œä¼šå¯¼è‡´çˆ¶é¡µé¢å€¼çš„æ”¹å˜ï¼Œå¦‚æœæœŸæœ›å•å‘ç»‘å®šï¼Œæœ‰2ç§æ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜ï¼š<ul><li><strong>å­é¡µé¢dataé‡Œå®šä¹‰ aa: propsçš„å€¼</strong></li><li><strong>å­é¡µé¢ä½¿ç”¨ <code>computed</code> çš„å€¼</strong></li></ul></li></ul></li><li><strong>å­ â€“&gt; çˆ¶</strong> ï¼š<ul><li>ç”¨ <code>this.$emit(&#39;aa&#39;, params)</code> ä¼ äº‹ä»¶</li><li>åœ¨çˆ¶ç»„ä»¶ä½¿ç”¨ <code>@aa = &#39;yy&#39;</code> æ¥æ•è·äº‹ä»¶</li></ul></li></ul><p><strong>ç»„ä»¶çš„å°è£…</strong></p><p>å¤ªå¤šäº†ï¼Œåç»­è¡¥å……â€¦</p><p><strong>åŒå‘ç»‘å®šçš„æ·±åˆ»ç†è§£ï¼ˆimportantï¼ï¼ï¼‰</strong></p><p><strong>å¯¹è±¡çš„åŒå‘ç»‘å®š</strong></p><p><a href="https://cn.vuejs.org/v2/guide/reactivity.html#æ£€æµ‹å˜åŒ–çš„æ³¨æ„äº‹é¡¹" target="_blank" rel="noopener">å®˜ç½‘è¯´æ˜</a></p><p><code>vue</code> ä¸­çš„åŒå‘ç»‘å®šï¼Œåªæœ‰åœ¨é¡µé¢åŠ è½½æ—¶ï¼Œåœ¨ <code>data</code> é‡Œå®šä¹‰äº†çš„å¯¹è±¡ï¼Œæ‰èƒ½è‡ªåŠ¨åŒå‘ç»‘å®šï¼Œå¦‚æœ <code>data</code> é‡Œæ²¡æœ‰å®šä¹‰è¿™ä¸ªå¯¹è±¡ï¼Œç›´æ¥ä¿®æ”¹ <code>v-model</code> çš„å€¼ï¼Œå¯¹åº”ç»„ä»¶çš„å€¼(UI)æ˜¯ä¸ä¼šè‡ªåŠ¨ä¿®æ”¹çš„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    a: <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// `vm.a` æ˜¯å“åº”å¼çš„</span></span><br><span class="line"></span><br><span class="line">vm.b = <span class="number">2</span></span><br><span class="line"><span class="comment">// `vm.b` æ˜¯éå“åº”å¼çš„</span></span><br></pre></td></tr></table></figure><p>å¦‚æœè¦åŒå‘ç»‘å®šæœªåœ¨ <code>data</code> é‡Œå®šä¹‰çš„å¯¹è±¡çš„å±æ€§ï¼Œåº”è¯¥ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•</p><ul><li><p><strong>æ·»åŠ å•ä¸ªå±æ€§</strong> ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// `Vue.set(object, propertyName, value)`</span></span><br><span class="line">Vue.set(vm.someObject, <span class="string">'b'</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// `this.$set(object, propertyName, value)`ï¼Œ`this.$set` æ˜¯ `Vue.set` çš„åˆ«å</span></span><br><span class="line"><span class="keyword">this</span>.$<span class="keyword">set</span>(this.someObject, 'b', 2)</span><br></pre></td></tr></table></figure></li><li><p><strong>æ·»åŠ å¤šä¸ªå±æ€§</strong> ï¼š</p><p>ç›´æ¥ä½¿ç”¨ <code>Object.assign()</code> æˆ– <code>_.extend()</code> æ·»åŠ åˆ°å¯¹è±¡ä¸Šçš„æ–°å±æ€§ä¸ä¼šè§¦å‘æ›´æ–°ã€‚åº”è¯¥ä½¿ç”¨ åŸå¯¹è±¡ä¸è¦æ··åˆè¿›å»çš„å¯¹è±¡çš„å±æ€§<strong>ä¸€èµ·åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»£æ›¿ `Object.assign(this.someObject, &#123;a: 1, b: 2&#125;)`</span></span><br><span class="line"><span class="keyword">this</span>.someObject = <span class="built_in">Object</span>.assign(&#123;&#125;, <span class="keyword">this</span>.someObject, &#123;<span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>&#125;)</span><br></pre></td></tr></table></figure></li></ul><p><strong>æ•°ç»„çš„åŒå‘ç»‘å®š</strong></p><p><a href="https://cn.vuejs.org/v2/guide/list.html#æ•°ç»„æ›´æ–°æ£€æµ‹" target="_blank" rel="noopener">å®˜ç½‘è¯´æ˜</a></p><p><strong>æ•°ç»„ï¼šèƒ½åŒå‘ç»‘å®šçš„æƒ…å†µ</strong></p><ul><li><p><strong>å˜å¼‚æ–¹æ³•(ä¿®æ”¹è‡ªèº«æ•°ç»„)</strong> ï¼š</p><ul><li>push()</li><li>pop()</li><li>shift()</li><li>unshift()</li><li>splice()</li><li>sort()</li><li>reverse()</li></ul></li><li><p><strong>éå˜å¼‚æ–¹æ³•/æ›¿æ¢æ•°ç»„(è¿”å›æ–°æ•°ç»„)</strong> ï¼š</p><ul><li>filter()</li><li>concat()</li><li>slice()</li></ul><p>ä½¿ç”¨ <code>éå˜å¼‚æ–¹æ³•</code> æ—¶ï¼Œè¦ä½¿ç”¨ä¸€ä¸ªæ–°æ•°ç»„æ›¿æ¢åŸæ•°ç»„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">example1.items = example1.items.filter(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> item.message.match(<span class="regexp">/Foo/</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul><p><strong>æ•°ç»„ï¼šä¸èƒ½åŒå‘ç»‘å®šçš„æƒ…å†µ</strong></p><p>ç”±äº <code>JavaScript</code> çš„é™åˆ¶ï¼Œ <code>Vue</code> <strong>ä¸èƒ½</strong> æ£€æµ‹ä»¥ä¸‹æ•°ç»„çš„å˜åŠ¨ï¼š</p><ul><li>åˆ©ç”¨ç´¢å¼•ç›´æ¥è®¾ç½®ä¸€ä¸ªæ•°ç»„é¡¹çš„å€¼ï¼Œä¾‹å¦‚ï¼š<code>vm.items[indexOfItem] = newValue</code></li><li>ä¿®æ”¹æ•°ç»„çš„é•¿åº¦ï¼Œä¾‹å¦‚ï¼š<code>vm.items.length = newLength</code></li></ul><p>ä¸¾ä¸ªä¾‹å­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    items: [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">vm.items[<span class="number">1</span>] = <span class="string">'x'</span><span class="comment">// ä¸æ˜¯å“åº”æ€§çš„</span></span><br><span class="line">vm.items.length = <span class="number">2</span><span class="comment">// ä¸æ˜¯å“åº”æ€§çš„</span></span><br></pre></td></tr></table></figure><p>ä¸ºäº†è§£å†³ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Vue.set</span></span><br><span class="line">Vue.set(vm.items, indexOfItem, newValue)</span><br><span class="line"><span class="comment">// vm.$set</span></span><br><span class="line">vm.$<span class="keyword">set</span>(vm.items, indexOfItem, newValue)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Array.prototype.splice</span></span><br><span class="line">vm.items.splice(indexOfItem, <span class="number">1</span>, newValue)</span><br></pre></td></tr></table></figure><p>ä¸ºäº†è§£å†³ç¬¬äºŒä¸ªé—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ <code>splice</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vm.items.splice(newLength)</span><br></pre></td></tr></table></figure><h4 id="iview"><a href="#iview" class="headerlink" title="iview"></a>iview</h4><p><strong>Formè¡¨å•</strong></p><p>å¿ƒå¾—ä¸¤ç‚¹ï¼š</p><p><strong>validator çš„ä½¿ç”¨</strong></p><p><img src="/images/omp-3.jpg" alt></p><p><img src="/images/omp-4.jpg" alt></p><p><img src="/images/omp-5.jpg" alt></p><p><img src="/images/omp-6.jpg" alt></p><p><strong>reset çš„ä½¿ç”¨</strong></p><p><img src="/images/omp-7.jpg" alt></p><p><strong>table</strong></p><p>åŸºæœ¬å°±æ˜¯ä¸€äº›é…ç½®å§</p><p>å‚è€ƒ <a href="https://www.iviewui.com/components/table" target="_blank" rel="noopener">iview table</a></p><p><strong>å…¶ä»–</strong></p><p>å‚è€ƒ <a href="https://www.iviewui.com/docs/guide/install" target="_blank" rel="noopener">iview å®˜ç½‘</a></p><h4 id="echarts"><a href="#echarts" class="headerlink" title="echarts"></a>echarts</h4><p><code>echarts</code> è¦æ˜¾ç¤ºå›¾è¡¨éœ€è¦ä¸¤ä¸ªæ­¥éª¤</p><ul><li><strong>åˆå§‹åŒ–</strong></li><li><strong>ä½¿ç”¨ setOption</strong> æ–¹æ³•æ›´æ–°æ•°æ®</li></ul><p>æ‰€ä»¥</p><p>å¯¹äº <strong>é™æ€å›¾è¡¨</strong> æ¥è¯´ï¼Œä¸Šé¢2ä¸ªæ­¥éª¤å¯ä»¥æ”¾åˆ°ä¸€èµ·</p><p>å¯¹äº <strong>åŠ¨æ€å›¾è¡¨</strong> æ¥è¯´ï¼Œä¸Šé¢2ä¸ªæ­¥éª¤åˆ™è¦åˆ†å¼€ï¼Œå¹¶ä¸”æ¯æ¬¡è·å–æ•°æ®å(è·å–æ•°æ®æ–¹å¼ä¸é™)éœ€è¦ä½¿ç”¨ <code>setOption</code> æ–¹æ³•æ›´æ–°æ•°æ®</p><p>ä¸¾ä¸ªä¾‹å­</p><ul><li><p><strong>åˆå§‹åŒ–å›¾è¡¨</strong></p><p><img src="/images/omp-8.jpg" alt></p></li><li><p><strong>åˆå§‹åŒ– websocket</strong></p><p><img src="/images/omp-9.jpg" alt></p></li><li><p><strong>websocketè·å–å¯¹è±¡å¹¶è°ƒç”¨ setOption æ–¹æ³•æ›´æ–°å›¾è¡¨</strong></p><p><img src="/images/omp-10.jpg" alt></p><p><img src="/images/omp-11.jpg" alt></p></li></ul><h4 id="vue-router"><a href="#vue-router" class="headerlink" title="vue-router"></a>vue-router</h4><p><strong>è·³è½¬ä¼ å€¼</strong></p><ul><li><p>ä½¿ç”¨ <code>query</code> ï¼šè¯¥æ¨¡å¼ä¸‹ <code>to</code> çš„åœ°å€åªèƒ½ä½¿ç”¨ <code>path</code> è€Œä¸èƒ½ä½¿ç”¨ <code>name</code></p></li><li><p>ä½¿ç”¨ <code>params</code> ï¼šæ— è¦æ±‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å‘½åçš„è·¯ç”± --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"&#123; name: 'user', params: &#123; userId: 123 &#125;&#125;"</span>&gt;</span>User<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å¸¦æŸ¥è¯¢å‚æ•°ï¼Œä¸‹é¢çš„ç»“æœä¸º /register?plan=private --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"&#123; path: 'register', query: &#123; plan: 'private' &#125;&#125;"</span>&gt;</span>Register<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> params = &#123;</span><br><span class="line">  type: <span class="string">'add'</span>, </span><br><span class="line">  code: <span class="string">'aaa'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">this</span>.$router.push(&#123;<span class="attr">name</span>: <span class="string">'terminalEdit'</span>, <span class="attr">params</span>: params)</span><br></pre></td></tr></table></figure></li></ul><p><strong>è·³è½¬ç›‘å¬äº‹ä»¶</strong></p><ul><li><p>ä½¿ç”¨ <code>watch</code> ç›‘å¬</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">  <span class="string">'$route'</span> (to, <span class="keyword">from</span>) &#123;</span><br><span class="line">    <span class="comment">// è·³è½¬åˆ°å½“å‰é¡µé¢å’Œç¦»å¼€å½“å‰é¡µé¢éƒ½ä¼šè§¦å‘è¯¥ç›‘å¬äº‹ä»¶</span></span><br><span class="line">    <span class="comment">// è·³è½¬åˆ°å½“å‰é¡µé¢æ—¶ï¼Œto.params æ˜¯è·å–çš„å‚æ•°</span></span><br><span class="line">    <span class="comment">// ç¦»å¼€å½“å‰é¡µé¢æ—¶ï¼Œfrom.params æ˜¯å½“å‰é¡µçš„å‚æ•°</span></span><br><span class="line">    <span class="keyword">let</span> params = to.params</span><br><span class="line">    <span class="keyword">if</span> (params &amp;&amp; params.vehicleId) &#123;</span><br><span class="line">      <span class="keyword">this</span>.vehicleId = params.vehicleId</span><br><span class="line">      <span class="keyword">this</span>.init()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åœ¨ <code>mounted</code> çš„æ—¶å€™ä¹Ÿå¯ä»¥æ·»åŠ æ•è·</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mounted () &#123;</span><br><span class="line">  <span class="keyword">let</span> params = <span class="keyword">this</span>.$route.params</span><br><span class="line">  <span class="keyword">if</span> (params &amp;&amp; params.vehicleId) &#123;</span><br><span class="line">    <span class="keyword">this</span>.vehicleId = params.vehicleId</span><br><span class="line">    <span class="keyword">this</span>.init()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h4><p>åç»­è¡¥å……â€¦.</p><h3 id="å·¥å…·æ–¹é¢"><a href="#å·¥å…·æ–¹é¢" class="headerlink" title="å·¥å…·æ–¹é¢"></a>å·¥å…·æ–¹é¢</h3><h4 id="SourceTree"><a href="#SourceTree" class="headerlink" title="SourceTree"></a>SourceTree</h4><p><strong>åˆ†æ”¯çš„ä½¿ç”¨</strong></p><p>äº’ç›¸åˆ‡æ¢</p><p>åˆå¹¶</p><p>æ²¡å•¥å¥½è¯´çš„â€¦.</p><p><strong>pullæ³¨æ„é¡¹</strong></p><p>å¦‚æœä½ æœ¬åœ°æœ‰ä¿®æ”¹äº†ä½†æœª <code>commit</code> çš„ä»£ç ï¼Œè¿™æ—¶å€™ <code>git pull</code> çš„è¯ï¼Œä¼šæç¤º <code>pull</code> ä¸‹æ¥çš„ä»£ç æœªæäº¤(è‡ªåŠ¨åˆå¹¶)ï¼Œè¿™æ—¶å€™ï¼Œä½  <strong>ä¸€å®šè¦æäº¤ pull ä¸‹æ¥çš„ä»£ç ï¼ï¼</strong></p><p><strong>è´®è—</strong></p><p>å·§ç”¨ <strong>è´®è—</strong></p><p>æŠŠå½“å‰æœªæäº¤çš„ä»£ç è´®è—èµ·æ¥ï¼Œç„¶åå»åšå…¶ä»–çš„ä»»åŠ¡ï¼Œä¹‹åå›æ¥ï¼Œéšæ—¶å¯ç”¨è´®è—çš„ä»£ç </p><p><img src="/images/omp-14.jpg" alt></p><p><strong>é‡ç½®åˆ°ä¹‹å‰çš„æäº¤</strong></p><p>å¦‚æœ <code>commit</code> æ²¡æœ‰ <code>push</code> åˆ°è¿œç¨‹æœåŠ¡å™¨ï¼Œå¯ä»¥ <code>é‡ç½®åˆ°å½“å‰æäº¤</code></p><p>å¦‚æœ <code>commit</code> å·²ç»åœ¨ è¿œç¨‹æœåŠ¡å™¨ä¸Šäº†ï¼Œ<strong>æš‚æ—¶è¿˜ä¸çŸ¥é“æ€ä¹ˆé‡ç½®</strong> â€¦..</p><h4 id="WebStorm"><a href="#WebStorm" class="headerlink" title="WebStorm"></a>WebStorm</h4><ul><li><p><strong>eslint é…ç½®</strong> ï¼š</p><p><img src="/images/omp-12.jpg" alt></p></li><li><p><strong>highLighting Level</strong> ï¼šè¿™ä¸ªä¸èƒ½å…¨å±€ä¿®æ”¹ï¼Œæœ‰ä¸ªæ›¿ä»£çš„æ–¹æ³•ï¼ŒæŠŠ <code>warning</code> æç¤ºå…³æ‰ï¼Œä½†å¹¶æ²¡æœ‰ä»æ ¹æœ¬ä¸Šè§£å†³é—®é¢˜</p><p><img src="/images/omp-13.jpg" alt></p></li></ul><h2 id="æ„Ÿå—åŠæ€»ç»“"><a href="#æ„Ÿå—åŠæ€»ç»“" class="headerlink" title="æ„Ÿå—åŠæ€»ç»“"></a>æ„Ÿå—åŠæ€»ç»“</h2><h3 id="æŠ€èƒ½æ–¹é¢"><a href="#æŠ€èƒ½æ–¹é¢" class="headerlink" title="æŠ€èƒ½æ–¹é¢"></a>æŠ€èƒ½æ–¹é¢</h3><p>è¯´ä¸‹æ¥ä¸‹æ¥æŠ€èƒ½æ–¹é¢çš„è®¡åˆ’å§</p><p>æ„Ÿè§‰å®˜æ–¹æ–‡æ¡£è¿˜æ˜¯å¾ˆé‡è¦çš„ï¼Œæ¯”å¦‚ä¸Šé¢è¯´çš„ï¼Œ<code>vue</code> ä¸­åŒå‘ç»‘å®šæ— æ•ˆï¼Œ<code>iview</code> ä¸­çš„ <code>validator</code> å’Œ <code>reset</code> æ— æ•ˆç­‰é—®é¢˜ï¼Œå®˜ç½‘å…¶å®éƒ½æœ‰å¾ˆå¥½çš„æè¿°ã€‚</p><p>æ‰€ä»¥ï¼Œå†ä»”ç»†è¿‡ä¸€éå®˜æ–¹æ–‡æ¡£ï¼Œè¿˜æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚</p><p>soï¼Œæ¥ä¸‹æ¥å‡ ä¸ªè¦åšçš„ï¼š</p><ul><li><strong>vue-loader å®˜æ–¹æ–‡æ¡£</strong></li><li><strong>vuex å®˜æ–¹æ–‡æ¡£</strong></li><li><strong>TypeScript</strong> ï¼šæ”¾åä¸€æ­¥</li></ul><h3 id="æ¥ä¸‹æ¥çš„é‡å¿ƒ"><a href="#æ¥ä¸‹æ¥çš„é‡å¿ƒ" class="headerlink" title="æ¥ä¸‹æ¥çš„é‡å¿ƒ"></a>æ¥ä¸‹æ¥çš„é‡å¿ƒ</h3><p>è¿™ä¸ªæœˆåŸºæœ¬å°±æ˜¯åœ¨ç–¯ç‹‚åŠ ç­äº†ï¼Œæ²¡æ—¶é—´åšé¥­ï¼Œæ²¡æ—¶é—´å¥èº«ï¼Œæ²¡æ—¶é—´åšä»»ä½•äº‹â€¦</p><p>æ‰€ä»¥ï¼Œæ¥ä¸‹æ¥æœ‰å‡ ç‚¹è¦æ”¹å˜çš„ï¼š</p><ul><li>å‡å°‘åŠ ç­</li><li>å­¦ä¹ æ–°æŠ€èƒ½</li><li>é‡æ–°å¼€å§‹å¥èº« (ä»Šå¹´å‰5ä¸ªæœˆæ‰“å¡äº†90å¤©ï¼Œ6æœˆåˆ°ç°åœ¨2ä¸ªåŠæœˆäº†å§ï¼Œæ‰“å¡ä¸åˆ°10å¤©â€¦.)</li></ul><h3 id="é¢˜å¤–è¯"><a href="#é¢˜å¤–è¯" class="headerlink" title="é¢˜å¤–è¯"></a>é¢˜å¤–è¯</h3><p>å…¬å¸çš„æ¤…å­åçš„å¥½èˆ’æœã€‚ã€‚ã€‚</p><p>æœ¬æ¥æƒ³ä¹°ä¸ªå…¬å¸åŒæ¬¾çš„æ¤…å­(å•ä¹°1kå¤šä¸€ç‚¹)ï¼Œç„¶åå–å®¶åªå¯¹å…¬ï¼Œä¸å–ç»™ä¸ªäººã€‚ã€‚ã€‚</p><p>ç„¶å <em>ä¸€æ€’ä¹‹ä¸‹</em> ï¼Œä¹°ä¸ªäº†3kçš„äººä½“å·¥ç¨‹å­¦æ¤…å­ã€‚ã€‚ã€‚</p><p>emmmmâ€¦</p><p>å°‘å»ä¸¤æ¬¡åŒ»é™¢å°±å›æœ¬äº†</p><p>å°‘å»ä¸‰æ¬¡å°±èµšäº†</p><p>å››æ¬¡å°±è¡€èµšï¼ï¼â€¦</p><p>ç„¶åï¼Œç»ˆäºå¯ä»¥æ„‰å¿«çš„åœ¨å®¶é‡ŒåŠ ç­äº†ï¼â€¦</p><p>(à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿ç»­åŠ ç­1ä¸ªæœˆäº†ï¼Œå¤©å¤©åŠ ç­10ç‚¹å¤šï¼Œåˆ°å®¶11ç‚¹åŠï¼Œå‘¨æœ«ä¹Ÿåœ¨åŠ ç­ï¼ŒåŸºæœ¬æ²¡æœ‰å“ªå¤©æ˜¯12ç‚¹ä»¥å‰ç¡çš„ã€‚æ˜æ˜¾æ„Ÿè§‰æ‰›ä¸ä½äº†ï¼Œèº«ä½“è¶Šæ¥è¶Šå·®ï¼Œä¸€åº¦å¤„äº &lt;strong&gt;çŒæ­»çš„è¾¹ç¼˜&lt;/strong&gt; â€¦..&lt;/p&gt;&lt;p&gt;å¥½åœ¨è¿™ä¸ªé¡¹ç›®ç»ˆäºå®Œæˆäº†(å…¶å®è¿˜æ²¡å®Œå…¨ç»“æŸï¼Œè¿˜åœ¨ä¿®bugé˜¶æ®µï¼Œç„¶ååˆè¢«å®‰æ’å»å¦ä¸€ä¸ªé¡¹ç›®äº†â€¦7å¤©å¼€å‘æ—¶é—´ï¼Œ1ä¸ªæ˜ŸæœŸ+2ä¸ªå‘¨å…­ï¼Œ&lt;strong&gt;æ„Ÿè§‰è¦çŒæ­»äº†&lt;/strong&gt; â€¦..)&lt;/p&gt;&lt;p&gt;åæ§½ä¸è¦å¤ªå¤š&lt;/p&gt;&lt;p&gt;å½“ç„¶ï¼Œæ”¶è·ä¹Ÿæ˜¯å¾ˆå¤š&lt;/p&gt;&lt;p&gt;æ‰€ä»¥ï¼Œå°±æ€»ç»“äº†ä¸€å“ˆâ€¦.&lt;/p&gt;
    
    </summary>
    
      <category term="æ—¥è®°æœ¬" scheme="http://jian2333.github.io/categories/%E6%97%A5%E8%AE%B0%E6%9C%AC/"/>
    
    
      <category term="webå‰ç«¯" scheme="http://jian2333.github.io/tags/web%E5%89%8D%E7%AB%AF/"/>
    
      <category term="vue" scheme="http://jian2333.github.io/tags/vue/"/>
    
      <category term="iview" scheme="http://jian2333.github.io/tags/iview/"/>
    
      <category term="git" scheme="http://jian2333.github.io/tags/git/"/>
    
      <category term="webpack" scheme="http://jian2333.github.io/tags/webpack/"/>
    
      <category term="echarts" scheme="http://jian2333.github.io/tags/echarts/"/>
    
  </entry>
  
  <entry>
    <title>Macä¸‹é…ç½®å¤šä¸ªGitè´¦æˆ·</title>
    <link href="http://jian2333.github.io/2019/07/08/multi-git/"/>
    <id>http://jian2333.github.io/2019/07/08/multi-git/</id>
    <published>2019-07-08T13:30:47.000Z</published>
    <updated>2019-07-12T16:28:41.497Z</updated>
    
    <content type="html"><![CDATA[<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>git</code> éƒ½æ˜¯é…ç½®ä¸€ä¸ªå…¨å±€ <code>user.name</code> å’Œ <code>user.email</code> ï¼Œæ¯æ¬¡è¦ç”¨æ—¶ä½¿ç”¨è¯¥å…¨å±€å‚æ•°å³å¯ã€‚</p><p>ä½†æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½è¦åŒæ—¶ä½¿ç”¨å¤šä¸ªä¸åŒçš„è¿œç¨‹ä»“åº“ï¼Œæ¯”å¦‚ä¸ªäººç”¨çš„ <code>github</code> ä½¿ç”¨ <code>é‚®ç®±a</code> ï¼Œå…¬å¸ç”¨çš„ <code>gitlab/gitea</code> ä½¿ç”¨ <code>é‚®ç®±b</code> ï¼Œç­‰ç­‰ã€‚</p><p>é‚£ä¹ˆï¼Œå¦‚ä½•åœ¨æœ¬åœ°çš„Macä¸Šé…ç½®å¤šä¸ªgitè´¦æˆ·å‘¢ã€‚</p><p>æˆ‘ä»¬ç»§ç»­å¾€ä¸‹çœ‹ ï½</p><a id="more"></a><p><img src="/images/mg-1.jpg" alt></p><h3 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h3><h4 id="èµ·å› "><a href="#èµ·å› " class="headerlink" title="èµ·å› "></a>èµ·å› </h4><p>èµ·å› å¾ˆç®€å•ï¼Œå°±æ˜¯å› ä¸ºè‡ªå·±ä¸€ç›´ç”¨ <code>github</code> ï¼Œç„¶åå…¬å¸ç°åœ¨ç”¨ <code>gitea</code> ã€‚</p><p>ç„¶åï¼Œé‚®ç®±è¿˜ä¸ä¸€æ ·ï¼Œä¹Ÿå°±æ˜¯ <code>ç”Ÿæˆçš„å¯†é’¥</code> æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥è¦é…ç½®å¤šä¸ª <code>git</code> è´¦å·åœ¨ä¸€å°ç”µè„‘ä¸Šã€‚</p><p>ç„¶åï¼Œå°±æœ‰äº†æœ¬æ–‡â€¦.</p><h4 id="ç›¸å…³ç»†èŠ‚"><a href="#ç›¸å…³ç»†èŠ‚" class="headerlink" title="ç›¸å…³ç»†èŠ‚"></a>ç›¸å…³ç»†èŠ‚</h4><p>å…³äº <strong>ä¸€å°ç”µè„‘ä½¿ç”¨å¤šç§ç±»å‹è¿œç¨‹ä»“åº“(<code>github</code>ã€<code>gitlab</code>ã€<code>gitea</code> ç­‰)æ˜¯å¦éœ€è¦é…å¤šä¸ªgit</strong> ï¼Œè¿™é‡Œæœ‰å‡ ä¸ªç»†èŠ‚éœ€è¦è¯´æ˜ï¼š</p><ul><li>é‚®ç®±å†³å®šç”Ÿæˆçš„å¯†é’¥keyæ˜¯å¦ä¸€è‡´ï¼›</li><li><code>ssh</code> è¿æ¥æ‰éœ€è¦å¯†é’¥(é…ç½®)ï¼Œ<code>http</code> è¿æ¥ä¸éœ€è¦å¯†é’¥/é‚®ç®±(é…ç½®)ï¼›</li><li>å¯¹äºæœªé…ç½® <code>user.name</code> å’Œ <code>user.email</code> çš„ <code>git</code> è´¦å·ï¼Œ<code>git</code> æäº¤è®°å½•é‡Œé»˜è®¤ä½¿ç”¨å½“å‰ç”µè„‘ <code>ç™»é™†çš„ç”¨æˆ·å</code> å’Œ <code>ç”µè„‘å</code> ï¼›</li></ul><p><strong>æ‰€ä»¥ï¼š</strong></p><ul><li>å¦‚æœä½¿ç”¨ <code>http</code> ç±»å‹æ¥ <code>pull</code>ã€<code>push</code> ä»£ç ï¼Œ<strong>ä¸éœ€è¦é…ç½®ï¼ï¼</strong></li><li>å¦‚æœå¤šç§ç±»å‹çš„è¿œç¨‹ä»“åº“ï¼Œä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªé‚®ç®±ï¼Œ<strong>ä¹Ÿä¸éœ€è¦é…ç½®ï¼ï¼</strong></li><li>å¦‚æœéœ€è¦é…ç½®çš„è¯ï¼Œ<strong>éœ€è¦é…ç½®æ¯ä¸ªé¡¹ç›®çš„ <code>user.name</code> å’Œ <code>user.email</code></strong> ï¼Œè€Œ <strong>ä¸èƒ½é…ç½®å…¨å±€çš„ <code>user.name</code> å’Œ <code>user.email</code></strong> ã€‚</li></ul><h3 id="é…ç½®æ­¥éª¤"><a href="#é…ç½®æ­¥éª¤" class="headerlink" title="é…ç½®æ­¥éª¤"></a>é…ç½®æ­¥éª¤</h3><h4 id="æ¸…é™¤å…¨å±€çš„-user-name-å’Œ-user-email"><a href="#æ¸…é™¤å…¨å±€çš„-user-name-å’Œ-user-email" class="headerlink" title="æ¸…é™¤å…¨å±€çš„ user.name å’Œ user.email"></a>æ¸…é™¤å…¨å±€çš„ <code>user.name</code> å’Œ <code>user.email</code></h4><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¯èƒ½ä¹‹å‰å·²ä½¿ç”¨äº†ä»¥ä¸‹è„šæœ¬è¿›è¡Œäº†å…¨å±€é…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">"xxx"</span>// é…ç½®å…¨å±€ç”¨æˆ·åï¼Œå¦‚githubä¸Šæ³¨å†Œçš„ç”¨æˆ·å</span><br><span class="line">git config --global user.email <span class="string">"yyy"</span>// é…ç½®å…¨å±€é‚®ç®±ï¼Œå¦‚githubä¸Šæ³¨å†Œçš„é‚®ç®±</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸ç¡®å®šæ˜¯å¦å·²ç»å…¨å±€é…ç½®ï¼Œå¯ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è¿›è¡ŒæŸ¥çœ‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name</span><br><span class="line">git config --global user.email</span><br></pre></td></tr></table></figure><p>å¦‚æœå·²ç»é…ç½®äº†ï¼Œå…ˆåˆ æ‰å…¨å±€é…ç½®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global --<span class="built_in">unset</span> user.name</span><br><span class="line">git config --global --<span class="built_in">unset</span> user.email</span><br></pre></td></tr></table></figure><h4 id="ä¸ºæ¯ä¸ªè´¦å·ç”Ÿæˆä¸€å¯¹å¯†é’¥"><a href="#ä¸ºæ¯ä¸ªè´¦å·ç”Ÿæˆä¸€å¯¹å¯†é’¥" class="headerlink" title="ä¸ºæ¯ä¸ªè´¦å·ç”Ÿæˆä¸€å¯¹å¯†é’¥"></a>ä¸ºæ¯ä¸ªè´¦å·ç”Ÿæˆä¸€å¯¹å¯†é’¥</h4><p>é¦–å…ˆè¿›å…¥ä¿å­˜å¯†é’¥çš„ç›®å½•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/.ssh// è¿›å…¥ç›®å½•ï¼Œè¯¥ç›®å½•ä¸‹ä¿å­˜ç”Ÿæˆçš„å¯†é’¥</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œæ ¹æ® <code>è´¦å·é‚®ç®±</code> ç”Ÿæˆ <code>å¯†é’¥</code> ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">"xxx@qq.com"</span></span><br></pre></td></tr></table></figure><p>è¾“å…¥å®Œæˆåï¼Œä¼šæœ‰å¦‚ä¸‹æç¤ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/Users/qiu/.ssh/id_rsa):</span><br></pre></td></tr></table></figure><p>è¿™é‡Œè¦æ±‚å¯¹å¯†é’¥è¿›è¡Œå‘½åã€‚</p><ul><li>é»˜è®¤çš„æ–‡ä»¶åæ˜¯ <code>id_rsa</code> ã€‚</li><li>ä¸ºäº†æ–¹ä¾¿åŒºåˆ†ï¼Œæˆ‘ä»¬å¯ä»¥å‘½åä¸º <code>id_rsa_github</code> å’Œ <code>id_rsa_gitea</code> ï¼Œæ¥ä¸‹æ¥ä¸€ç›´å›è½¦ï¼Œç›´åˆ°å¯†é’¥ç”Ÿæˆã€‚</li><li>æ¯æ¬¡ç”Ÿæˆçš„å¯†é’¥éƒ½æ˜¯æˆå¯¹çš„ï¼Œæ¯”å¦‚ <code>id_rsa_github</code> å’Œ <code>id_rsa_github.pub</code> ã€‚å…¶ä¸­ <code>id_rsa_github</code> æ˜¯ç§é’¥ï¼Œæ˜¯ä¿å­˜åœ¨ <code>æœ¬åœ°</code> ç”¨æ¥éªŒè¯æœåŠ¡å™¨çš„ï¼Œä¸èƒ½æ³„éœ²çš„ï¼›<code>id_rsa_github.pub</code> æ˜¯å…¬é’¥ï¼Œæ˜¯æ·»åŠ åˆ° <code>æ‰˜ç®¡ç½‘ç«™</code> ä¸Šçš„ã€‚</li><li><img src="/images/mg-2.jpg" alt></li></ul><h4 id="ç§é’¥æ·»åŠ åˆ°æœ¬åœ°"><a href="#ç§é’¥æ·»åŠ åˆ°æœ¬åœ°" class="headerlink" title="ç§é’¥æ·»åŠ åˆ°æœ¬åœ°"></a>ç§é’¥æ·»åŠ åˆ°æœ¬åœ°</h4><p><code>SSH</code> åè®®çš„åŸç†ï¼Œå°±æ˜¯åœ¨æ‰˜ç®¡ç½‘ç«™ä¸Šä½¿ç”¨ <code>å…¬é’¥</code> ï¼Œåœ¨æœ¬åœ°ä½¿ç”¨ <code>ç§é’¥</code> ã€‚è¿™æ ·æœ¬åœ°ä»“åº“å°±å¯ä»¥å’Œè¿œç¨‹ä»“åº“è¿›è¡Œé€šä¿¡äº†ã€‚</p><p>ä¸Šä¸€æ­¥å·²ç»ç”Ÿæˆäº† <code>å¯†é’¥æ–‡ä»¶</code> ï¼Œæ¥ä¸‹æ¥éœ€è¦ä½¿ç”¨ <code>å¯†é’¥æ–‡ä»¶</code> ã€‚é¦–å…ˆæ˜¯åœ¨æœ¬åœ°ä½¿ç”¨ <code>å¯†é’¥æ–‡ä»¶</code> ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh-add ~/.ssh/id_rsa_github// å°†githubç§é’¥æ·»åŠ åˆ°æœ¬åœ°</span><br><span class="line">ssh-add ~/.ssh/id_rsa_gitea// å°†giteaç§é’¥æ·»åŠ åˆ°æœ¬åœ°</span><br></pre></td></tr></table></figure><p>ä¸ºäº†æ ¡éªŒæœ¬åœ°æ˜¯å¦æ·»åŠ æˆåŠŸï¼Œå¯ä»¥ä½¿ç”¨ <code>ssh-add -l</code> å‘½ä»¤è¿›è¡ŒæŸ¥çœ‹</p><h4 id="å¯¹æœ¬åœ°å¯†é’¥è¿›è¡Œé…ç½®"><a href="#å¯¹æœ¬åœ°å¯†é’¥è¿›è¡Œé…ç½®" class="headerlink" title="å¯¹æœ¬åœ°å¯†é’¥è¿›è¡Œé…ç½®"></a>å¯¹æœ¬åœ°å¯†é’¥è¿›è¡Œé…ç½®</h4><p>ç”±äºæ·»åŠ äº†å¤šä¸ª <code>å¯†é’¥æ–‡ä»¶</code> ï¼Œæ‰€ä»¥éœ€è¦å¯¹è¿™å¤šä¸ªå¯†é’¥è¿›è¡Œç®¡ç†ã€‚åœ¨ <code>.ssh</code> ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª <code>config</code> æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch config</span><br></pre></td></tr></table></figure><p>æ–‡ä»¶ä¸­çš„å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Host github.com // ç½‘ç«™çš„åˆ«åï¼Œéšæ„å–</span><br><span class="line">HostName github.com // æ‰˜ç®¡ç½‘ç«™çš„åŸŸå</span><br><span class="line">User xxx // æ‰˜ç®¡ç½‘ç«™ä¸Šçš„ç”¨æˆ·å</span><br><span class="line">IdentityFile ~/.ssh/id_rsa_github // ä½¿ç”¨çš„å¯†é’¥æ–‡ä»¶</span><br><span class="line">Port zz// å¯é€‰ï¼Œç«¯å£</span><br><span class="line"></span><br><span class="line">// Giteaçš„é…ç½®ç›¸åŒ</span><br><span class="line">Host git.ym</span><br><span class="line">HostName git.ym</span><br><span class="line">User yyy</span><br><span class="line">IdentityFile ~/.ssh/id_rsa_gitea</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼š</strong></p><ul><li><code>config</code> æ–‡ä»¶ä¸­ä¸å…è®¸æœ‰ä»»ä½•æ³¨é‡Šï¼Œæ‰€ä»¥ <code>//</code> æ³¨é‡Š<strong>è¯·åˆ æ‰</strong>ï¼</li><li><code>Host</code> åˆ«åæ˜¯ç”¨æ¥æ›¿ä»£ <code>HostName</code> åŸŸåçš„ï¼Œæ‰€ä»¥ä¸ºäº†ä½¿åŸæ¥çš„é…ç½®ç»§ç»­ç”Ÿæ•ˆï¼Œå»ºè®® <strong><code>Host</code> è®¾ç½®æˆå’Œ <code>HostName</code> ä¸€æ ·</strong> ã€‚</li></ul><h4 id="å…¬é’¥æ·»åŠ åˆ°æ‰˜ç®¡ç½‘ç«™ä¸Š"><a href="#å…¬é’¥æ·»åŠ åˆ°æ‰˜ç®¡ç½‘ç«™ä¸Š" class="headerlink" title="å…¬é’¥æ·»åŠ åˆ°æ‰˜ç®¡ç½‘ç«™ä¸Š"></a>å…¬é’¥æ·»åŠ åˆ°æ‰˜ç®¡ç½‘ç«™ä¸Š</h4><p>ä»¥ <code>github</code> ä¸ºä¾‹</p><ul><li>å…ˆåœ¨æœ¬åœ°å¤åˆ¶å…¬é’¥ã€‚è¿›å…¥ <code>.ssh</code> ç›®å½•ï¼Œå¤åˆ¶ <code>id_rsa_github.pub</code> é‡Œçš„å…¬é’¥ã€‚</li><li>ç„¶åç™»é™† <code>github</code>ï¼Œæ·»åŠ å¤åˆ¶çš„å…¬é’¥ã€‚</li><li><img src="/images/mg-3.jpg" alt></li></ul><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æµ‹è¯•ï¼Œæ˜¯å¦é…ç½®æˆåŠŸï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><h3 id="å¦‚ä½•ä½¿ç”¨"><a href="#å¦‚ä½•ä½¿ç”¨" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h3><h4 id="å¦‚æœæ˜¯ç”¨è¿œç¨‹ä»“åº“cloneä¸‹æ¥"><a href="#å¦‚æœæ˜¯ç”¨è¿œç¨‹ä»“åº“cloneä¸‹æ¥" class="headerlink" title="å¦‚æœæ˜¯ç”¨è¿œç¨‹ä»“åº“cloneä¸‹æ¥"></a>å¦‚æœæ˜¯ç”¨è¿œç¨‹ä»“åº“cloneä¸‹æ¥</h4><p><strong>ä½¿ç”¨ <code>SSH</code> åè®®</strong></p><p><del>ä¹Ÿä¸ç”¨ä»»ä½•æ“ä½œï¼Ÿ(ä¸ç¡®å®šï¼Œå¾…è·Ÿè¿›..)</del></p><p><strong>ä½¿ç”¨ <code>HTTP</code> åè®®</strong></p><p>ä¸éœ€è¦ä»»ä½•æ“ä½œï¼Œ<code>git clone</code> çš„æ—¶å€™ä¼šè¦æ±‚ä½ è¾“å…¥ <code>user.name</code> å’Œ <code>user.email</code> ã€‚</p><p><strong>PSï¼š</strong>å…³äºä¿å­˜å¯†ç ï¼š</p><ul><li>ç¬¬ä¸€æ¬¡ <code>git clone</code>ã€<code>git pull</code>ã€<code>git push</code> çš„æ—¶å€™ä¼šè¦æ±‚ä½ è¾“å…¥å¯†ç ï¼Œè¾“å…¥ä¹‹åå¯ä»¥é€‰æ‹© <strong>æ°¸ä¹…ä¿å­˜</strong> ï¼Œå¦‚æœä¹‹å <code>github/gitlab/gitea</code> çš„è´¦å·å¯†ç ä¿®æ”¹äº†ï¼Œåœ¨è¿›è¡Œç›¸åº”æ“ä½œæ—¶ä¼šè¦æ±‚ä½ é‡æ–°è¾“å…¥å¯†ç ã€‚</li><li>å¦‚æœç‚¹äº†å–æ¶ˆï¼Œä»¥åæ¯æ¬¡ <code>git pull</code>ã€<code>git push</code> éƒ½è¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œå¾ˆéº»çƒ¦â€¦å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤è®°ä½å¯†ç (ä»…é™ <code>httpåè®®</code> )ã€‚</li><li>è¾“å…¥ <code>git config credential.helper store</code> ï¼Œè¾“å…¥ä¹‹åä¸‹æ¬¡ <code>git pull</code>ã€<code>git push</code> æ—¶ä¼šè¦æ±‚è¾“å…¥å¯†ç ï¼Œè¾“å…¥ä¸€æ¬¡å <code>git</code> å°±ä¼šä¸€ç›´è®°ä½äº†ã€‚</li></ul><h4 id="å¦‚æœæ˜¯æœ¬åœ°å·²æœ‰çš„ä»“åº“"><a href="#å¦‚æœæ˜¯æœ¬åœ°å·²æœ‰çš„ä»“åº“" class="headerlink" title="å¦‚æœæ˜¯æœ¬åœ°å·²æœ‰çš„ä»“åº“"></a>å¦‚æœæ˜¯æœ¬åœ°å·²æœ‰çš„ä»“åº“</h4><p>éœ€è¦é…ç½®æ¯ä¸ªä»“åº“çš„ <code>user.name</code> å’Œ <code>user.email</code> ï¼š</p><p>è¿›å…¥åˆ°å¯¹åº”ä»“åº“çš„ç›®å½•ä¸‹ã€‚</p><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config user.name <span class="string">"xxx"</span></span><br><span class="line">git config user.email <span class="string">"yyy@qq.com"</span></span><br></pre></td></tr></table></figure><p>OKï¼å¤§åŠŸå‘Šæˆ ï¼</p><hr><p>æ›´æ–°ï¼š<code>hexo</code> ä¸­ <code>git</code> è®°å½•æ­£å¸¸ï¼Œä½†ç›´æ¥éƒ¨ç½²çš„è„šæœ¬ <code>hexo d</code> å¼‚å¸¸ï¼Œè¯¥è„šæœ¬<del>è²Œä¼¼ä½¿ç”¨å…¨å±€å‚æ•°ï¼Ÿ</del> å°±æ˜¯ä½¿ç”¨çš„å…¨å±€ <code>user.name</code> å’Œ <code>user.email</code> â€¦.</p><p>å…³äºå¦‚ä½•ä¿®æ”¹ <code>hexo d</code> ä½¿ç”¨å½“å‰é¡¹ç›®çš„ <code>user.name</code> å’Œ <code>user.email</code></p><p>å‚è€ƒ <a href="https://github.com/hexojs/hexo/issues/2125" target="_blank" rel="noopener">èƒ½å¦hexo deploy æ—¶æŒ‡å®šgitè´¦æˆ· #2125</a> ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ &lt;code&gt;git&lt;/code&gt; éƒ½æ˜¯é…ç½®ä¸€ä¸ªå…¨å±€ &lt;code&gt;user.name&lt;/code&gt; å’Œ &lt;code&gt;user.email&lt;/code&gt; ï¼Œæ¯æ¬¡è¦ç”¨æ—¶ä½¿ç”¨è¯¥å…¨å±€å‚æ•°å³å¯ã€‚&lt;/p&gt;&lt;p&gt;ä½†æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½è¦åŒæ—¶ä½¿ç”¨å¤šä¸ªä¸åŒçš„è¿œç¨‹ä»“åº“ï¼Œæ¯”å¦‚ä¸ªäººç”¨çš„ &lt;code&gt;github&lt;/code&gt; ä½¿ç”¨ &lt;code&gt;é‚®ç®±a&lt;/code&gt; ï¼Œå…¬å¸ç”¨çš„ &lt;code&gt;gitlab/gitea&lt;/code&gt; ä½¿ç”¨ &lt;code&gt;é‚®ç®±b&lt;/code&gt; ï¼Œç­‰ç­‰ã€‚&lt;/p&gt;&lt;p&gt;é‚£ä¹ˆï¼Œå¦‚ä½•åœ¨æœ¬åœ°çš„Macä¸Šé…ç½®å¤šä¸ªgitè´¦æˆ·å‘¢ã€‚&lt;/p&gt;&lt;p&gt;æˆ‘ä»¬ç»§ç»­å¾€ä¸‹çœ‹ ï½&lt;/p&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="git" scheme="http://jian2333.github.io/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>é‡æ’é‡ç»˜ ä¸æ€§èƒ½ä¼˜åŒ–</title>
    <link href="http://jian2333.github.io/2019/06/23/reflow-repaint/"/>
    <id>http://jian2333.github.io/2019/06/23/reflow-repaint/</id>
    <published>2019-06-23T06:46:43.000Z</published>
    <updated>2019-07-08T15:51:14.392Z</updated>
    
    <content type="html"><![CDATA[<p>æ€§èƒ½ä¼˜åŒ–æ˜¯ä¸ªè€ç”Ÿå¸¸è°ˆçš„è¯é¢˜äº†ï¼Œé‡æ’é‡ç»˜ä¹Ÿæ˜¯æ€§èƒ½ä¼˜åŒ–çš„ä¸€ç§ã€‚</p><p>å‡å°‘æˆ–é¿å…é‡æ’é‡ç»˜ï¼Œèƒ½æœ‰æ•ˆåœ°æå‡æµè§ˆå™¨æ€§èƒ½ã€‚</p><p>é‚£ä¹ˆï¼Œå¦‚ä½•å‡å°‘æˆ–é¿å…é‡æ’é‡ç»˜å‘¢ï¼Ÿ</p><p>æœ¬æ–‡å°†ä» <code>css</code> å’Œ <code>js</code> ä¸¤ä¸ªè§’åº¦æ¥åˆ†æ ï½</p><a id="more"></a><h3 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><p><img src="/images/rr-1.jpg" alt></p><h4 id="é‡æ’"><a href="#é‡æ’" class="headerlink" title="é‡æ’"></a>é‡æ’</h4><ul><li>é‡æ’åˆå« <code>reflow</code> ï¼ŒæŒ‡çš„æ˜¯ä¸ºäº†é‡æ–°æ¸²æŸ“éƒ¨åˆ†æˆ–æ•´ä¸ªé¡µé¢ï¼Œé‡æ–°è®¡ç®—é¡µé¢å…ƒç´ çš„ <strong>ä½ç½®</strong> å’Œ <strong>å‡ ä½•ç»“æ„</strong> çš„è¿›ç¨‹ã€‚</li><li>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯å½“å…ƒç´ æ”¹å˜çš„æ—¶å€™ï¼Œå°†ä¼šå½±å“æ–‡æ¡£å†…å®¹æˆ–ç»“æ„ï¼Œæˆ–å…ƒç´ ä½ç½®ï¼Œæ­¤è¿‡ç¨‹å«åš <code>reflow</code> ã€‚</li><li><code>reflow</code> æ˜¯å¯¼è‡´ <code>DOMè„šæœ¬</code> æ‰§è¡Œæ•ˆç‡ä½ä¸‹çš„å…³é”®å› ç´ ä¹‹ä¸€ã€‚é¡µé¢ä¸Šä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹è§¦å‘äº† <code>reflow</code> ï¼Œéƒ½ä¼šå¯¼è‡´å®ƒçš„ <strong>å­èŠ‚ç‚¹</strong> å’Œ <strong>ç¥–å…ˆèŠ‚ç‚¹</strong> é‡æ–°æ¸²æŸ“ã€‚</li></ul><p><strong>é‚£ä¹ˆï¼Œä»€ä¹ˆæ—¶å€™ä¼šå¯¼è‡´ reflow å‘ç”Ÿå‘¢</strong></p><ul><li>æ”¹å˜çª—å£å¤§å°</li><li>æ”¹å˜æ–‡å­—å¤§å°</li><li>æ·»åŠ /åˆ é™¤æ ·å¼è¡¨</li><li>å†…å®¹çš„æ”¹å˜ï¼Œï¼ˆç”¨æˆ·åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥å†…å®¹ä¹Ÿä¼šï¼‰</li><li>æ¿€æ´»ä¼ªç±»ï¼Œå¦‚ <code>:hover</code></li><li>æ“ä½œ <code>class</code> å±æ€§</li><li>è„šæœ¬æ“ä½œ <code>DOM</code></li><li>è®¡ç®— <code>offsetWidth</code> å’Œ <code>offsetHeight</code></li><li>è®¾ç½® <code>style</code> å±æ€§</li></ul><table><thead><tr><th>å¸¸è§çš„é‡æ’å…ƒç´ </th><th></th><th></th><th></th></tr></thead><tbody><tr><td>width</td><td>height</td><td>padding</td><td>margin</td></tr><tr><td>display</td><td>border-width</td><td>border</td><td>top</td></tr><tr><td>position</td><td>font-size</td><td>float</td><td>bottom</td></tr><tr><td>overflow-y</td><td>font-weight</td><td>over</td><td>left</td></tr><tr><td>font-family</td><td>line-height</td><td>vertical-align</td><td>right</td></tr><tr><td>clear</td><td>white-space</td><td>text-align</td><td>min-height</td></tr></tbody></table><h4 id="é‡ç»˜"><a href="#é‡ç»˜" class="headerlink" title="é‡ç»˜"></a>é‡ç»˜</h4><ul><li>é‡ç»˜åˆå« <code>repaint</code> ï¼ŒæŒ‡çš„æ˜¯å½“å…ƒç´ æ”¹å˜æ—¶ï¼Œå°†ä¸ä¼šå½±å“å…ƒç´ åœ¨å½“å‰é¡µé¢ä¸­çš„ä½ç½®ï¼ˆæ¯”å¦‚ <code>background-color</code>ï¼Œ<code>border-color</code>ï¼Œ<code>visibility</code>ï¼‰ï¼Œè€Œä»…ä»…ä¼šåº”ç”¨æ–°çš„æ ·å¼é‡ç»˜æ­¤å…ƒç´ çš„è¿‡ç¨‹ã€‚</li></ul><p><strong>é‚£ä¹ˆï¼Œä»€ä¹ˆæ—¶å€™ä¼šå‘ç”Ÿ repaint å‘¢</strong></p><table><thead><tr><th>å¸¸è§çš„é‡ç»˜å…ƒç´ </th><th></th><th></th><th></th></tr></thead><tbody><tr><td>color</td><td>border-style</td><td>visibility</td><td>background</td></tr><tr><td>text-decoration</td><td>background-image</td><td>background-position</td><td>background-repeat</td></tr><tr><td>outline-color</td><td>outline</td><td>outline-style</td><td>border-radius</td></tr><tr><td>outline-width</td><td>box-shadow</td><td>background-size</td></tr></tbody></table><h3 id="jsæ–¹é¢çš„ä¼˜åŒ–"><a href="#jsæ–¹é¢çš„ä¼˜åŒ–" class="headerlink" title="jsæ–¹é¢çš„ä¼˜åŒ–"></a>jsæ–¹é¢çš„ä¼˜åŒ–</h3><p>jsæ–¹é¢ä¸»è¦æ˜¯ä» <code>DOM</code> è§’åº¦æ¥ä¼˜åŒ–é‡æ’é‡ç»˜ã€‚åŒ…æ‹¬ä»¥ä¸‹å‡ æ–¹é¢ï¼š</p><ul><li>æ–‡æ¡£ç‰‡æ®µ</li><li>ä½¿ç”¨ <code>innerHTML</code></li><li>æœåŠ¡ç«¯æ¸²æŸ“</li><li>ä½¿ç”¨äº‹ä»¶ä»£ç†</li><li>å‡å°‘ <code>HTMLCollection</code> è®¿é—®</li><li>å°½é‡ä¸ä¿®æ”¹å½±å“æ¯”è¾ƒå¤§çš„ <code>DOM</code></li><li>å‡½æ•°èŠ‚æµ</li></ul><p><strong>æ–‡æ¡£ç‰‡æ®µ</strong></p><ul><li><p>åœ¨å¤šæ¬¡æ“ä½œ <code>DOM</code> æ—¶ï¼Œæ¯”å¦‚ç»™ä¸€ä¸ª <code>&lt;ul&gt;</code> å…ƒç´ æ·»åŠ å¤šä¸ª <code>&lt;li&gt;</code> æ—¶ï¼Œæ¯æ·»åŠ ä¸€æ¬¡ <code>&lt;li&gt;</code> éƒ½ä¼šè¿›è¡Œä¸€æ¬¡ <code>ç°åœºæ›´æ–°(å³reflow)</code> ã€‚</p></li><li><p>ä½¿ç”¨ <code>æ–‡æ¡£ç‰‡æ®µ</code> çš„è¯ï¼Œåªä¼šè¿›è¡Œä¸€æ¬¡ <code>ç°åœºæ›´æ–°(reflow)</code> ã€‚</p></li><li><p>ä½¿ç”¨ <code>appendChild()</code> æ—¶ï¼Œåªæœ‰ <code>æ–‡æ¡£ç‰‡æ®µ</code> çš„ <code>å­èŠ‚ç‚¹</code> ä¼šæ·»åŠ åˆ°ç›®æ ‡ï¼Œ<code>æ–‡æ¡£ç‰‡æ®µ</code> æœ¬èº«ä¸ä¼šè¢«æ·»åŠ åˆ°ç›®æ ‡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list = <span class="built_in">document</span>.getElementById(<span class="string">'myList'</span>),</span><br><span class="line">    fragment = <span class="built_in">document</span>.createDocumentFragment(),</span><br><span class="line">    item,</span><br><span class="line">    i;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++) &#123;</span><br><span class="line">  item = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</span><br><span class="line">  fragment.appendChild(item);</span><br><span class="line">  item.appendChild(<span class="built_in">document</span>.createTextNode(<span class="string">'item'</span> + i));</span><br><span class="line">&#125;</span><br><span class="line">list.appendChild(fragment);</span><br></pre></td></tr></table></figure></li></ul><p><strong>ä½¿ç”¨ innerHTML</strong></p><ul><li><p>å…ˆæ‹¼æ¥å¥½è¦æ¸²æŸ“çš„ <code>htmlå­—ç¬¦ä¸²</code> ã€‚</p></li><li><p>ç„¶åä½¿ç”¨ <code>innerHTML</code> è¿›è¡Œä¸€æ¬¡æ¸²æŸ“ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list = <span class="built_in">document</span>.getElementById(<span class="string">'myList'</span>),</span><br><span class="line">    html = <span class="string">''</span>,</span><br><span class="line">    i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++) &#123;</span><br><span class="line">  html += <span class="string">'&lt;li&gt;item'</span> + i + <span class="string">'&lt;/li&gt;/br'</span>;</span><br><span class="line">&#125;</span><br><span class="line">list.innerHTML = html;</span><br></pre></td></tr></table></figure></li></ul><p><strong>æœåŠ¡ç«¯æ¸²æŸ“</strong></p><ul><li>å’Œ <strong>ä½¿ç”¨ innerHTML</strong> ç±»ä¼¼ï¼Œåªæ˜¯æœåŠ¡ç«¯ä¼šè¿”å› <strong>æ‹¼æ¥å¥½çš„ htmlå­—ç¬¦ä¸²</strong> ï¼Œè€Œä¸éœ€è¦å‰ç«¯æ‹¼æ¥ <code>htmlå­—ç¬¦ä¸²</code> äº†ã€‚</li><li>ç„¶åç›´æ¥ä½¿ç”¨ <code>innerHTML</code> è¿›è¡Œä¸€æ¬¡æ¸²æŸ“å³å¯ã€‚</li></ul><p><strong>ä½¿ç”¨äº‹ä»¶ä»£ç†</strong></p><ul><li>ã€ŠJavaScript é«˜çº§ç¨‹åºè®¾è®¡ã€‹P675ã€‚</li><li>é¡µé¢ä¸Šçš„ <code>äº‹ä»¶å¤„ç†ç¨‹åºçš„æ•°é‡</code> å’Œ <code>é¡µé¢å“åº”ç”¨æˆ·äº¤äº’çš„é€Ÿåº¦</code> å‘ˆè´Ÿç›¸å…³ã€‚æ‰€ä»¥ï¼Œå¦‚æœå‡å°‘ <code>äº‹ä»¶å¤„ç†ç¨‹åºçš„æ•°é‡</code> ï¼Œé‚£ <code>å“åº”é€Ÿåº¦</code> å°†ä¼šæ›´å¿«ã€‚</li><li>å¯¹äºåŒä¸€ä¸ªäº‹ä»¶ï¼Œå¯ä»¥åœ¨ <code>å¯¹åº”DOM</code> ä¸Šå®šä¹‰ï¼Œä¹Ÿå¯ä»¥åœ¨ <code>çˆ¶å…ƒç´ </code> ä¸Šå®šä¹‰ä¸€å¤§ç‰‡äº‹ä»¶ï¼Œåè€…åˆ™æ˜¯äº‹ä»¶ä»£ç†ã€‚</li></ul><p><strong>å‡å°‘ HTMLCollection è®¿é—®</strong></p><ul><li><p>ä»»ä½•æ—¶å€™è®¿é—® <code>HTMLCollection</code> éƒ½å¾ˆè€—èµ„æºã€‚</p></li><li><p>æ‰€ä»¥å¯ä»¥æŠŠè¦è®¿é—®çš„ <code>HTMLCollectionp[i]</code> å­˜æ”¾åˆ°ä¸€ä¸ªå˜é‡é‡Œï¼Œä¹‹åè¦ç”¨æ—¶ç›´æ¥è®¿é—®å˜é‡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> images = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'img'</span>),</span><br><span class="line">    image,</span><br><span class="line">    i,</span><br><span class="line">    len;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">0</span>,len=images.length;i&lt;len;i++) &#123;</span><br><span class="line">  image = images[i];</span><br><span class="line">  <span class="comment">// ä¸€äº›æ“ä½œ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>å°½é‡ä¸ä¿®æ”¹å½±å“æ¯”è¾ƒå¤§çš„ DOM</strong></p><ul><li>å°½å¯èƒ½é™åˆ¶ <code>reflow</code> çš„å½±å“èŒƒå›´ï¼Œå°½å¯èƒ½åœ¨ä½å±‚çº§çš„ <code>DOM</code> ä¸Šè¿›è¡Œæ“ä½œã€‚</li></ul><p><strong>å‡½æ•°èŠ‚æµ</strong></p><ul><li><p><code>å‡½æ•°èŠ‚æµ</code> çš„åŸºæœ¬æ€æƒ³æ˜¯ï¼Œä¸èƒ½åœ¨æ²¡æœ‰é—´æ–­çš„æƒ…å†µä¸‹(æ¯”å¦‚ <code>onresize</code>)è¿ç»­é‡å¤æ‰§è¡ŒæŸäº›ä»£ç ï¼Œå› ä¸ºè¿™å¯èƒ½å¯¼è‡´æµè§ˆå™¨å´©æºƒã€‚</p></li><li><p>å®ç°è¿‡ç¨‹ï¼šç¬¬ä¸€æ¬¡è°ƒç”¨å‡½æ•°æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ª <strong>å®šæ—¶å™¨</strong> ï¼Œåœ¨æŒ‡å®šçš„æ—¶é—´é—´éš”ä¹‹åå†æ‰§è¡Œä»£ç ï¼›ç¬¬äºŒæ¬¡è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œä¼šå…ˆæ¸…é™¤å‰ä¸€æ¬¡çš„ <strong>å®šæ—¶å™¨</strong> å¹¶ <strong>è®¾ç½®å¦ä¸€ä¸ª</strong> ã€‚</p></li><li><p>ç›®çš„æ˜¯ åªæœ‰åœ¨æ‰§è¡Œå‡½æ•°çš„è¯·æ±‚åœæ­¢äº†ä¸€æ®µæ—¶é—´åæ‰æ‰§è¡Œ(æ–°å‡½æ•°) ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æœªä½¿ç”¨å‡½æ•°èŠ‚æµ</span></span><br><span class="line"><span class="comment">// é¢‘ç¹çš„æ›´æ–°DOMï¼Œå¯èƒ½å¯¼è‡´æµè§ˆå™¨å´©æºƒ</span></span><br><span class="line"><span class="built_in">window</span>.onresize = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementById(<span class="string">'myDiv'</span>);</span><br><span class="line">  div.style.height = div.offsetWidth + <span class="string">'px'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨å‡½æ•°èŠ‚æµ</span></span><br><span class="line"><span class="comment">// åªæœ‰å‰é¢å‡½æ•°åœæ­¢ä¸€æ®µæ—¶é—´åï¼Œæ‰ä¼šæ‰§è¡Œç¬¬äºŒä¸ªå‡½æ•°</span></span><br><span class="line"><span class="comment">// æé«˜äº†æ€§èƒ½</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">method, context</span>) </span>&#123;</span><br><span class="line">  clearTimeout(method.Id);</span><br><span class="line">  method.Id = setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    method.call(context);</span><br><span class="line">  &#125;, <span class="number">100</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">resizeDiv</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementById(<span class="string">'myDiv'</span>);</span><br><span class="line">  div.style.height = div.offsetHeight + <span class="string">'px'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">window</span>.onresize = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  throttle(resizeDiv);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="cssæ–¹é¢çš„ä¼˜åŒ–"><a href="#cssæ–¹é¢çš„ä¼˜åŒ–" class="headerlink" title="cssæ–¹é¢çš„ä¼˜åŒ–"></a>cssæ–¹é¢çš„ä¼˜åŒ–</h3><p><code>css</code> æ–¹é¢çš„ä¼˜åŒ–ä¸»è¦æ˜¯æŒ‡ <code>éDOM</code> æ–¹é¢çš„ä¼˜åŒ–ã€‚åŒ…æ‹¬ä»¥ä¸‹å‡ æ–¹é¢ï¼š</p><ul><li>å°½é‡ä½¿ç”¨ <code>className</code> æ¥ä¸€æ¬¡ä¿®æ”¹æ ·å¼ï¼Œè€Œä¸æ˜¯é«˜é¢‘çš„æ¯æ¬¡åªä¿®æ”¹ä¸€æ¡æ ·å¼ã€‚</li><li>å¤šæ¬¡ä¿®æ”¹ <code>DOM</code> æ ·å¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>å…ˆæ”¹æˆdisplay:none --&gt; ä¿®æ”¹næ¬¡æ ·å¼ --&gt; æœ€åæ”¹æˆdisplay:xxx</code> ã€‚</li><li>ä¸ºåŠ¨ç”»çš„å…ƒç´ ä½¿ç”¨ç»å¯¹å®šä½ <code>absolute</code> æˆ– <code>fixed</code> ï¼Œå‡å°‘é™„è¿‘å…ƒç´ çš„é‡æ’é‡ç»˜ã€‚</li><li>å°½é‡å°‘ä½¿ç”¨ <code>table</code> ã€‚å› ä¸º <code>table</code> ä¸€ä¸ªå•å…ƒæ ¼æ ·å¼çš„æ”¹å˜ï¼Œä¼šå¯¼è‡´æ•´ä¸ª <code>table</code> é‡æ’é‡ç»˜ï¼Œæ€§èƒ½æ¶ˆè€—å·¨å¤§ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ€§èƒ½ä¼˜åŒ–æ˜¯ä¸ªè€ç”Ÿå¸¸è°ˆçš„è¯é¢˜äº†ï¼Œé‡æ’é‡ç»˜ä¹Ÿæ˜¯æ€§èƒ½ä¼˜åŒ–çš„ä¸€ç§ã€‚&lt;/p&gt;&lt;p&gt;å‡å°‘æˆ–é¿å…é‡æ’é‡ç»˜ï¼Œèƒ½æœ‰æ•ˆåœ°æå‡æµè§ˆå™¨æ€§èƒ½ã€‚&lt;/p&gt;&lt;p&gt;é‚£ä¹ˆï¼Œå¦‚ä½•å‡å°‘æˆ–é¿å…é‡æ’é‡ç»˜å‘¢ï¼Ÿ&lt;/p&gt;&lt;p&gt;æœ¬æ–‡å°†ä» &lt;code&gt;css&lt;/code&gt; å’Œ &lt;code&gt;js&lt;/code&gt; ä¸¤ä¸ªè§’åº¦æ¥åˆ†æ ï½&lt;/p&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="webå‰ç«¯" scheme="http://jian2333.github.io/tags/web%E5%89%8D%E7%AB%AF/"/>
    
      <category term="css" scheme="http://jian2333.github.io/tags/css/"/>
    
      <category term="js" scheme="http://jian2333.github.io/tags/js/"/>
    
      <category term="æ€§èƒ½ä¼˜åŒ–" scheme="http://jian2333.github.io/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>æ°´å¹³ã€å‚ç›´å’Œå®Œå…¨å±…ä¸­</title>
    <link href="http://jian2333.github.io/2019/06/22/centered/"/>
    <id>http://jian2333.github.io/2019/06/22/centered/</id>
    <published>2019-06-22T09:20:23.000Z</published>
    <updated>2019-06-22T16:43:58.386Z</updated>
    
    <content type="html"><![CDATA[<p>ä¹‹å‰ä¹Ÿæ€»ç»“è¿‡å¾ˆå¤šå±…ä¸­æ–¹æ³•ï¼Œä½†éƒ½æ²¡æœ‰å†™ä¸‹æ¥ï¼ˆå¯¹ï¼Œæˆ‘å°±æ˜¯æ‡’ï¼ŒåŠ ä¸ªä¹¦ç­¾å°±å®Œäº‹äº†â€¦..ï¼‰..</p><p><del>ç„¶åå§</del> æ²¡æœ‰ç„¶åï¼Œæ¯æ¬¡è¦çœ‹çš„æ—¶å€™å°±å¾ˆéº»çƒ¦</p><p>å†ç„¶åå§ï¼Œè¿˜æ˜¯å†³å®šå†™ä¸‹æ¥å¥½äº†â€¦</p><p>â•®(â•¯â–½â•°)â•­</p><p>æ‰€ä»¥ï¼Œæœ¬æ–‡å°†æ€»ç»“å‡ ç§å¸¸ç”¨çš„æ°´å¹³ã€å‚ç›´å’Œå®Œå…¨å±…ä¸­æ–¹æ³•</p><p>okï¼Œæ­£æ–‡å¼€å§‹ï¼</p><a id="more"></a><h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><p>æœ¬æ–‡å°†ä»‹ç»å‡ ç§å¸¸ç”¨çš„æ°´å¹³ã€å‚ç›´å’Œå®Œå…¨å±…ä¸­æ–¹æ³•ã€‚</p><p>ä¸»è¦æ–¹æ³•æœ‰ï¼š<code>3ç§ç»å¯¹å®šä½</code>ã€<code>flex</code>ã€<code>table</code>ã€<code>ä¼ªå…ƒç´ ::after</code> ç­‰æ–¹æ³•ã€‚</p><p><img src="/images/ct-1.jpg" alt></p><p>åé¢çš„ä¾‹å­éƒ½ä»¥æ­¤ <code>html</code> ä¸ºæ ·æœ¬ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"centered"</span>&gt;</span></span><br><span class="line">    æˆ‘æ˜¯å±…ä¸­æ–‡å­—</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong> <code>ç»å¯¹å®šä½+è´Ÿmargin</code>ã€<code>åªä½¿ç”¨ç»å¯¹å®šä½</code> å’Œ <code>ç»å¯¹å®šä½+transform</code> å¯¹åº”çš„9ç§å±…ä¸­é‡Œï¼Œæœ‰7ç§ <code>position</code> å€¼å¯ä»¥æ˜¯ä¸‹é¢ä»»æ„ä¸€ç§ç»„åˆã€‚</p><ul><li>çˆ¶å…ƒç´ ä¸º <code>position: relative</code> ï¼Œå­å…ƒç´ ä¸º <code>position: absolute</code> ã€‚</li><li>çˆ¶å…ƒç´ é»˜è®¤ <code>position</code> ï¼Œå­å…ƒç´ ä¸º <code>position:relative</code> ã€‚</li><li>å‰©ä¸‹ <code>åªä½¿ç”¨ç»å¯¹å®šä½(å‚ç›´å±…ä¸­)</code> å’Œ <code>åªä½¿ç”¨ç»å¯¹å®šä½(å®Œå…¨å±…ä¸­)</code> ä¸¤ç§ï¼Œ<code>position</code> åªèƒ½ä½¿ç”¨ <code>relative + absolute</code> çš„ç¬¬ä¸€ç§æ–¹å¼ã€‚</li></ul><h3 id="æ°´å¹³å±…ä¸­"><a href="#æ°´å¹³å±…ä¸­" class="headerlink" title="æ°´å¹³å±…ä¸­"></a>æ°´å¹³å±…ä¸­</h3><p><strong>å†…è”å…ƒç´ </strong></p><ul><li><p><code>å†…è”å…ƒç´ </code> ç›´æ¥ä½¿ç”¨ <code>text-align: center</code> ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">display</span>: inline;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>æ¨¡æ‹Ÿtable</strong></p><ul><li><p><code>åŒºå—å…ƒç´ </code> æ¨¡æ‹Ÿæˆ <code>table</code> ï¼Œç„¶åä½¿ç”¨ <code>text-align: center</code> ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">  <span class="attribute">display</span>: table;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">display</span>: table-cell;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>flex</strong></p><ul><li><p><code>ä»»ä½•å…ƒç´ </code> æ”¹æˆ <code>å¼¹æ€§ç›’å­</code> ç±»å‹ï¼Œç„¶åä½¿ç”¨ <code>justify-content: center</code> ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>ç»å¯¹å®šä½+è´Ÿmargin</strong></p><ul><li><p><strong>è®¾ç½®å­å…ƒç´ ï¼š</strong>ä½¿ç”¨ <code>left: 50%</code> å®šä½åˆ°çˆ¶å…ƒç´ æ°´å¹³ä¸­å¿ƒï¼Œç„¶å <code>margin-left: -xpx</code> å‘å·¦åç§»å­å…ƒç´  <strong>å®½çš„ä¸€åŠ</strong> ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">50px</span>;<span class="comment">/* 100pxçš„ä¸€åŠ */</span></span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>åªä½¿ç”¨ç»å¯¹å®šä½</strong></p><ul><li><p><strong>è®¾ç½®å­å…ƒç´ </strong> <code>left: 0</code> ï¼Œ<code>right: 0</code> å’Œ <code>margin: x auto</code> æ¥å®ç°æ°´å¹³æ–¹å‘å±…ä¸­ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;<span class="comment">/* ä¸ç¡®å®š */</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>ç»å¯¹å®šä½+translateX</strong></p><ul><li><p><strong>è®¾ç½®å­å…ƒç´ ï¼š</strong> ä½¿ç”¨ <code>left: 50%</code> å®šä½åˆ°çˆ¶å…ƒç´ çš„æ°´å¹³ä¸­å¿ƒï¼Œç„¶å <code>transform: translateX(-50%)</code> å‘å·¦åç§»å­å…ƒç´  <strong>å®½çš„ä¸€åŠ</strong> ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-50%);</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="å‚ç›´å±…ä¸­"><a href="#å‚ç›´å±…ä¸­" class="headerlink" title="å‚ç›´å±…ä¸­"></a>å‚ç›´å±…ä¸­</h3><p><strong>å•è¡Œ+è¡Œé«˜å›ºå®š</strong></p><ul><li><p>è®¾ç½® <code>line-height</code> ç­‰äº <code>height</code> ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>è¡Œé«˜ä¸å›ºå®š</strong></p><ul><li><p>è®¾ç½®ä¸Šä¸‹ <code>padding</code> ç›¸ç­‰ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span></span><br><span class="line">  padding: <span class="number">40px</span>;  <span class="comment">/* æ°´å¹³æ–¹å‘ä¸èƒ½ä½¿ç”¨autoï¼Œå³ä½¿æˆ‘ä»¬åªæƒ³è®¾ç½®å‚ç›´æ–¹å‘çš„padding */</span></span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>ä¼ªå…ƒç´ ::beforeï¼ˆæ¨èï¼ŒæŠ€å·§ï¼‰</strong></p><ul><li><p>åˆ©ç”¨çˆ¶å…ƒç´ çš„ <code>vertical-align: middle</code> å±æ€§æ¥å®ç°å‚ç›´å±…ä¸­ã€‚</p></li><li><p><code>vertical-align</code> é€‚ç”¨äº <code>å†…è”å…ƒç´ </code> ï¼Œæ‰€ä»¥å­å…ƒç´ è¦è®¾ç½®æˆ <code>display:inline</code> æˆ– <code>display:inline-block</code> ã€‚</p></li><li><p><code>vertical-align</code> æ˜¯ç›¸å¯¹ <strong>æ‰€æœ‰å­å…ƒç´ å‚ç›´å±…ä¸­</strong>ï¼Œå¦‚æœæœ‰ä¸€ä¸ªå­å…ƒç´ çš„é«˜åº¦ä¸º 100%ï¼Œé‚£å°±ä¼š <strong>ç›¸å¯¹çˆ¶å…ƒç´ å‚ç›´å±…ä¸­</strong> äº† ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ ä¸€ä¸ªé«˜åº¦ä¸º100%çš„ä¼ªå…ƒç´ æ¥è¾¾åˆ°è¿™ç§æ•ˆæœã€‚</p><p><img src="/images/ct-2.jpg" alt></p><p><img src="/images/ct-3.jpg" alt></p></li><li><p>å®ç°ä»£ç ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> soild pink;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span>: &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.parent</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>æ¨¡æ‹Ÿtable</strong></p><ul><li><p>æŠŠå…ƒç´ æ¨¡æ‹Ÿæˆ <code>table</code> ï¼Œç„¶åä½¿ç”¨ <code>vertical-align: middle</code> æ¥å®ç°å‚ç›´å±…ä¸­ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">  <span class="attribute">display</span>: table;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">display</span>: table-cell;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>transform</strong></p><ul><li><p>å’Œ <code>æ°´å¹³å±…ä¸­</code> ç±»ä¼¼ï¼Œåªæ˜¯æ”¹æˆå‚ç›´æ–¹å‘ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-50%);</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>flex</strong></p><ul><li><p>åˆ©ç”¨ <code>align-items: center</code> æ¥å®ç° <code>å‚ç›´å±…ä¸­</code> ã€‚</p></li><li><p><code>align-self</code> ä¹Ÿå¯ä»¥ <code>å‚ç›´å±…ä¸­</code> ã€‚åŒºåˆ«æ˜¯ <code>align-items</code> è®¾ç½®åœ¨ <code>å¼¹æ€§å®¹å™¨</code> ä¸Šï¼Œ<code>align-self</code> è®¾ç½®åœ¨ <code>å¼¹æ€§å­å…ƒç´ </code> ä¸Šã€‚</p></li><li><p><code>align-content</code> ä¹Ÿå¯ä»¥è¾¾åˆ° <code>å‚ç›´å±…ä¸­</code> çš„æ•ˆæœï¼Œä½†æ˜¯å¿…é¡»è®¾ç½® <code>flex-wrap: wrap</code> æˆ– <code>flex-flow: xx wrap</code> ï¼ˆ<code>wrap-reverse</code> ä¹Ÿå¯ï¼‰ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>ç»å¯¹å®šä½</strong></p><ul><li><p>å’Œ <code>æ°´å¹³å±…ä¸­</code> ç±»ä¼¼ï¼Œåˆ†ä¸º <code>ç»å¯¹å®šä½+è´Ÿmargin</code>ã€<code>åªä½¿ç”¨ç»å¯¹å®šä½</code> å’Œ <code>ç»å¯¹å®šä½+translateY</code> ä¸‰ç§ã€‚</p></li><li><p>æœ€åä¸€ç§åœ¨ä¸Šé¢ <code>transform</code> å·²ç»ä»‹ç»è¿‡äº†ï¼Œè¿™é‡Œåªä»‹ç»å‰é¢ä¸¤ç§ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">ç»å¯¹å®šä½+è´Ÿmargin</span></span><br><span class="line"><span class="comment">é€‚ç”¨äº é«˜åº¦ç¡®å®š çš„æƒ…å†µ</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: -<span class="number">30px</span>;<span class="comment">/* 60pxçš„ä¸€åŠ */</span></span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">åªä½¿ç”¨ç»å¯¹å®šä½</span></span><br><span class="line"><span class="comment">é€‚ç”¨äº é«˜åº¦ä¸ç¡®å®š çš„æƒ…å†µ</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;<span class="comment">/* ä¸ç¡®å®š */</span></span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="å®Œå…¨å±…ä¸­"><a href="#å®Œå…¨å±…ä¸­" class="headerlink" title="å®Œå…¨å±…ä¸­"></a>å®Œå…¨å±…ä¸­</h3><p><code>å®Œå…¨å±…ä¸­</code> å°±æ˜¯æŠŠ <code>æ°´å¹³å±…ä¸­</code> å’Œ <code>å‚ç›´å±…ä¸­</code> ç»„åˆèµ·æ¥ï¼Œä½¿ç”¨çš„å¤§éƒ¨åˆ†æ–¹æ³•å‰é¢éƒ½å·²ç»ä»‹ç»è¿‡äº†ã€‚</p><h4 id="å…ƒç´ é«˜åº¦ç¡®å®š"><a href="#å…ƒç´ é«˜åº¦ç¡®å®š" class="headerlink" title="å…ƒç´ é«˜åº¦ç¡®å®š"></a>å…ƒç´ é«˜åº¦ç¡®å®š</h4><p><strong>ç»å¯¹å®šä½+è´Ÿmargin</strong></p><ul><li><p>ä½¿ç”¨ <code>left: 50%</code> å’Œ <code>top: 50%</code> å®šä½åˆ°çˆ¶å…ƒç´ çš„å®Œå…¨ä¸­å¿ƒï¼Œç„¶åä½¿ç”¨ <code>margin-left:-xpx</code> å’Œ <code>margin-top: -ypx</code> æ¥æ°´å¹³å’Œå‚ç›´åç§»å­å…ƒç´  <strong>ä¸€åŠçš„å®½é«˜</strong> ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: -<span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="å…ƒç´ é«˜åº¦ä¸ç¡®å®š"><a href="#å…ƒç´ é«˜åº¦ä¸ç¡®å®š" class="headerlink" title="å…ƒç´ é«˜åº¦ä¸ç¡®å®š"></a>å…ƒç´ é«˜åº¦ä¸ç¡®å®š</h4><p><strong>åªä½¿ç”¨ç»å¯¹å®šä½</strong></p><ul><li><p>ä½¿ç”¨ <code>left: 0</code>ã€<code>top: 0</code>ã€<code>right:0</code>ã€<code>bottom: 0</code> å’Œ <code>margin: auto</code> æ¥è®¾ç½®æˆ <code>å®Œå…¨å±…ä¸­</code> ã€‚</p></li><li><p><code>position</code> åªèƒ½ä½¿ç”¨ <code>relative + absolute</code> è¿™ç§ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>ç»å¯¹å®šä½+translate</strong></p><ul><li><p>ä½¿ç”¨ <code>left: 50%</code> å’Œ <code>top: 50%</code> æ¥å®šä½åˆ°çˆ¶å…ƒç´ çš„å®Œå…¨ä¸­å¿ƒï¼Œç„¶åä½¿ç”¨ <code>transform: translate(-50%, -50%)</code> å‘å·¦ä¸Šåç§»å­å…ƒç´  <strong>å®½é«˜çš„ä¸€åŠ</strong> ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(-%50, -50%);</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>æ¨¡æ‹Ÿtable</strong></p><ul><li><p>æ¨¡æ‹Ÿæˆ <code>table</code> ï¼Œç„¶åä½¿ç”¨ <code>text-align: center</code> å’Œ <code>vertical-align: middle</code> æ¥è¾¾åˆ° <code>å®Œå…¨å±…ä¸­</code> ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">  <span class="attribute">display</span>: table;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">display</span>: table-cell;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>ä¼ªå…ƒç´ ::beforeï¼ˆæ¨èï¼ŒæŠ€å·§ï¼‰</strong></p><ul><li><p>æ°´å¹³æ–¹å‘ä½¿ç”¨ <code>dispaly:inline-block</code> å’Œ <code>text-align: center</code> æ¥å®ç°ã€‚</p></li><li><p>å‚ç›´æ–¹å‘ä½¿ç”¨ <code>::before</code> ä¼ªå…ƒç´ æ¥å®ç°ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.center</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.parent</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>flex</strong></p><ul><li><p>ä½¿ç”¨ <code>justify-content: center</code> æ¥æ°´å¹³å±…ä¸­ã€‚</p></li><li><p>ä½¿ç”¨ <code>align-items: center</code> æ¥å‚ç›´å±…ä¸­ã€‚</p></li><li><p><code>align-self</code> å’Œ <code>align-content</code> ä¹Ÿå¯ç”¨æ¥å‚ç›´å±…ä¸­ï¼Œåªæ˜¯å‰è€…è¦ä½¿ç”¨åœ¨ <code>å¼¹æ€§å­å®¹å™¨</code> ä¸Šï¼Œåè€…è¦æ·»åŠ  <code>flex-wrap: wrap</code> ï¼ˆæˆ–ç›¸å…³ï¼‰ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid pink;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.centered</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¹‹å‰ä¹Ÿæ€»ç»“è¿‡å¾ˆå¤šå±…ä¸­æ–¹æ³•ï¼Œä½†éƒ½æ²¡æœ‰å†™ä¸‹æ¥ï¼ˆå¯¹ï¼Œæˆ‘å°±æ˜¯æ‡’ï¼ŒåŠ ä¸ªä¹¦ç­¾å°±å®Œäº‹äº†â€¦..ï¼‰..&lt;/p&gt;&lt;p&gt;&lt;del&gt;ç„¶åå§&lt;/del&gt; æ²¡æœ‰ç„¶åï¼Œæ¯æ¬¡è¦çœ‹çš„æ—¶å€™å°±å¾ˆéº»çƒ¦&lt;/p&gt;&lt;p&gt;å†ç„¶åå§ï¼Œè¿˜æ˜¯å†³å®šå†™ä¸‹æ¥å¥½äº†â€¦&lt;/p&gt;&lt;p&gt;â•®(â•¯â–½â•°)â•­&lt;/p&gt;&lt;p&gt;æ‰€ä»¥ï¼Œæœ¬æ–‡å°†æ€»ç»“å‡ ç§å¸¸ç”¨çš„æ°´å¹³ã€å‚ç›´å’Œå®Œå…¨å±…ä¸­æ–¹æ³•&lt;/p&gt;&lt;p&gt;okï¼Œæ­£æ–‡å¼€å§‹ï¼&lt;/p&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="webå‰ç«¯" scheme="http://jian2333.github.io/tags/web%E5%89%8D%E7%AB%AF/"/>
    
      <category term="css" scheme="http://jian2333.github.io/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>åˆè¯† webpack</title>
    <link href="http://jian2333.github.io/2019/06/16/webpack/"/>
    <id>http://jian2333.github.io/2019/06/16/webpack/</id>
    <published>2019-06-16T13:22:50.000Z</published>
    <updated>2019-06-16T16:28:24.737Z</updated>
    
    <content type="html"><![CDATA[<p>webpack æ˜¯ä¸€ä¸ªç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å™¨ã€‚</p><p>å½“ä½¿ç”¨ webpack æ‰“åŒ…æ—¶ï¼Œwebpack ä¼šä»ä¸€ä¸ªæˆ–å¤šä¸ªå…¥å£å¤„ï¼Œé€’å½’åœ°æ„å»ºä¸€ä¸ª <code>ä¾èµ–å…³ç³»å›¾(dependency graph)</code> ï¼Œå…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åºæ‰€éœ€è¦çš„æ‰€æœ‰æ¨¡å—ï¼Œç„¶åæ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ª <code>bundle</code> æ–‡ä»¶ã€‚</p><p>webpack å¯ä»¥æ‰“åŒ… <code>js</code>ã€<code>css</code>ã€<code>sass</code>ã€<code>less</code> ã€<code>typescript</code>ã€<code>å›¾ç‰‡</code> ç­‰æ–‡ä»¶ï¼Œé»˜è®¤åªèƒ½æ‰“åŒ… <code>js</code> æ ¼å¼çš„æ–‡ä»¶ï¼Œå…¶ä»–æ ¼å¼çš„æ–‡ä»¶éœ€è¦åŠ è½½ <code>loader</code> åå†æ‰“åŒ…ã€‚</p><p>ç¼–å†™æœ¬æ–‡çš„æ—¶å€™ï¼Œwebpack çš„æœ€æ–°ç‰ˆä¸º <code>v4.34.0</code> ã€‚</p><a id="more"></a><h3 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><p>webpack å¯ä½¿ç”¨ <code>ç»ˆç«¯/å‘½ä»¤è¡Œ</code> æ¥æ‰§è¡Œï¼Œå½“ç„¶ï¼Œwebpack è¿˜æ˜¯ <strong>é«˜åº¦å¯é…ç½®çš„</strong> ã€‚</p><p>webpack æœ‰ä»¥ä¸‹å››ä¸ª <strong>æ ¸å¿ƒæ¦‚å¿µ</strong> ï¼š</p><ul><li>å…¥å£(entry)</li><li>è¾“å‡º(output)</li><li>loader</li><li>æ’ä»¶(plugins)</li></ul><p><strong>å…¥å£(entry)</strong></p><ul><li><p>webpack æ‰“åŒ…æ—¶çš„å…¥å£ï¼›</p></li><li><p>å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå…¥å£ï¼›</p></li><li><p>å…¥å£ä¼šä¾èµ–å…¶ä»–æ–‡ä»¶ï¼Œwebpack ä¼šä»¥æ­¤ä¸ºä¾æ®ï¼Œè¿›è€Œæ‰¾åˆ°å…¶ä»–ä¾èµ–çš„æ–‡ä»¶å’Œå…³ç³»ï¼Œç„¶åä¸€èµ·æ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ª <code>bundle.js</code> æ–‡ä»¶ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">'./app/main.js'</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ul><p><strong>å‡ºå£(output)</strong></p><ul><li><p>ç”¨äºæè¿°æ‰“åŒ…åçš„ <code>bundle.js</code> æ–‡ä»¶çš„å­˜æ”¾è·¯å¾„å’Œå‘½åè§„åˆ™ï¼Œé»˜è®¤å€¼ä¸º <code>./dist</code> ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">'./app/main.js'</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'public'</span>),</span><br><span class="line">    <span class="comment">// ç­‰æ•ˆäº path: __dirname + '/public',</span></span><br><span class="line">    filename: <span class="string">'bundle.js'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// __dirname æ˜¯node.jsçš„ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œè¡¨ç¤ºå½“å‰æ‰§è¡Œè„šæœ¬æ‰€åœ¨çš„ç›®å½•</span></span><br></pre></td></tr></table></figure></li></ul><p><strong>loader</strong></p><ul><li><p><code>loader</code> èƒ½å¤Ÿè®© webpack æ‰“åŒ…é‚£äº› <code>éjavascript</code> æ–‡ä»¶ï¼›</p></li><li><p><code>loader</code> éœ€è¦å•ç‹¬å®‰è£…å¹¶åœ¨ <code>webpack.config.js</code> ä¸­çš„ <code>modules</code> å…³é”®å­—ä¸‹è¿›è¡Œé…ç½®ï¼Œ<code>loader</code> çš„é…ç½®åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p><ul><li><code>test</code> ï¼šä¸€ä¸ªç”¨ä»¥åŒ¹é… <code>loader</code> æ‰€å¤„ç†æ–‡ä»¶çš„æ‰©å±•åçš„æ­£åˆ™è¡¨è¾¾å¼(å¿…é¡») ï¼›</li><li><del><code>loader</code></del> <code>use</code> ï¼š<code>loader</code> çš„åç§°(å¿…é¡») ï¼›</li><li><del><code>include/exclude</code> ï¼šæ‰‹åŠ¨æ·»åŠ å¿…é¡»å¤„ç†çš„æ–‡ä»¶(æ–‡ä»¶å¤¹) æˆ–å±è”½ä¸éœ€å¤„ç†çš„æ–‡ä»¶(æ–‡ä»¶å¤¹) ï¼›</del></li><li><del><code>query</code> ï¼šä¸º <code>loader</code> æä¾›é¢å¤–çš„å¤„ç†é€‰é¡¹ ï¼›</del></li></ul></li><li><p><a href="https://www.webpackjs.com/concepts/loaders/" target="_blank" rel="noopener">æ›´å¤šä¿¡æ¯</a> ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123; <span class="attr">test</span>: <span class="regexp">/\.css/</span>, <span class="attr">use</span>: <span class="string">'css-loader'</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">test</span>: <span class="regexp">/\.ts/</span>, <span class="attr">use</span>: <span class="string">'ts-loader'</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ul><p><strong>æ’ä»¶(plugins)</strong></p><ul><li><p><code>loader</code> è¢«ç”¨æ¥è½¬æ¢æŸäº›ç±»å‹çš„æ¨¡å—ï¼Œè€Œæ’ä»¶åˆ™ç”¨æ¥æ‰§è¡ŒèŒƒå›´æ›´å¹¿çš„ä»»åŠ¡ï¼›</p></li><li><p>æ’ä»¶çš„èŒƒå›´åŒ…æ‹¬ï¼šæ‰“åŒ…ã€ä¼˜åŒ–ã€å‹ç¼©ã€é‡æ–°å®šä¹‰ç¯å¢ƒä¸­çš„å˜é‡ç­‰å…¶ä»–åŠŸèƒ½ï¼›</p></li><li><p>æ’ä»¶çš„ä½¿ç”¨å’Œ <code>loader</code> ç±»ä¼¼ï¼Œå…ˆä½¿ç”¨ <code>npm</code> å®‰è£…ï¼Œç„¶ååœ¨ <code>webpack.config.js</code> ä¸­çš„ <code>plugins</code> å…³é”®å­—ä¸‹æ·»åŠ è¯¥æ’ä»¶çš„ä¸€ä¸ªå®ä¾‹( <code>plugins</code> æ˜¯ä¸€ä¸ªæ•°ç»„ )ã€‚</p></li><li><p><a href="https://www.webpackjs.com/concepts/plugins/" target="_blank" rel="noopener">æ›´å¤šä¿¡æ¯</a> ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123; <span class="attr">test</span>:<span class="regexp">/\.css/</span>, <span class="attr">use</span>: <span class="string">'css-loader'</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">test</span>:<span class="regexp">/\.ts/</span>, <span class="attr">use</span>: <span class="string">'ts-loader'</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.UglifyJsPlugin(),</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123; <span class="attr">template</span>: <span class="string">'./src/index.html'</span> &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ul><h3 id="å…¶ä»–è¦ç‚¹"><a href="#å…¶ä»–è¦ç‚¹" class="headerlink" title="å…¶ä»–è¦ç‚¹"></a>å…¶ä»–è¦ç‚¹</h3><p><strong>webpack å¯é…ç½®çš„</strong></p><ul><li><p>å¯ä½¿ç”¨ <code>ç»ˆç«¯/å‘½ä»¤è¡Œ</code> æ¥æ‰§è¡Œ webpackï¼Œä¹Ÿå¯é…ç½®å¥½ <code>webpack.config.js</code>ï¼Œç„¶åç›´æ¥ä½¿ç”¨ <code>webpack</code> å‘½ä»¤ï¼›</p></li><li><p>å…¨å±€å®‰è£…çš„ä½¿ç”¨ <code>webpack</code> å‘½ä»¤ï¼Œéå…¨å±€å®‰è£…çš„ä½¿ç”¨ <code>node_modules/.bin/webpack</code> å‘½ä»¤ï¼›</p></li><li><p>è¿™ä¸ªå‘½ä»¤ä¼šè‡ªåŠ¨å¼•ç”¨ <code>webpack.config.js</code> æ–‡ä»¶ä¸­çš„é…ç½®é€‰é¡¹ï¼›</p></li><li><p>å¦‚æœæ²¡æœ‰ <code>webpack.config.js</code> é…ç½®æ–‡ä»¶ï¼Œä¹Ÿå¯ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥æ‰“åŒ…ï¼›</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// æœªé…ç½® webpack.config.js</span><br><span class="line">// npx webpack &#123;å…¥å£&#125; -o &#123;å‡ºå£&#125;</span><br><span class="line">npx webpack app/main.js -o public/bundle.js</span><br><span class="line"></span><br><span class="line">// å·²é…ç½® webpack.config.jsï¼Œæœªé…ç½® package.json</span><br><span class="line">npx webpack --config webpack.config.js</span><br><span class="line">npx webpack</span><br><span class="line">webpack</span><br><span class="line"></span><br><span class="line">// å·²é…ç½® webpack.config.jsï¼Œå·²é…ç½® package.json</span><br><span class="line">npm start</span><br></pre></td></tr></table></figure></li></ul><p><strong>script è„šæœ¬å‘½ä»¤</strong></p><ul><li><p>å‘½ä»¤é…ç½®åœ¨ <code>package.json</code> ä¸­çš„ <code>scripts</code> å…³é”®å­—ä¸­ï¼›</p></li><li><p><code>start</code> æ˜¯ ç‰¹æ®Šçš„è„šæœ¬å‘½ä»¤ï¼Œä½¿ç”¨ <code>npm start</code> å³å¯ï¼Œå…¶ä»–è„šæœ¬ <code>xx</code> ï¼Œåˆ™éœ€ä½¿ç”¨ <code>npm run xx</code> æ¥æ‰§è¡Œï¼Œæ¯”å¦‚ <code>npm run build</code> ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"webpackdemo1"</span>,</span><br><span class="line">  <span class="string">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="string">"description"</span>: <span class="string">"webpack sample project"</span>,</span><br><span class="line">  <span class="string">"private"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="string">"main"</span>: <span class="string">"index.js"</span>,</span><br><span class="line">  <span class="string">"scripts"</span>: &#123;</span><br><span class="line">    <span class="string">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>,</span><br><span class="line">    <span class="string">"start"</span>: <span class="string">"webpack"</span>,</span><br><span class="line">    <span class="string">"server"</span>: <span class="string">"webpack-dev-server --open"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"author"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="string">"license"</span>: <span class="string">"ISC"</span>,</span><br><span class="line">  <span class="string">"devDependencies"</span>: &#123;</span><br><span class="line">    <span class="string">"webpack"</span>: <span class="string">"^4.34.0"</span>,</span><br><span class="line">    <span class="string">"webpack-cli"</span>: <span class="string">"^3.3.4"</span>,</span><br><span class="line">    <span class="string">"webpack-dev-server"</span>: <span class="string">"^3.7.1"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/images/wp-1.jpg" alt></p></li></ul><p><strong>ç”Ÿæˆ Source Maps ï¼ˆä½¿è°ƒè¯•æ›´å®¹æ˜“ï¼‰</strong></p><ul><li><p><code>source maps</code> æä¾›äº†ä¸€ç§å¯¹åº”ç¼–è¯‘æ–‡ä»¶å’Œæºæ–‡ä»¶çš„æ–¹æ³•ï¼Œä½¿ç¼–è¯‘åçš„ä»£ç å¯è¯»æ€§æ›´é«˜ï¼Œæ›´å®¹æ˜“è°ƒè¯•ï¼›</p></li><li><p>åœ¨ <code>webpack.config.js</code> ä¸­çš„ <code>devtool</code> å…³é”®å­—æ·»åŠ  <code>devtool</code> é€‰é¡¹å³å¯ï¼Œä¸€èˆ¬ä½¿ç”¨ <code>source-map</code> ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  devtool: <span class="string">"source-map"</span>,</span><br><span class="line">  entry: __dirname + <span class="string">'/app/main.js'</span>,  <span class="comment">// å·²å¤šæ¬¡æåˆ°çš„å”¯ä¸€å…¥å£æ–‡ä»¶</span></span><br><span class="line">  output: &#123;</span><br><span class="line">    path: __dirname + <span class="string">'/public'</span>,    <span class="comment">// æ‰“åŒ…åæ–‡ä»¶å­˜æ”¾çš„è·¯å¾„</span></span><br><span class="line">    filename: <span class="string">'bundle.js'</span>   <span class="comment">// æ‰“åŒ…åè¾“å‡ºçš„æ–‡ä»¶åç§°</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li><li><p><a href="https://www.webpackjs.com/configuration/devtool/" target="_blank" rel="noopener">æ›´å¤šä¿¡æ¯</a> ï¼›</p></li></ul><p><strong>webpack æ„å»ºæœ¬åœ°æœåŠ¡å™¨ï¼ˆæ”¯æŒ æ¨¡å—çƒ­æ›¿æ¢ï¼‰</strong></p><ul><li><p>webpack å¯æ„å»ºæœ¬åœ°æœåŠ¡å™¨ï¼Œç„¶åå¯é…ç½®ä¸€ç³»åˆ—ç›¸å…³çš„è®¾ç½®ï¼›</p></li><li><p>æœ¬åœ°æœåŠ¡å™¨æ”¯æŒ <strong>æ¨¡å—çƒ­æ›¿æ¢</strong> åŠŸèƒ½ï¼Œå³ä¿®æ”¹ JS ä»£ç åï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨åˆ·æ–°é¡µé¢ï¼›</p></li><li><p>ä½¿ç”¨æ–¹æ³•ï¼š</p><ul><li><p>å®‰è£… <code>webpack-dev-server</code> ç»„ä»¶ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev webpack-decv-server</span><br></pre></td></tr></table></figure></li><li><p>åœ¨ <code>webpack.config.js</code> ä¸­çš„ <code>devServer</code> å…³é”®å­—ä¸­è¿›è¡Œé…ç½®ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  ...</span><br><span class="line">  devServer: &#123;</span><br><span class="line">    contentBase: <span class="string">'./public'</span>,<span class="comment">// æœ¬åœ°æœåŠ¡å™¨æ‰€åŠ è½½çš„é¡µé¢æ‰€åœ¨çš„ç›®å½•</span></span><br><span class="line">    historyApiFallback: <span class="literal">true</span>,<span class="comment">// ä¸è·³è½¬</span></span><br><span class="line">    inline: <span class="literal">true</span><span class="comment">// å®æ—¶åˆ·æ–°</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åœ¨ <code>package.json</code> ä¸­çš„ <code>scripts</code> ä¸­æ·»åŠ å¯¹åº”çš„å‘½ä»¤( <code>server</code> å‘½ä»¤ )ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"scripts"</span>: &#123;</span><br><span class="line">  <span class="string">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>,</span><br><span class="line">  <span class="string">"start"</span>: <span class="string">"webpack"</span>,</span><br><span class="line">  <span class="string">"server"</span>: <span class="string">"webpack-dev-server --open"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åœ¨ <code>ç»ˆç«¯/å‘½ä»¤è¡Œ</code> è¾“å…¥ <code>npm run server</code> å³å¯å¯åŠ¨æœåŠ¡å™¨ï¼›</p><p><img src="/images/wp-2.jpg" alt></p></li></ul></li><li><p>æ›´å¤šä¿¡æ¯ï¼š</p><ul><li><a href="https://segmentfault.com/a/1190000006178770#articleHeader3" target="_blank" rel="noopener">ä½¿ç”¨webpackæ„å»ºæœ¬åœ°æœåŠ¡å™¨</a></li><li><a href="https://www.webpackjs.com/guides/development/#ä½¿ç”¨-webpack-dev-server" target="_blank" rel="noopener">ä½¿ç”¨ webpack-dev-server</a></li></ul></li></ul><h3 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><p><strong>æ–°å»ºé¡¹ç›®</strong></p><ul><li><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir webpackdemo</span><br><span class="line"><span class="built_in">cd</span> webpackdemo</span><br><span class="line">npm init</span><br></pre></td></tr></table></figure></li></ul><p><strong>å®‰è£… webpack å’Œ webpack-cli</strong></p><ul><li><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack webpack-cli --save-dev</span><br></pre></td></tr></table></figure></li></ul><p><strong>é…ç½® webpack</strong></p><ul><li><p>æ–°å»º <code>app</code> æ–‡ä»¶å¤¹ï¼Œç”¨æ¥å­˜æ”¾ <code>js</code> æºæ–‡ä»¶ï¼›</p></li><li><p>æ–°å»º <code>public</code> æ–‡ä»¶å¤¹ï¼Œç”¨æ¥å­˜æ”¾ <code>html</code> æ–‡ä»¶å’Œæ‰“åŒ…ç”Ÿæˆçš„ <code>bundle.js</code> æ–‡ä»¶ï¼›</p></li><li><p>å½“å‰é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š</p><p><img src="/images/wp-3.jpg" alt></p></li><li><p>é…ç½® webpack çš„ å…¥å£å’Œå‡ºå£ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    devtool: <span class="string">"source-map"</span>,</span><br><span class="line">    entry: __dirname + <span class="string">'/app/main.js'</span>,  <span class="comment">// å·²å¤šæ¬¡æåˆ°çš„å”¯ä¸€å…¥å£æ–‡ä»¶</span></span><br><span class="line">    output: &#123;</span><br><span class="line">        path: __dirname + <span class="string">'/public'</span>,    <span class="comment">// æ‰“åŒ…åæ–‡ä»¶å­˜æ”¾çš„è·¯å¾„</span></span><br><span class="line">        filename: <span class="string">'bundle.js'</span>   <span class="comment">// æ‰“åŒ…åè¾“å‡ºçš„æ–‡ä»¶åç§°</span></span><br><span class="line">    &#125;,</span><br><span class="line">    devServer: &#123;</span><br><span class="line">        contentBase: <span class="string">'./public'</span>,    <span class="comment">// æœ¬åœ°æœåŠ¡å™¨æ‰€åŠ è½½çš„é¡µé¢æ‰€åœ¨çš„ç›®å½•</span></span><br><span class="line">        historyApiFallback: <span class="literal">false</span>,   <span class="comment">// ä¸è·³è½¬</span></span><br><span class="line">        inline: <span class="literal">true</span>    <span class="comment">// å®æ—¶åˆ·æ–°</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ul><p><strong>é…ç½® script å‘½ä»¤</strong></p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line"><span class="string">"scripts"</span>: &#123;</span><br><span class="line">  <span class="string">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>,</span><br><span class="line">  <span class="string">"start"</span>: <span class="string">"webpack"</span>,</span><br><span class="line">  <span class="string">"server"</span>: <span class="string">"webpack-dev-server --open"</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li></ul><p><strong>ç¼–å†™ä»£ç </strong></p><ul><li><p>åœ¨ <code>/app</code> æ–‡ä»¶å¤¹ä¸­æ·»åŠ  <code>Greeter.js</code> å’Œ <code>main.js</code> æ–‡ä»¶ï¼›</p></li><li><p>åœ¨ <code>/public</code> æ–‡ä»¶å¤¹ä¸­æ·»åŠ  <code>index.html</code> æ–‡ä»¶ï¼›</p></li><li><p>æ–‡ä»¶å†…å®¹åˆ†åˆ«å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Greetet.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> greet = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span><br><span class="line">    greet.textContent = <span class="string">"Hi there are greetings!"</span>;</span><br><span class="line">    <span class="keyword">return</span> greet;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js å…¥å£æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">const</span> greeter = <span class="built_in">require</span>(<span class="string">'./Greeter'</span>);</span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'#root'</span>).appendChild(greeter());</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.html --&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Webpack Sample Project<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"root"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><p><strong>è¿è¡Œ</strong></p><ul><li><p>æ‰“åŒ…ç”Ÿæˆ <code>bundle.js</code> æ–‡ä»¶ï¼›</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm start</span><br></pre></td></tr></table></figure></li><li><p>å¯åŠ¨æœåŠ¡å™¨ï¼›</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run server</span><br></pre></td></tr></table></figure></li></ul><h3 id="æ¨èæ–‡ç« "><a href="#æ¨èæ–‡ç« " class="headerlink" title="æ¨èæ–‡ç« "></a>æ¨èæ–‡ç« </h3><p><a href="https://www.webpackjs.com/concepts/" target="_blank" rel="noopener">1. [æ¨è]å®˜æ–¹æ–‡æ¡£</a></p><p><a href="https://segmentfault.com/a/1190000006178770#articleHeader5" target="_blank" rel="noopener">2. [ç‰ˆæœ¬è¾ƒæ—§]å…¥é—¨Webpackï¼Œçœ‹è¿™ç¯‡å°±å¤Ÿäº†</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;webpack æ˜¯ä¸€ä¸ªç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å™¨ã€‚&lt;/p&gt;&lt;p&gt;å½“ä½¿ç”¨ webpack æ‰“åŒ…æ—¶ï¼Œwebpack ä¼šä»ä¸€ä¸ªæˆ–å¤šä¸ªå…¥å£å¤„ï¼Œé€’å½’åœ°æ„å»ºä¸€ä¸ª &lt;code&gt;ä¾èµ–å…³ç³»å›¾(dependency graph)&lt;/code&gt; ï¼Œå…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åºæ‰€éœ€è¦çš„æ‰€æœ‰æ¨¡å—ï¼Œç„¶åæ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ª &lt;code&gt;bundle&lt;/code&gt; æ–‡ä»¶ã€‚&lt;/p&gt;&lt;p&gt;webpack å¯ä»¥æ‰“åŒ… &lt;code&gt;js&lt;/code&gt;ã€&lt;code&gt;css&lt;/code&gt;ã€&lt;code&gt;sass&lt;/code&gt;ã€&lt;code&gt;less&lt;/code&gt; ã€&lt;code&gt;typescript&lt;/code&gt;ã€&lt;code&gt;å›¾ç‰‡&lt;/code&gt; ç­‰æ–‡ä»¶ï¼Œé»˜è®¤åªèƒ½æ‰“åŒ… &lt;code&gt;js&lt;/code&gt; æ ¼å¼çš„æ–‡ä»¶ï¼Œå…¶ä»–æ ¼å¼çš„æ–‡ä»¶éœ€è¦åŠ è½½ &lt;code&gt;loader&lt;/code&gt; åå†æ‰“åŒ…ã€‚&lt;/p&gt;&lt;p&gt;ç¼–å†™æœ¬æ–‡çš„æ—¶å€™ï¼Œwebpack çš„æœ€æ–°ç‰ˆä¸º &lt;code&gt;v4.34.0&lt;/code&gt; ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="webå‰ç«¯" scheme="http://jian2333.github.io/tags/web%E5%89%8D%E7%AB%AF/"/>
    
      <category term="webpack" scheme="http://jian2333.github.io/tags/webpack/"/>
    
      <category term="js" scheme="http://jian2333.github.io/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>Promise ç›¸å…³ç®€ä»‹</title>
    <link href="http://jian2333.github.io/2019/06/14/promise/"/>
    <id>http://jian2333.github.io/2019/06/14/promise/</id>
    <published>2019-06-14T12:30:25.000Z</published>
    <updated>2021-03-02T09:04:43.609Z</updated>
    
    <content type="html"><![CDATA[<p><code>promise</code> æ˜¯ <code>ECMAScript6</code> æ–°åŠ çš„ä¸€ä¸ªæ¦‚å¿µã€‚</p><p>æœ¬æ–‡å°†ä½¿ç”¨ç®€æ´çš„æ–‡å­—ä»‹ç» <code>promise</code> ï¼Œä»…ä»‹ç»å¤§æ¦‚æƒ…å†µã€‚</p><p>æ›´å¤šè¯¦æƒ…è¯·å‚è€ƒç»“å°¾çš„æ¨èæ–‡ç« ã€‚</p><p>å¥½äº†ï¼Œæ­£æ–‡å¼€å§‹ ï¼</p><a id="more"></a><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p><code>Promise</code> æ˜¯æŠ½è±¡ <code>å¼‚æ­¥æ“ä½œ</code> å¯¹è±¡ä»¥åŠå¯¹å…¶è¿›è¡Œä¸€ç³»åˆ—æ“ä½œçš„ç»„ä»¶ã€‚</p><p><code>Promise</code> æœ€å¤§çš„åŠŸèƒ½æ˜¯æŠŠ <code>å¼‚æ­¥æ“ä½œ</code> å˜ä¸º <code>åŒæ­¥æ“ä½œ</code> ã€‚å³åªæœ‰ <code>å¼‚æ­¥æ“ä½œ</code> å®Œæˆåï¼Œæ‰è¿›è¡Œåé¢çš„æ“ä½œã€‚</p><p><code>Promise</code> å®šä¹‰äº†ä¸€ç»„ <code>ä¸Šè¿°æ“ä½œ</code> ç›¸å…³çš„æ¥å£å’Œæ–¹æ³•ï¼Œç›´æ¥ä½¿ç”¨å³å¯ã€‚</p><p><strong>Promise çŠ¶æ€</strong></p><p>ä½¿ç”¨ <code>new promise</code> å®ä¾‹åŒ–çš„ <code>promiseå¯¹è±¡</code> æœ‰ä»¥ä¸‹ä¸‰ä¸ªçŠ¶æ€ï¼š</p><p><strong>Fulfilled</strong></p><p><code>resolve(æˆåŠŸ)</code> æ—¶ï¼Œæ­¤æ—¶ä¼šè°ƒç”¨ <code>onFulfilled</code> ã€‚</p><p><strong>Rejected</strong></p><p><code>reject(å¤±è´¥)</code> æ—¶ï¼Œæ­¤æ—¶ä¼šè°ƒç”¨ <code>onRejected</code> ã€‚</p><p><strong>Pending</strong></p><p>æ—¢ä¸æ˜¯ <code>resolve</code> ä¹Ÿä¸æ˜¯ <code>reject</code> çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯ <code>promise</code> å¯¹è±¡åˆšè¢«åˆ›å»ºåçš„åˆå§‹åŒ–çŠ¶æ€ã€‚</p><h3 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h3><p><strong>åˆ›å»º promise å®ä¾‹</strong></p><p>åˆ›å»ºå®ä¾‹æœ‰ä¸‰ç§æ–¹æ³•ï¼š</p><ul><li><p><code>new Promise()</code> ï¼›</p></li><li><p><code>Promise.resolve</code> ï¼›</p></li><li><p><code>Promise.reject</code> ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ–¹æ³•1</span></span><br><span class="line"><span class="keyword">var</span> promise1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">  resolve(<span class="string">'11'</span>);</span><br><span class="line">  reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'22'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–¹æ³•2</span></span><br><span class="line"><span class="keyword">var</span> promise2 = <span class="built_in">Promise</span>.resolve(<span class="string">'1'</span>);</span><br><span class="line"><span class="comment">// ç­‰æ•ˆäº</span></span><br><span class="line"><span class="keyword">var</span> promise2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">  resolve(<span class="string">'1'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–¹æ³•3 </span></span><br><span class="line"><span class="keyword">var</span> promise3 = <span class="built_in">Promise</span>.reject(<span class="string">'2'</span>);</span><br><span class="line"><span class="comment">// ç­‰æ•ˆäº</span></span><br><span class="line"><span class="keyword">var</span> promise3 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">null, reject</span>) </span>&#123;</span><br><span class="line">  reject(<span class="string">'2'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul><p><strong>resolve</strong></p><ul><li><code>Promise.resolve</code> ï¼šåˆ›å»ºå®ä¾‹ï¼›</li><li>è¿”å› <code>promise</code> å¯¹è±¡ï¼Œä¸»è¦åˆ†ä¸‹é¢3ç§æƒ…å†µï¼š<ul><li>æ¥æ”¶å‚æ•°ä¸º <code>promise</code> å¯¹è±¡ï¼šè¿”å›çš„è¿˜æ˜¯æ¥æ”¶åˆ°çš„ <code>promise</code> å¯¹è±¡ï¼›</li><li>æ¥æ”¶å‚æ•°ä¸º <code>thenable</code> ç±»å‹çš„å¯¹è±¡ï¼šè¿”å›ä¸€ä¸ªæ–°çš„ <code>promise</code> å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æœ‰å…·æœ‰ä¸€ä¸ª <code>.then</code> æ–¹æ³•ã€‚æ›´å¤š <code>thenable</code> çš„ä¿¡æ¯ï¼Œ<a href="http://liubin.org/promises-book/#ch2-promise-resolve" target="_blank" rel="noopener">ç‚¹æˆ‘æŸ¥çœ‹</a> ï¼›</li><li>æ¥æ”¶å‚æ•°ä¸º <code>å…¶ä»–ç±»å‹</code> ï¼šè¿”å›ä¸€ä¸ªå°†è¯¥å¯¹è±¡ä½œä¸ºå€¼çš„æ–°çš„ <code>promise</code> å¯¹è±¡ï¼›</li></ul></li></ul><p><strong>reject</strong></p><ul><li><code>Promise.reject</code> ï¼šåˆ›å»ºå®ä¾‹ï¼›</li><li>è¿”å›ä¸€ä¸ªä½¿ç”¨äº†æ¥æ”¶åˆ°çš„å€¼è¿›è¡Œäº† <code>reject</code> çš„æ–°çš„ <code>promise</code> å¯¹è±¡ï¼›</li><li>ä¼ ç»™ <code>Promise.reject</code> çš„å€¼åº”è¯¥æ˜¯ä¸€ä¸ª <code>Error</code> ç±»å‹çš„å¯¹è±¡ï¼›</li><li>å¦å¤–ï¼Œå’Œ <code>Promise.resolve</code> ä¸åŒçš„æ˜¯ï¼Œå³ä½¿ <code>Project.reject</code> æ¥æ”¶çš„æ˜¯ä¸€ä¸ª <code>promise</code> å¯¹è±¡ï¼Œè¯¥å‡½æ•°ä¹Ÿè¿˜æ˜¯ä¼šè¿”å›ä¸€ä¸ªå…¨æ–°çš„ <code>promise</code> å¯¹è±¡ï¼›</li></ul><p><strong>then</strong></p><ul><li><p><code>promise.then</code> ï¼š<code>promise</code> ä¸­æœ€å¸¸ç”¨çš„æ–¹æ³•ï¼›</p></li><li><p>åœ¨ <code>promise</code> å¯¹è±¡å˜ä¸º <code>resolve</code> æˆ– <code>reject</code> åï¼Œæ‰§è¡Œç›¸åº”çš„å›è°ƒå‡½æ•°ï¼›</p></li><li><p><code>then</code> ä¸­ <code>return</code> çš„å€¼ï¼Œä½œä¸ºå‚æ•°ä¼ å…¥ <code>é“¾å¼æ–¹æ³•</code> é‡Œçš„ä¸‹ä¸€ä¸ªæ–¹æ³•ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¸¸è§„ç”¨æ³•</span></span><br><span class="line"><span class="keyword">var</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  resolve(<span class="string">'11'</span>);</span><br><span class="line">  reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Boom!'</span>));</span><br><span class="line">&#125;);</span><br><span class="line">promise.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value)<span class="comment">// 11</span></span><br><span class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">error</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(error);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// é“¾å¼è°ƒç”¨ return çš„å€¼ä½œä¸ºä¸‹ä¸€ä¸ªæ–¹æ³•çš„å‚æ•°</span></span><br><span class="line"><span class="comment">// è§åé¢ é“¾å¼æ–¹æ³•</span></span><br></pre></td></tr></table></figure></li></ul><p><strong>catch</strong></p><ul><li><p><code>promise.catch</code> ï¼šå¤„ç†å¼‚å¸¸çš„æ–¹æ³•ï¼Œå’Œ <code>reject</code> ç±»ä¼¼ï¼›</p></li><li><p>åŒ…å« <code>promise</code> å¯¹è±¡å˜ä¸º <code>reject</code> ã€æ‰‹åŠ¨ <code>throw new Error()</code> ã€<code>ç³»ç»ŸæŠ›å‡ºå¼‚å¸¸</code> ä¸‰ç§æƒ…å†µï¼›</p></li><li><p>æ¨èä½¿ç”¨ <code>catch</code> ï¼Œå› ä¸ºå¯¹äº <code>then(f1,f2).catch()</code> è¿™ç§æƒ…å†µï¼Œå¦‚æœ <code>f1</code> æŠ›å‡ºå¼‚å¸¸ï¼Œ<code>f2</code> æ˜¯æ•è·ä¸äº†çš„ï¼Œé“¾å¼æ–¹æ³•åé¢çš„ <code>catch</code> æ‰èƒ½æ•è·åˆ°ï¼Œæˆ–è€…æ”¹æˆ <code>then(f1,f2).then(null,f3)</code> è¿™æ ·ï¼Œ<code>f3</code> ä¹Ÿèƒ½æ•è·åˆ°ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¸¸è§„ç”¨æ³•</span></span><br><span class="line"><span class="keyword">var</span> promise = <span class="built_in">Promise</span>.reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"BOOM!"</span>));</span><br><span class="line">promise.catch(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);<span class="comment">// Error: BOOM!</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰æ•ˆäº reject</span></span><br><span class="line">promise.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">error</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(error);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// ç­‰æ•ˆäºä¸‹é¢çš„å†™æ³•ï¼Œæ¨èç”¨ä¸‹é¢çš„å†™æ³•</span></span><br><span class="line">promise.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;).catch(<span class="function"><span class="keyword">function</span>(<span class="params">error</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(error);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¨èç”¨ catch çš„åŸå› ï¼š reject å’Œ catch éƒ½åªèƒ½æ•è·ä¸Šä¸€çº§çš„é”™è¯¯</span></span><br><span class="line"><span class="comment">// å¦‚æœç”¨ reject çš„è¯ï¼ŒåŒçº§çš„ resolve ä¸­æŠ›å‡ºå¼‚å¸¸çš„è¯ï¼Œreject å°±ä¸èƒ½æ•è·äº†</span></span><br><span class="line"><span class="comment">// è€Œå¦‚æœç”¨ catch è¯ï¼Œå› ä¸º catch æ˜¯é“¾å¼æ–¹æ³•çš„ä¸‹ä¸€çº§ï¼Œæ‰€ä»¥å¯ä»¥æ•è·åˆ°ä¸Šä¸€çº§ resolve ä¸­çš„å¼‚å¸¸</span></span><br><span class="line"><span class="comment">// ç”¨é“¾å¼æ–¹æ³• + reject çš„è¯ä¹Ÿè¡Œï¼Œæ•ˆæœå’Œ catch ä¸€æ ·</span></span><br><span class="line"><span class="comment">// ä¸‹é¢çš„å†™æ³•ï¼Œå’Œä¸Šé¢çš„ catch æ–¹æ³•æ•ˆæœä¸€æ ·ï¼Œä¸è¿‡ä¸€èˆ¬ä¸è¿™æ ·å†™ï¼Œä¸€èˆ¬ç”¨ catch</span></span><br><span class="line">promise.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value)</span><br><span class="line">&#125;).then(<span class="literal">null</span>, <span class="function"><span class="keyword">function</span>(<span class="params">error</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(error);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul><p><strong>all</strong></p><ul><li><p><code>Promise.all</code> ï¼šä¼ å…¥ä¸€ä¸ª <code>promise</code> å¯¹è±¡çš„æ•°ç»„ä½œä¸ºå‚æ•°ã€‚</p></li><li><p>åªæœ‰å½“æ•°ç»„é‡Œçš„ <strong>æ‰€æœ‰</strong> <code>promise</code> å¯¹è±¡ <strong>å…¨éƒ¨</strong> å˜ä¸º <code>resolve</code> æ—¶ï¼Œæ‰ä¼šè°ƒç”¨ <code>then</code> é‡Œç›¸åº”çš„å›è°ƒå‡½æ•°æ–¹æ³•ï¼Œ<code>then</code> å‚æ•°ä¸º <strong>æ‰€æœ‰</strong> <code>promise</code> è¿”å›å€¼ç»„æˆçš„ <strong>æ•°ç»„</strong>ã€‚</p></li><li><p>åªè¦æœ‰ä¸€ä¸ª <code>promise</code> å¯¹è±¡å˜ä¸º <code>reject</code> ï¼Œå°±ä¼šè°ƒç”¨ <code>catch</code> é‡Œçš„å›è°ƒå‡½æ•°æ–¹æ³•ï¼Œ<code>catch</code> å‚æ•°ä¸º <code>reject</code> çš„ <code>promise</code> è¿”å›å€¼ã€‚</p></li><li><p>æ•°ç»„ä¸­çš„å¤šä¸ª <code>promise</code> ä¸€èµ· <strong>åŒæ—¶å¼€å§‹ï¼Œå¹¶è¡Œæ‰§è¡Œ</strong> ã€‚</p></li><li><p>æ‰€ä»¥é¡ºåºæ˜¯ï¼š<code>(arr[0] | arr[1] | arr[2+...]) --&gt; then</code> æˆ–è€… <code>arr[0] | arr[1] --&gt; catch | arr[2+...]</code> ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> promise1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>)</span>&#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  resolve(<span class="string">'1'</span>);</span><br><span class="line">  reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Boom!'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">var</span> promise2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>)</span>&#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  resolve(<span class="string">'2'</span>);</span><br><span class="line">  reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Boom!'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">var</span> promise3 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>)</span>&#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  resolve(<span class="string">'3'</span>);</span><br><span class="line">  reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Boom!'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> promises = [promise1, promise2, promise3];</span><br><span class="line"><span class="built_in">Promise</span>.all(promises).then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);<span class="comment">// ["1", "2", "3"]</span></span><br><span class="line">&#125;).catch(<span class="function"><span class="keyword">function</span>(<span class="params">error</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul><p><strong>race</strong></p><ul><li><p><code>Promise.race</code> ï¼šå’Œ <code>Promise.all</code> ç±»ä¼¼ï¼ŒåŒºåˆ«æ˜¯ <strong>åªè¦æœ‰ä¸€ä¸ª</strong> <code>promise</code> å¯¹è±¡å˜ä¸º <code>resolve</code> æˆ– <code>reject</code> æ—¶ï¼Œå°±ä¼šè°ƒç”¨ <code>then</code> æˆ– <code>catch</code> æ–¹æ³•ï¼›</p></li><li><p>æ•°ç»„ä¸­çš„å¤šä¸ª <code>promise</code> ä¸€èµ· <strong>åŒæ—¶å¼€å§‹ï¼Œå¹¶è¡Œæ‰§è¡Œ</strong> ï¼ˆæ‰€ä»¥ç¬¬ä¸€ä¸ªæ‰§è¡Œå®Œçš„ä¸ä¸€å®šæ˜¯ <code>arr[0]</code>ï¼‰ã€‚</p></li><li><p><code>then/catch</code> æ–¹æ³•çš„å‚æ•°ä¸ºç¬¬ä¸€ä¸ªæ‰§è¡Œå®Œçš„ <code>promise</code> è¿”å›çš„å€¼ã€‚</p></li><li><p>æ‰€ä»¥é¡ºåºæ˜¯ï¼š<code>arr[x] --&gt; then/catch | arr[0] | arr[1] | arr[2+...]</code> ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> promise1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>)</span>&#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  resolve(<span class="string">'1'</span>);</span><br><span class="line">  reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Boom!'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">var</span> promise2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>)</span>&#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  resolve(<span class="string">'2'</span>);</span><br><span class="line">  reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Boom!'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">var</span> promise3 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>)</span>&#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  resolve(<span class="string">'3'</span>);</span><br><span class="line">  reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Boom!'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> promises = [promise1, promise2, promise3];</span><br><span class="line"><span class="built_in">Promise</span>.race(promises).then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);<span class="comment">// 1</span></span><br><span class="line">&#125;).catch(<span class="function"><span class="keyword">function</span>(<span class="params">error</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul><p><strong>allSettled</strong></p><ul><li><p><code>ES2020</code> æå‡ºçš„æ–°æ–¹æ³•ã€‚</p></li><li><p>å’Œ <code>Promise.all</code> ã€<code>Promise.race</code> ç±»ä¼¼ï¼ŒåŒºåˆ«æ˜¯æ— è®ºæ¯ä¸ª <code>promise</code> æ˜¯ <code>resolve</code> è¿˜æ˜¯ <code>reject</code>ï¼Œåªæœ‰å½“ <strong>æ‰€æœ‰</strong> <code>promise</code> <strong>éƒ½æ‰§è¡Œå®Œæˆ</strong> åï¼Œæ‰ä¼šè°ƒç”¨ <code>then</code> å‡½æ•°ã€‚</p></li><li><p><code>then</code> å‡½æ•°çš„å‚æ•°ä¸ºä¸€ä¸ªæ•°ç»„ï¼Œè¯¥æ•°ç»„åŒ…å«åŸ <code>promises</code> é›†ä¸­æ¯ä¸ª <code>promise</code> çš„ç»“æœã€‚</p></li><li><p>å¯¹äºæ¯ä¸ªç»“æœå¯¹è±¡ï¼Œéƒ½æœ‰ä¸€ä¸ª <code>status</code> å­—ç¬¦ä¸²ã€‚å¦‚æœå®ƒçš„å€¼ä¸º <code>fulfilled</code>ï¼Œåˆ™ç»“æœå¯¹è±¡ä¸Šå­˜åœ¨ä¸€ä¸ª <code>value</code> ã€‚å¦‚æœå€¼ä¸º <code>rejected</code>ï¼Œåˆ™å­˜åœ¨ä¸€ä¸ª <code>reason</code> ã€‚<code>value</code>ï¼ˆæˆ– <code>reason</code> ï¼‰åæ˜ äº†æ¯ä¸ª <code>promise</code> å†³è®®ï¼ˆæˆ–æ‹’ç»ï¼‰çš„å€¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise1 = <span class="built_in">Promise</span>.resolve(<span class="number">3</span>);</span><br><span class="line"><span class="keyword">const</span> promise2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> setTimeout(reject, <span class="number">100</span>, <span class="string">'foo'</span>));</span><br><span class="line"><span class="keyword">const</span> promises = [promise1, promise2];</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.allSettled(promises).</span><br><span class="line">  then(<span class="function">(<span class="params">results</span>) =&gt;</span> results.forEach(<span class="function">(<span class="params">result</span>) =&gt;</span> <span class="built_in">console</span>.log(result.status)));</span><br><span class="line"></span><br><span class="line"><span class="comment">// expected output:</span></span><br><span class="line"><span class="comment">// "fulfilled"</span></span><br><span class="line"><span class="comment">// "rejected"</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="Advanced"><a href="#Advanced" class="headerlink" title="Advanced"></a>Advanced</h3><p><strong>catch å’Œ reject æ˜¯ä¸€æ ·çš„</strong></p><ul><li>ä¸Šé¢å·²ç»è¯´è¿‡ï¼Œ<code>catch</code> å’Œ <code>reject</code> æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯å†™æ³•ä¸åŒï¼›</li><li>ä¸è¿‡ä» <code>é“¾å¼æ–¹æ³•</code> çš„å†™æ³•è§’åº¦æ¥è¯´ï¼Œ<code>catch</code> å†™åœ¨ä¸‹ä¸€çº§ï¼Œèƒ½å¤Ÿæ•è·ä¸Šä¸€çº§ä¸­ <code>reject</code> æ— æ³•æ•è·çš„ <code>resolve</code> ä¸­çš„å¼‚å¸¸ï¼Œæ‰€ä»¥ï¼Œæ¨èä½¿ç”¨ <code>catch</code> å†™æ³•ï¼›</li></ul><p><strong>thenable</strong></p><ul><li><code>thenable</code> æŒ‡çš„æ˜¯ä¸€ä¸ªå…·æœ‰ <code>.then</code> æ–¹æ³•çš„å¯¹è±¡ï¼›</li><li><code>Promise.resolve</code> å¯ä»¥å°† <code>thenable</code> å¯¹è±¡è½¬æ¢ä¸º <code>promise</code> å¯¹è±¡ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„ <code>promise</code> å¯¹è±¡ï¼›</li><li>æ›´å¤š <code>thenable</code> çš„ä¿¡æ¯ï¼Œ<a href="http://liubin.org/promises-book/#ch2-promise-resolve" target="_blank" rel="noopener">ç‚¹æˆ‘æŸ¥çœ‹</a> ï¼›</li></ul><p><strong>é“¾å¼æ–¹æ³•</strong></p><ul><li><p>ç”±äº <code>then</code> å’Œ <code>catch</code> éƒ½è¿”å›äº†ä¸€ä¸ªæ–°çš„ <code>promise</code> å¯¹è±¡ï¼Œå› æ­¤å®ƒä»¬å¯ä»¥ç”¨ <code>.</code> çš„æ–¹å¼è¿›è¡Œé“¾å¼è°ƒç”¨ï¼›</p></li><li><p><code>then</code> è¿”å›çš„æ˜¯æ–°çš„ <code>promise</code> å¯¹è±¡ï¼Œ<code>then</code> é‡Œé¢çš„æ–¹æ³•è¿”å›çš„æ˜¯ é“¾å¼æ–¹æ³•ä¸­ä¸‹ä¸€ä¸ªæ–¹æ³•çš„ä¼ å…¥å‚æ•°ï¼›</p></li><li><p>æ›´å¤šè¯¦æƒ…ï¼Œ<a href="http://liubin.org/promises-book/#then-return-new-promise" target="_blank" rel="noopener">ç‚¹æˆ‘æŸ¥çœ‹</a> ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// then è¿”å›çš„ bpromise æ˜¯ä¸€ä¸ª promise å¯¹è±¡</span></span><br><span class="line"><span class="comment">// then é‡Œé¢å‡½æ•°è¿”å›çš„ value1*2 æ˜¯é“¾å¼æ–¹æ³•ä¸­ä¸‹ä¸€ä¸ªæ–¹æ³•çš„ä¼ å…¥å‚æ•°(value2)</span></span><br><span class="line"><span class="keyword">var</span> apromise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">  resolve(<span class="number">100</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">var</span> bpromise = apromise.then(<span class="function"><span class="keyword">function</span>(<span class="params">value1</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> value1 * <span class="number">2</span>;</span><br><span class="line">&#125;);</span><br><span class="line">bpromise.then(<span class="function"><span class="keyword">function</span>(<span class="params">value2</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value2);<span class="comment">// 200</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p><strong>ä½¿ç”¨ ajax + promise æ¥è¯»å–å¹¶æ“ä½œæ•°æ®</strong></p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getURL</span>(<span class="params">URL</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    xhr.open(<span class="string">'GET'</span>, URL, <span class="literal">true</span>);</span><br><span class="line">    xhr.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (xhr.status === <span class="number">200</span>) &#123;</span><br><span class="line">        resolve(xhr.responseText);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        reject(<span class="keyword">new</span> <span class="built_in">Error</span>(xhr.statusText));</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    xhr.onerror = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      reject(<span class="keyword">new</span> <span class="built_in">Error</span>(xhr.statusText));</span><br><span class="line">    &#125;;</span><br><span class="line">    xhr.send(<span class="literal">null</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¿è¡Œç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">var</span> url = <span class="string">"http://httpbin.org/get"</span>;</span><br><span class="line">getURL(url).then(<span class="function"><span class="keyword">function</span> <span class="title">onFulfilled</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;).catch(<span class="function"><span class="keyword">function</span> <span class="title">onRejected</span>(<span class="params">error</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul><h3 id="æ›´å¤šèµ„æ–™"><a href="#æ›´å¤šèµ„æ–™" class="headerlink" title="æ›´å¤šèµ„æ–™"></a>æ›´å¤šèµ„æ–™</h3><p><a href="http://liubin.org/promises-book/" target="_blank" rel="noopener">[æ¨è]JavaScript Promiseè¿·ä½ ä¹¦ï¼ˆä¸­æ–‡ç‰ˆï¼‰</a></p><p><a href="https://www.w3cschool.cn/vnpqd/vnpqd-sdlo25sr.html" target="_blank" rel="noopener">å¿«æ¥ä½¿ç”¨ES2015çš„Promiseå§</a></p><p><a href="https://www.runoob.com/w3cnote/es6-promise.html" target="_blank" rel="noopener">ES6 Promise å¯¹è±¡</a></p><p><a href="https://www.runoob.com/w3cnote/javascript-promise-object.html" target="_blank" rel="noopener">JavaScript Promise å¯¹è±¡</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;code&gt;promise&lt;/code&gt; æ˜¯ &lt;code&gt;ECMAScript6&lt;/code&gt; æ–°åŠ çš„ä¸€ä¸ªæ¦‚å¿µã€‚&lt;/p&gt;&lt;p&gt;æœ¬æ–‡å°†ä½¿ç”¨ç®€æ´çš„æ–‡å­—ä»‹ç» &lt;code&gt;promise&lt;/code&gt; ï¼Œä»…ä»‹ç»å¤§æ¦‚æƒ…å†µã€‚&lt;/p&gt;&lt;p&gt;æ›´å¤šè¯¦æƒ…è¯·å‚è€ƒç»“å°¾çš„æ¨èæ–‡ç« ã€‚&lt;/p&gt;&lt;p&gt;å¥½äº†ï¼Œæ­£æ–‡å¼€å§‹ ï¼&lt;/p&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="webå‰ç«¯" scheme="http://jian2333.github.io/tags/web%E5%89%8D%E7%AB%AF/"/>
    
      <category term="js" scheme="http://jian2333.github.io/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>ä¸¥æ ¼æ¨¡å¼ çš„ç‰¹åˆ«ä¹‹å¤„</title>
    <link href="http://jian2333.github.io/2019/06/13/strict-mode/"/>
    <id>http://jian2333.github.io/2019/06/13/strict-mode/</id>
    <published>2019-06-13T01:55:09.000Z</published>
    <updated>2019-06-13T03:36:04.674Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ä¸¥æ ¼æ¨¡å¼</strong> æ˜¯ <code>ECMAScript5</code> å¼•å…¥çš„ä¸€ä¸ªæ¦‚å¿µã€‚é€šè¿‡ä¸¥æ ¼æ¨¡å¼ï¼Œå¯ä»¥åœ¨å‡½æ•°å†…éƒ¨é€‰æ‹©è¿›è¡Œè¾ƒä¸ºä¸¥æ ¼çš„å…¨å±€æˆ–å±€éƒ¨çš„é”™è¯¯æ¡ä»¶æ£€æµ‹ã€‚ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼çš„å¥½å¤„æ˜¯å¯ä»¥ææ—©çŸ¥é“ä»£ç ä¸­å­˜åœ¨çš„é”™è¯¯ï¼ŒåŠæ—¶æ•è·ä¸€äº›å¯èƒ½å¯¼è‡´ç¼–ç¨‹é”™è¯¯çš„ <code>ECMAScript</code> è¡Œä¸ºã€‚</p><p>é‚£ä¹ˆï¼Œ<strong>ä¸¥æ ¼æ¨¡å¼</strong> å’Œ <strong>éä¸¥æ ¼æ¨¡å¼</strong> æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬ä¸€èµ·å¾€ä¸‹çœ‹ ï½</p><a id="more"></a><h3 id="å¦‚ä½•ä½¿ç”¨"><a href="#å¦‚ä½•ä½¿ç”¨" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h3><ul><li>ä½¿ç”¨ <code>&quot;use strict&quot;;</code> (æ³¨æ„åé¢çš„åˆ†å·) ï¼›</li><li>æ”¯æŒ <code>ä¸¥æ ¼æ¨¡å¼</code> çš„å¼•æ“ä¼šå¯åŠ¨è¿™ç§æ¨¡å¼ï¼Œä¸æ”¯æŒ <code>ä¸¥æ ¼æ¨¡å¼</code> çš„å¼•æ“ä¼šå¿½ç•¥è¿™ä¸ª <strong>ç¼–è¯‘æŒ‡ç¤º</strong> ï¼›</li><li>å¯ä»¥å†™åœ¨å…¨å±€ä½œç”¨åŸŸ(å‡½æ•°å¤–éƒ¨)ï¼Œä¹Ÿå¯ä»¥å†™åœ¨å‡½æ•°å†…éƒ¨ã€‚å»ºè®®å†™åœ¨å‡½æ•°å†…éƒ¨ï¼›</li></ul><h3 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h3><p><strong>1. ä¸å…è®¸æ„å¤–åˆ›å»ºå˜é‡</strong></p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æœªå£°æ˜å˜é‡</span></span><br><span class="line"><span class="comment">// éä¸¥æ ¼æ¨¡å¼æ¨¡å¼ï¼šåˆ›å»ºå…¨å±€å˜é‡</span></span><br><span class="line"><span class="comment">// ä¸¥æ ¼æ¨¡å¼ï¼šæŠ›å‡º ReferenceError</span></span><br><span class="line">message = <span class="string">"Hello world"</span>;</span><br></pre></td></tr></table></figure></li></ul><p><strong>2. ä¸èƒ½å¯¹å˜é‡è°ƒç”¨deleteæ“ä½œç¬¦</strong></p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ é™¤å˜é‡</span></span><br><span class="line"><span class="comment">// éä¸¥æ ¼æ¨¡å¼ï¼šå¿½ç•¥ï¼Œé™é»˜å¤±è´¥</span></span><br><span class="line"><span class="comment">// ä¸¥æ ¼æ¨¡å¼ï¼šæŠ›å‡º ReferenceError</span></span><br><span class="line"><span class="keyword">var</span> color = <span class="string">"red"</span>;</span><br><span class="line"><span class="keyword">delete</span> color;</span><br></pre></td></tr></table></figure></li></ul><p><strong>3. å˜é‡åé™åˆ¶</strong></p><ul><li>ä¸èƒ½ä½¿ç”¨ <code>implements</code>ã€<code>interface</code>ã€<code>let</code>ã€<code>package</code>ã€<code>private</code>ã€<code>protected</code>ã€<code>public</code>ã€<code>static</code>ã€<code>yield</code> ä½œä¸ºå˜é‡åï¼›</li><li><code>éä¸¥æ ¼æ¨¡å¼</code> ä¸‹å¯ä½¿ç”¨ï¼›</li></ul><p><strong>4. æ“ä½œå¯¹è±¡é™åˆ¶</strong></p><ul><li><p>ä¸€èˆ¬æ¥è¯´ï¼Œ<code>éä¸¥æ ¼æ¨¡å¼</code> ä¸‹ä¼šé™é»˜å¤±è´¥ï¼Œå³å¿½ç•¥ï¼›<code>ä¸¥æ ¼æ¨¡å¼</code> ä¸‹ä¼šæŠ›å‡ºé”™è¯¯ï¼›</p></li><li><p>ä»¥ä¸‹æƒ…å†µæ“ä½œå¯¹è±¡çš„å±æ€§ä¼šå¯¼è‡´é”™è¯¯( <code>ä¸¥æ ¼æ¨¡å¼</code> ä¸‹) ï¼š</p><ul><li>ä¸º <code>åªè¯»å±æ€§</code> èµ‹å€¼ä¼šæŠ›å‡º <code>TypeError</code> ï¼›</li><li>å¯¹ <code>ä¸å¯é…ç½®</code> çš„å±æ€§ä½¿ç”¨ <code>delete</code> æ“ä½œç¬¦ä¼šæŠ›å‡º <code>TypeError</code> ï¼›</li><li>å¯¹ <code>ä¸å¯æ‰©å±•</code> çš„å¯¹è±¡æ·»åŠ å±æ€§ä¼šæŠ›å‡º <code>TypeError</code> ï¼›</li><li>ä½¿ç”¨ <code>å¯¹è±¡å­—é¢é‡</code> æ—¶ï¼Œå±æ€§åè¦å”¯ä¸€ï¼›</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é‡åå±æ€§</span></span><br><span class="line"><span class="comment">// éä¸¥æ ¼æ¨¡å¼ï¼šæ²¡æœ‰é”™è¯¯ï¼Œä»¥ç¬¬äºŒä¸ªä¸ºå‡†</span></span><br><span class="line"><span class="comment">// ä¸¥æ ¼æ¨¡å¼ï¼šæŠ›å‡ºè¯­æ³•é”™è¯¯</span></span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">  name: <span class="string">"Nicholas"</span>,</span><br><span class="line">  name: <span class="string">"Greg"</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ul><p><strong>5. å‡½æ•°å‚æ•°å”¯ä¸€</strong></p><ul><li><p><code>ä¸¥æ ¼æ¨¡å¼</code> ä¸‹è¦æ±‚å‘½åå‡½æ•°çš„å‚æ•°åå¿…é¡»å”¯ä¸€ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é‡åå‚æ•°</span></span><br><span class="line"><span class="comment">// éä¸¥æ ¼æ¨¡å¼ï¼šæ²¡æœ‰é”™è¯¯ï¼Œåªèƒ½è®¿é—®ç¬¬äºŒä¸ªå‚æ•°</span></span><br><span class="line"><span class="comment">// ä¸¥æ ¼æ¨¡å¼ï¼šæŠ›å‡ºè¯­æ³•é”™è¯¯</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">num, num</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// do something</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>6. ä¿®æ”¹å‚æ•°çš„å€¼ä¸ä¼šåæ˜ åˆ° arguments</strong></p><ul><li><p><code>éä¸¥æ ¼æ¨¡å¼</code> ä¸‹ä¿®æ”¹å‚æ•°çš„å€¼ä¼šåæ˜ åˆ° <code>arguments</code> å¯¹è±¡ä¸­ï¼Œè€Œ <code>ä¸¥æ ¼æ¨¡å¼</code> ä¸ä¼šï¼Œå› ä¸ºå®ƒä»¬æ˜¯å®Œå…¨ç‹¬ç«‹çš„ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¿®æ”¹å‘½åå‚æ•°çš„å€¼</span></span><br><span class="line"><span class="comment">// éä¸¥æ ¼æ¨¡å¼ï¼šä¿®æ”¹ä¼šåæ˜ åˆ° arguments ä¸­</span></span><br><span class="line"><span class="comment">// ä¸¥æ ¼æ¨¡å¼ï¼šä¿®æ”¹ä¸ä¼šåæ˜ åˆ° arguments ä¸­</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showValue</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">  value = <span class="string">"Foo"</span>;</span><br><span class="line">  alert(value);<span class="comment">// "Foo"</span></span><br><span class="line">  alert(<span class="built_in">arguments</span>[<span class="number">0</span>]);<span class="comment">// éä¸¥æ ¼æ¨¡å¼ï¼š"Foo"</span></span><br><span class="line">                        <span class="comment">// ä¸¥æ ¼æ¨¡å¼ï¼š"Hi"</span></span><br><span class="line">&#125;</span><br><span class="line">showValue(<span class="string">"Hi"</span>);</span><br></pre></td></tr></table></figure></li></ul><p><strong>7. æ·˜æ±°äº† arguments.callee å’Œ arguments.caller</strong></p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è®¿é—® arguments.callee</span></span><br><span class="line"><span class="comment">// éä¸¥æ ¼æ¨¡å¼ï¼šæ²¡æœ‰é—®é¢˜</span></span><br><span class="line"><span class="comment">// ä¸¥æ ¼æ¨¡å¼ï¼šæŠ›å‡º TypeError</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (num &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> num * <span class="built_in">arguments</span>.callee(num - <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> result = factorial(<span class="number">5</span>);</span><br></pre></td></tr></table></figure></li></ul><p><strong>8. å‡½æ•°åé™åˆ¶</strong></p><ul><li>ä¸èƒ½ä½¿ç”¨ <code>implements</code>ã€<code>interface</code>ã€<code>let</code>ã€<code>package</code>ã€<code>private</code>ã€<code>protected</code>ã€<code>public</code>ã€<code>static</code>ã€<code>yield</code> ä½œä¸ºå‡½æ•°åï¼›</li><li><code>éä¸¥æ ¼æ¨¡å¼</code> ä¸‹å¯ä½¿ç”¨ï¼›</li></ul><p><strong>9. if å†…ä¸èƒ½å£°æ˜å‡½æ•°</strong></p><ul><li><p><code>ä¸¥æ ¼æ¨¡å¼</code> ä¸‹ï¼Œåªèƒ½åœ¨è„šæœ¬çš„é¡¶çº§å’Œå‡½æ•°å†…éƒ¨å£°æ˜å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ if è¯­å¥ä¸­å£°æ˜å‡½æ•°ä¼šå¯¼è‡´è¯­æ³•é”™è¯¯ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨ if è¯­å¥ä¸­å£°æ˜å‡½æ•°</span></span><br><span class="line"><span class="comment">// éä¸¥æ ¼æ¨¡å¼ï¼šå°†å‡½æ•°æå‡åˆ° if è¯­å¥å¤–éƒ¨</span></span><br><span class="line"><span class="comment">// ä¸¥æ ¼æ¨¡å¼ï¼šæŠ›å‡ºè¯­æ³•é”™è¯¯</span></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>10. eval åœ¨åŒ…å«çš„ä¸Šä¸‹æ–‡ä¸­ä¸èƒ½å†åˆ›å»ºå˜é‡å’Œå‡½æ•°</strong></p><ul><li><p><code>ä¸¥æ ¼æ¨¡å¼</code> ä¸‹ï¼Œ<code>eval</code> å†…å£°æ˜çš„å˜é‡åªåœ¨ <code>eval</code> è¡¨è¾¾å¼å†…éƒ¨æœ‰æ•ˆï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨ eval() åˆ›å»ºå˜é‡</span></span><br><span class="line"><span class="comment">// éä¸¥æ ¼æ¨¡å¼ï¼šå¼¹å‡ºå¯¹è¯æ¡†æ˜¾ç¤º 10</span></span><br><span class="line"><span class="comment">// ä¸¥æ ¼æ¨¡å¼ï¼šè°ƒç”¨ alert(x) æ—¶ä¼šæŠ›å‡º ReferenceError </span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">eval</span>(<span class="string">"var x=10"</span>);</span><br><span class="line">  alert(x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸¥æ ¼æ¨¡å¼ï¼ševal() å£°æ˜çš„å˜é‡åªåœ¨ eval è¡¨è¾¾å¼å†…éƒ¨æœ‰æ•ˆ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> result = <span class="built_in">eval</span>(<span class="string">"var x=10, y=11, x+y"</span>);</span><br><span class="line">  alert(result);<span class="comment">// 21</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>11. ç¦æ­¢ä½¿ç”¨ eval å’Œ arguments ä½œä¸ºæ ‡è¯†ç¬¦ï¼Œä¹Ÿä¸èƒ½ä¿®æ”¹å®ƒä»¬çš„å€¼</strong></p><ul><li><p><code>ä¸¥æ ¼æ¨¡å¼</code> ä¸‹ç¦æ­¢ä½¿ç”¨ <code>eval</code> å’Œ <code>arguments</code> ä½œä¸ºæ ‡è¯†ç¬¦ï¼Œä¹Ÿä¸å…è®¸è¯»å–å®ƒä»¬çš„å€¼ã€‚</p></li><li><p>ä»¥ä¸‹å‡ ç§æ–¹å¼éƒ½ä¼šæŠ›å‡ºé”™è¯¯ï¼š</p><ul><li>ä½¿ç”¨ <code>var</code> å£°æ˜ï¼›</li><li>èµ‹äºˆå¦ä¸€ä¸ªå€¼( <code>arguments=&quot;xx&quot;</code> æ•´ä½“èµ‹å€¼ä¼šæŠ¥é”™ï¼Œ<code>arguments[0]=&quot;yy&quot;</code> å•ç‹¬èµ‹å€¼ä¸ä¼šæŠ¥é”™)ï¼›</li><li>å°è¯•ä¿®æ”¹åŒ…å«çš„å€¼ï¼Œå¦‚ä½¿ç”¨ <code>++</code> (ä¹Ÿç›¸å½“äºæ•´ä½“èµ‹å€¼äº†) ï¼›</li><li>ç”¨ä½œå‡½æ•°åï¼›</li><li>ç”¨ä½œå‘½åçš„å‡½æ•°å‚æ•°ï¼›</li><li>åœ¨ <code>try-catch</code> è¯­å¥ä¸­ç”¨ä½œä¾‹å¤–åï¼›</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŠŠ eval å’Œ arguments ä½œä¸ºå˜é‡å¼•ç”¨</span></span><br><span class="line"><span class="comment">// éä¸¥æ ¼æ¨¡å¼ï¼šä¸æŠ¥é”™</span></span><br><span class="line"><span class="comment">// ä¸¥æ ¼æ¨¡å¼ï¼šæŠ›å‡ºè¯­æ³•é”™è¯¯</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> <span class="built_in">eval</span> = <span class="number">10</span>;</span><br><span class="line">  <span class="keyword">var</span> <span class="built_in">arguments</span> = <span class="string">"Hello world!"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>12. æŠ‘åˆ¶this</strong></p><ul><li><p>åœ¨ <code>éä¸¥æ ¼æ¨¡å¼</code> ä¸‹ä½¿ç”¨ <code>call()</code> å’Œ <code>apply()</code> æ–¹æ³•æ—¶ï¼Œ<code>null</code> å’Œ <code>undefined</code> ä¼šè‡ªåŠ¨è½¬æ¢ä¸º <strong>å…¨å±€å¯¹è±¡</strong> ï¼›è€Œåœ¨ <code>ä¸¥æ ¼æ¨¡å¼</code> ä¸‹ï¼Œå‡½æ•°çš„ <code>this</code> çš„å€¼å§‹ç»ˆæ˜¯æŒ‡å®šçš„å€¼ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è®¿é—®å±æ€§</span></span><br><span class="line"><span class="comment">// éä¸¥æ ¼æ¨¡å¼ï¼šè®¿é—®å…¨å±€å±æ€§</span></span><br><span class="line"><span class="comment">// ä¸¥æ ¼æ¨¡å¼ï¼šæŠ›å‡ºé”™è¯¯ï¼Œå› ä¸º this çš„å€¼ä¸º null</span></span><br><span class="line"><span class="keyword">var</span> color = <span class="string">"red"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">displayColor</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  alert(<span class="keyword">this</span>.color);</span><br><span class="line">&#125;</span><br><span class="line">displayColor.call(<span class="literal">null</span>);</span><br></pre></td></tr></table></figure></li></ul><p><strong>13. æŠ›å¼ƒäº† with è¯­å¥</strong></p><ul><li><p><code>éä¸¥æ ¼æ¨¡å¼</code> ä¸‹ä½¿ç”¨ <code>with</code> èƒ½å¤Ÿæ”¹å˜è§£ææ ‡è¯†ç¬¦çš„è·¯å¾„ï¼Œ<code>ä¸¥æ ¼æ¨¡å¼</code> ä¸‹ä½¿ç”¨ <code>with</code> ä¼šå¯¼è‡´è¯­æ³•é”™è¯¯ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// with çš„è¯­å¥ç”¨æ³•</span></span><br><span class="line"><span class="comment">// éä¸¥æ ¼æ¨¡å¼ï¼šå…è®¸</span></span><br><span class="line"><span class="comment">// ä¸¥æ ¼æ¨¡å¼ï¼šæŠ›å‡ºè¯­æ³•é”™è¯¯</span></span><br><span class="line"><span class="keyword">with</span>(location) &#123;</span><br><span class="line">  alert(href);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>14. å»æ‰äº†å…«è¿›åˆ¶å­—é¢é‡</strong></p><ul><li><p><code>ä¸¥æ ¼æ¨¡å¼</code> ä¸‹ï¼Œå…«è¿›åˆ¶å­—é¢é‡å·²ç»æˆä¸ºæ— æ•ˆçš„è¯­æ³•äº†ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨å…«è¿›åˆ¶å­—é¢é‡</span></span><br><span class="line"><span class="comment">// éä¸¥æ ¼æ¨¡å¼ï¼šå€¼ä¸º8</span></span><br><span class="line"><span class="comment">// ä¸¥æ ¼æ¨¡å¼ï¼šæŠ›å‡ºè¯­æ³•é”™è¯¯</span></span><br><span class="line"><span class="keyword">var</span> value = <span class="number">010</span>;</span><br></pre></td></tr></table></figure></li><li><p>åœ¨ä½¿ç”¨ <code>parseInt()</code> æ—¶ï¼Œ<code>ä¸¥æ ¼æ¨¡å¼ä¸‹</code> å…«è¿›åˆ¶å­—é¢é‡ä¼šè¢«å½“ä½œä»¥ 0 å¼€å¤´çš„åè¿›åˆ¶å­—é¢é‡ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨ parseInt() è§£æå…«è¿›åˆ¶å­—é¢é‡</span></span><br><span class="line"><span class="comment">// éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼šå€¼ä¸º8</span></span><br><span class="line"><span class="comment">// ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼šå€¼ä¸º10</span></span><br><span class="line"><span class="keyword">var</span> value = <span class="built_in">parseInt</span>(<span class="string">"010"</span>);</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;ä¸¥æ ¼æ¨¡å¼&lt;/strong&gt; æ˜¯ &lt;code&gt;ECMAScript5&lt;/code&gt; å¼•å…¥çš„ä¸€ä¸ªæ¦‚å¿µã€‚é€šè¿‡ä¸¥æ ¼æ¨¡å¼ï¼Œå¯ä»¥åœ¨å‡½æ•°å†…éƒ¨é€‰æ‹©è¿›è¡Œè¾ƒä¸ºä¸¥æ ¼çš„å…¨å±€æˆ–å±€éƒ¨çš„é”™è¯¯æ¡ä»¶æ£€æµ‹ã€‚ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼çš„å¥½å¤„æ˜¯å¯ä»¥ææ—©çŸ¥é“ä»£ç ä¸­å­˜åœ¨çš„é”™è¯¯ï¼ŒåŠæ—¶æ•è·ä¸€äº›å¯èƒ½å¯¼è‡´ç¼–ç¨‹é”™è¯¯çš„ &lt;code&gt;ECMAScript&lt;/code&gt; è¡Œä¸ºã€‚&lt;/p&gt;&lt;p&gt;é‚£ä¹ˆï¼Œ&lt;strong&gt;ä¸¥æ ¼æ¨¡å¼&lt;/strong&gt; å’Œ &lt;strong&gt;éä¸¥æ ¼æ¨¡å¼&lt;/strong&gt; æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ&lt;/p&gt;&lt;p&gt;æˆ‘ä»¬ä¸€èµ·å¾€ä¸‹çœ‹ ï½&lt;/p&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="webå‰ç«¯" scheme="http://jian2333.github.io/tags/web%E5%89%8D%E7%AB%AF/"/>
    
      <category term="js" scheme="http://jian2333.github.io/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>ã€ŠJavaScript é«˜çº§ç¨‹åºè®¾è®¡ã€‹æ€»ç»“</title>
    <link href="http://jian2333.github.io/2019/06/12/professional-js/"/>
    <id>http://jian2333.github.io/2019/06/12/professional-js/</id>
    <published>2019-06-12T01:49:39.000Z</published>
    <updated>2019-06-12T12:59:35.943Z</updated>
    
    <content type="html"><![CDATA[<p>ç»ˆäºæŠŠã€ŠJavaScript é«˜çº§ç¨‹åºè®¾è®¡ã€‹çœ‹å®Œ(å‡è£…çœ‹å®Œï¼Œå…¶å®è·³è¿‡äº†å‡ ç«  0.0)äº†ï¼Œé¢‡æœ‰ä¸€äº›å¿ƒå¾—ï¼Œæ€»ç»“ä¸€ä¸‹ã€‚</p><p>é¦–å…ˆå°±æ˜¯ï¼Œè¿™æœ¬ä¹¦çš„å†…å®¹ï¼Œå¤§è€Œå…¨ã€‚Jsçš„å„æ–¹é¢éƒ½æœ‰ä»‹ç»ï¼Œå†…å®¹è¯¦ç»†ï¼Œæ¶‰åŠé¢å¹¿ã€‚</p><p>å…¶æ¬¡ï¼Œæœ‰äº›å†…å®¹ç›¸å¯¹è¾ƒæ—§äº†ã€‚æ¯•ç«Ÿ <code>ç¬¬ä¸‰ç‰ˆ</code> æ˜¯2012å¹´3æœˆå‘è¡Œçš„ï¼Œå½“æ—¶ <code>ES6</code> è¿˜æ²¡å®šç¨¿ï¼Œæ‰€ä»¥è¿™æœ¬ä¹¦åé¢æœ‰äº›å†…å®¹ï¼Œå’Œç°åœ¨ä¼šç¨æœ‰ä¸åŒï¼Œä¸»è¦æ˜¯æœ€åå‡ ç« ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæ˜¯çœ‹å®Œæœ¬ä¹¦åçš„éƒ¨åˆ†æ€»ç»“ã€‚</p><a id="more"></a><h2 id="å¿ƒå¾—"><a href="#å¿ƒå¾—" class="headerlink" title="å¿ƒå¾—"></a>å¿ƒå¾—</h2><h3 id="JSåŠ è½½"><a href="#JSåŠ è½½" class="headerlink" title="JSåŠ è½½"></a>JSåŠ è½½</h3><p>JSä¼šé˜»å¡ DOM çš„åŠ è½½å’Œæ¸²æŸ“ã€‚</p><p><code>defer</code> ï¼š</p><ul><li>ç«‹å³åŠ è½½JSï¼Œä½†ä¸æ‰§è¡Œï¼Œå¾…DOMæ¸²æŸ“å®Œæˆåå†æ‰§è¡ŒJSã€‚</li><li>å¤šä¸ª <code>defer</code> æŒ‰é¡ºåºæ‰§è¡Œï¼Œä½†å®é™…ä¸Šä¸ä¸€å®šï¼Œæ‰€ä»¥å»ºè®®åªæœ‰1ä¸ªJSä½¿ç”¨ <code>defer</code> å‚æ•°ã€‚</li><li><code>XHTML</code> ä¸‹éœ€å†™æˆ <code>defer=&quot;defer&quot;</code> ã€‚</li></ul><p><code>async</code> ï¼š</p><ul><li>å¼‚æ­¥åŠ è½½JS(ä¸é˜»å¡DOM)ï¼ŒåŠ è½½å®Œåæ‰§è¡ŒJS(æ­¤æ—¶ä¼šé˜»å¡DOM)ï¼Œæ‰§è¡Œå®Œåç»§ç»­åŠ è½½/æ¸²æŸ“DOMã€‚</li><li>ä¸æŒ‰é¡ºåºæ‰§è¡Œã€‚</li><li><code>XHTML</code> ä¸‹éœ€å†™æˆ <code>async=&quot;async&quot;</code> ã€‚</li></ul><p><img src="/images/pj-1.jpg" alt></p><h3 id="ç±»å‹æ£€æµ‹"><a href="#ç±»å‹æ£€æµ‹" class="headerlink" title="ç±»å‹æ£€æµ‹"></a>ç±»å‹æ£€æµ‹</h3><p><strong>åŸºæœ¬ç±»å‹</strong> ï¼š</p><ul><li><code>typeof</code> ã€‚</li><li>åŒ…æ‹¬ <code>undefined</code>ã€<code>number</code>ã€<code>boolean</code>ã€<code>string</code> ï¼Œå¤–åŠ  <code>function</code> ã€‚</li></ul><p><strong>å¼•ç”¨ç±»å‹</strong> ï¼š</p><ul><li><code>instanceof</code> ã€‚</li><li>åŒ…æ‹¬ <code>Object</code>ã€<code>Array</code>ã€<code>Date</code>ã€<code>Regexp</code> ã€‚</li><li>æ£€æµ‹ <code>Object</code> æ°¸è¿œè¿”å› <code>true</code> ï¼Œæ£€æµ‹ <code>åŸºæœ¬ç±»å‹</code> æ°¸è¿œè¿”å› <code>false</code> ã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŸºæœ¬ç±»å‹</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">"string"</span>;</span><br><span class="line">alert(<span class="keyword">typeof</span>(str));<span class="comment">// string</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•ç”¨ç±»å‹</span></span><br><span class="line"><span class="keyword">var</span> person = &#123;&#125;;</span><br><span class="line">alert(person <span class="keyword">instanceof</span> <span class="built_in">Object</span>);<span class="comment">// true</span></span><br></pre></td></tr></table></figure><h3 id="åƒåœ¾æ”¶é›†"><a href="#åƒåœ¾æ”¶é›†" class="headerlink" title="åƒåœ¾æ”¶é›†"></a>åƒåœ¾æ”¶é›†</h3><p>åƒåœ¾æ”¶é›†ä¸»è¦æœ‰ <code>æ ‡è®°æ¸…é™¤</code> å’Œ <code>å¼•ç”¨è®¡æ•°</code> ä¸¤ç§æ–¹å¼ï¼Œå…¶ä¸­ <code>æ ‡è®°æ¸…é™¤</code> æ˜¯ç°åœ¨çš„ä¸»æµæ–¹å¼ã€‚</p><p><strong>æ ‡è®°æ¸…é™¤</strong> ï¼š</p><ul><li>ç°åœ¨5å¤§ä¸»æµæµè§ˆå™¨ä½¿ç”¨çš„æ–¹å¼ã€‚</li><li>å½“ä¸€ä¸ªå˜é‡è¿›å…¥ä¸€ä¸ªç¯å¢ƒ(æ¯”å¦‚å‡½æ•°)æ—¶ï¼Œå°†è¯¥å˜é‡æ ‡è®°ä¸º <code>è¿›å…¥ç¯å¢ƒ</code> ï¼Œå½“è¯¥å˜é‡ç¦»å¼€ç¯å¢ƒ(æ¯”å¦‚å‡½æ•°)æ—¶ï¼Œæ ‡è®°è¯¥å˜é‡ä¸º <code>ç¦»å¼€ç¯å¢ƒ</code> ã€‚</li><li>åƒåœ¾æ”¶é›†å™¨ä¼šç»™å­˜å‚¨åœ¨å†…å­˜ä¸Šçš„æ‰€æœ‰å˜é‡éƒ½åŠ ä¸Šæ ‡è®°ï¼Œç„¶åå»æ‰ç¯å¢ƒä¸­çš„å˜é‡ä»¥åŠè¢«ç¯å¢ƒä¸­çš„å˜é‡å¼•ç”¨çš„å˜é‡çš„æ ‡è®°ã€‚è€Œåœ¨æ­¤ä¹‹åå†è¢«åŠ ä¸Šæ ‡è®°çš„å˜é‡å°†è¢«è§†ä¸ºå‡†å¤‡åˆ é™¤çš„å˜é‡ã€‚æœ€ååƒåœ¾æ”¶é›†å™¨é”€æ¯é‚£äº›å¸¦æ ‡è®°çš„å€¼å¹¶å›æ”¶å®ƒä»¬æ‰€å ç”¨çš„ç©ºé—´ã€‚</li><li>ä¸åŒæµè§ˆå™¨åƒåœ¾æ”¶é›†çš„æ—¶é—´é—´éš”ä¸åŒã€‚</li></ul><p><strong>å¼•ç”¨è®¡æ•°</strong> ï¼š</p><ul><li>å«ä¹‰æ˜¯ï¼šè·Ÿè¸ªè®°å½•æ¯ä¸€ä¸ªå€¼è¢«å¼•ç”¨çš„æ¬¡æ•°ã€‚</li><li>å½“ä¸€ä¸ªå€¼è¢«ä¸€ä¸ªå˜é‡å¼•ç”¨æ—¶ï¼Œè¯¥å€¼çš„ <code>å¼•ç”¨æ¬¡æ•°</code> +1ï¼Œåˆè¢«å¦ä¸€ä¸ªå˜é‡å¼•ç”¨æ—¶ï¼Œ<code>å¼•ç”¨æ¬¡æ•°</code> ç»§ç»­+1ï¼Œå–æ¶ˆå¼•ç”¨ä¹Ÿç±»ä¼¼ã€‚</li><li>å½“ <code>å¼•ç”¨æ¬¡æ•°</code> ä¸º0åï¼Œå½“ <code>åƒåœ¾æ”¶é›†å™¨</code> ä¸‹æ¬¡è¿è¡Œæ—¶ï¼Œå°±ä¼šé‡Šæ”¾è¿™äº› <code>å¼•ç”¨æ¬¡æ•°</code> ä¸º0çš„å€¼æ‰€å ç”¨çš„å†…å­˜ã€‚</li><li>è¿™ä¸ªæ–¹æ³•æœ‰ä¸ªä¸¥é‡çš„ bug ï¼Œå½“å¾ªç¯å¼•ç”¨çš„æ—¶å€™ï¼Œå¼•ç”¨æ¬¡æ•°å°±æ°¸è¿œä¸ä¼šä¸º0ï¼Œåƒåœ¾æ”¶é›†å™¨ä¹Ÿå°± <strong>æ°¸è¿œä¸ä¼šå›æ”¶è¿™äº›å¾ªç¯å¼•ç”¨çš„å€¼/å˜é‡</strong> ã€‚</li><li>å¯ä»¥ä½¿ç”¨ <code>variable = null</code> è¿™æ ·çš„æ–¹å¼ <strong>æ‰‹åŠ¨æ¸…é™¤å¼•ç”¨</strong> ã€‚</li></ul><h3 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><p><strong>callï¼Œapply</strong> ï¼š</p><ul><li><p>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ <code>this</code> çš„å€¼ï¼ŒåŒæ—¶ä¹Ÿæ˜¯è¿™ä¸ªå‡½æ•°çš„ç¯å¢ƒ/ä½œç”¨åŸŸï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¼ å…¥å‡½æ•°çš„å‚æ•°ï¼›</p></li><li><p>åˆ©ç”¨ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå¯ä»¥æ”¹å˜å‡½æ•°æ‰§è¡Œçš„ç¯å¢ƒ/ä½œç”¨åŸŸï¼Œ<strong>è¿™æ˜¯æœ€å¸¸ç”¨ä¸”éå¸¸å·§å¦™çš„ä¸€ç§ç”¨æ³•ï¼ï¼</strong>ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123; <span class="attr">name</span>: <span class="string">'Jack'</span>, <span class="attr">age</span>: <span class="number">18</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> fun1 = <span class="function"><span class="keyword">function</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  alert(<span class="keyword">this</span>.age + num);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¼ å…¥null</span></span><br><span class="line">fun1.apply(<span class="literal">null</span>, [<span class="number">1</span>]);<span class="comment">// éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œthisä¸ºwindowï¼›ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œthisä¸ºnullï¼Œç„¶åä¼šæŠ¥é”™ã€‚</span></span><br><span class="line"><span class="comment">// ä¼ å…¥this</span></span><br><span class="line">fun1.apply(<span class="keyword">this</span>, [<span class="number">1</span>]);<span class="comment">// thisä¸ºwindowï¼Œå…¨å±€ä½œç”¨åŸŸï¼Œè¿”å›11</span></span><br><span class="line"><span class="comment">// ä¼ å…¥obj</span></span><br><span class="line">fun1.apply(obj, [<span class="number">1</span>]);<span class="comment">// thisä¸ºobjå¯¹è±¡ï¼Œobjä½œç”¨åŸŸï¼Œè¿”å›19</span></span><br></pre></td></tr></table></figure></li></ul><p><strong>arguments.callee()</strong> ï¼š</p><ul><li><p>æŒ‡å‘å½“å‰å‡½æ•°ï¼Œä¸€èˆ¬ <strong>é€’å½’å‡½æ•°</strong> ä¸­ä½¿ç”¨è¾ƒå¤šã€‚</p></li><li><p><code>ä¸¥æ ¼æ¨¡å¼</code> ä¸‹ä¸èƒ½ä½¿ç”¨ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é˜¶ä¹˜å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (num &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> num * factorial(num - <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯ä»¥æ”¹å†™æˆä»¥ä¸‹å†™æ³•ï¼Œå‡å°‘å‡½æ•°çš„æ‰§è¡Œä¸å‡½æ•°åçš„è€¦åˆ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (num &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> num * <span class="built_in">arguments</span>.callee(num - <span class="number">1</span>);<span class="comment">// æ­¤è¡Œæ”¹åŠ¨</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>arguments.caller() </strong>ï¼š</p><ul><li><p>æŒ‡å‘è°ƒç”¨è¯¥å‡½æ•°çš„å‡½æ•°ï¼Œè¿”å›è°ƒç”¨å‡½æ•°çš„æºä»£ç ã€‚</p></li><li><p><code>ä¸¥æ ¼æ¨¡å¼</code> ä¸‹ä¸èƒ½ä½¿ç”¨ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">outer</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  inner();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inner</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  alert(<span class="built_in">arguments</span>.callee.caller);</span><br><span class="line">&#125;</span><br><span class="line">outer();<span class="comment">// è¿”å›outerå‡½æ•°çš„æºä»£ç </span></span><br></pre></td></tr></table></figure></li></ul><h3 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h3><p><strong>JSONç±»å‹</strong></p><p><strong>ç®€å•å€¼</strong> ï¼š</p><ul><li>åŒ…å« <code>å­—ç¬¦ä¸²</code>ã€<code>æ•°å€¼</code>ã€<code>å¸ƒå°”å€¼</code> å’Œ <code>null</code> ( <code>undefined</code> ä¼šè‡ªåŠ¨è¢«å¿½ç•¥ )ã€‚</li><li><code>JSONå­—ç¬¦ä¸²</code> å’Œ <code>JSå­—ç¬¦ä¸²</code> çš„åŒºåˆ«ï¼š<ul><li><code>JSONå­—ç¬¦ä¸²</code> å¿…é¡»ä½¿ç”¨åŒå¼•å·ï¼Œ<code>JSå­—ç¬¦ä¸²</code> å¯ä»¥ä½¿ç”¨ <code>åŒå¼•å·</code> å’Œ <code>å•å¼•å·</code> ï¼›</li></ul></li></ul><p><strong>å¯¹è±¡</strong> ï¼š</p><ul><li><code>JSONå¯¹è±¡</code> å’Œ <code>JSå¯¹è±¡</code> çš„åŒºåˆ«ï¼š<ul><li><code>JSONå¯¹è±¡</code> çš„å±æ€§åå¿…é¡»ä½¿ç”¨ <code>åŒå¼•å·</code> ï¼Œ<code>JSå¯¹è±¡</code> çš„å±æ€§å <code>å¯ä»¥åŠ åŒå¼•å·ä¹Ÿå¯ä»¥ä¸åŠ å¼•å·</code> ï¼›</li><li><code>JSONå¯¹è±¡</code> æ²¡æœ‰å£°æ˜å˜é‡ï¼›</li><li><code>JSONå¯¹è±¡</code> æœ«å°¾æ²¡æœ‰ <code>åˆ†å·</code> ï¼›</li></ul></li></ul><p><strong>æ•°ç»„</strong> ï¼š</p><ul><li><code>JSONæ•°ç»„</code> å’Œ <code>JSæ•°ç»„</code> çš„åŒºåˆ«ï¼š<ul><li><code>JSONæ•°ç»„</code> æ²¡æœ‰å£°æ˜å˜é‡ï¼›</li><li><code>JSONæ•°ç»„</code> æœ«å°¾æ²¡æœ‰ <code>åˆ†å·</code> ï¼›</li></ul></li></ul><p><strong>JSON.stringify(obj, para1, para2)</strong> ï¼š</p><ul><li><code>JSå¯¹è±¡</code> =&gt; <code>JSONå­—ç¬¦ä¸²</code> ï¼›</li><li><strong>para1</strong> ï¼šå¯é€‰ï¼Œç”¨äºè¿‡æ»¤ç»“æœï¼Œå¯ä»¥æ˜¯æ•°ç»„æˆ–å‡½æ•°ï¼›<ul><li>æ•°ç»„ ï¼šåªè¿”å›æ•°ç»„ä¸­çš„ <code>key</code> ï¼›</li><li>function(key, value) ï¼šé‡æ–°æ ¼å¼åŒ–æ¯ä¸ª <code>key</code> çš„å€¼ï¼›</li></ul></li><li><strong>para2</strong> ï¼šå¯é€‰ï¼Œç”¨äºæŒ‡å®šç¼©è¿›ï¼Œå¯ä»¥æ˜¯æ•°å€¼æˆ–å­—ç¬¦ä¸²ï¼›<ul><li>æ•°å€¼ï¼šç¼©è¿› n ä¸ªç©ºæ ¼ï¼Œæœ€å¤§é•¿åº¦ä¸º10ï¼›</li><li>å­—ç¬¦ä¸²ï¼šç¼©è¿›å­—ç¬¦ä¸²ï¼Œæœ€å¤§é•¿åº¦ä¸º10ï¼›</li></ul></li></ul><p><strong>JSON.parse(str, para1)</strong> ï¼š</p><ul><li><code>JSONå­—ç¬¦ä¸²</code> =&gt; <code>JSå¯¹è±¡</code> ï¼›</li><li><strong>para1</strong> ï¼šå¯é€‰ï¼Œå’Œ <code>JSON.stringify</code> çš„ <code>para1</code> ä¸­çš„ <code>fucntion</code> ç±»ä¼¼ï¼Œç”¨äºè¿˜åŸç»“æœï¼Œæ˜¯ä¸€ä¸ªå‡½æ•°ï¼›<ul><li>function(key, value) ï¼šé‡æ–°æ ¼å¼åŒ–æ¯ä¸ª <code>key</code> çš„å€¼ï¼›</li></ul></li></ul><h3 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a>Ajax</h3><p><code>Ajax</code> æ˜¯ä¸€ç§å±€éƒ¨åˆ·æ–°é¡µé¢çš„æŠ€æœ¯ï¼Œå®ƒå‘æœåŠ¡å™¨è¯·æ±‚æ•°æ®è€Œæ— éœ€å¸è½½é¡µé¢ï¼Œåªå±€éƒ¨åˆ·æ–°é¡µé¢ã€‚</p><h4 id="åŸç”Ÿå†™æ³•"><a href="#åŸç”Ÿå†™æ³•" class="headerlink" title="åŸç”Ÿå†™æ³•"></a><strong>åŸç”Ÿå†™æ³•</strong></h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">xhr.open(type, url, isAsync);</span><br><span class="line">xhr.send(data);</span><br></pre></td></tr></table></figure><p><strong>è¯´æ˜</strong>ï¼š</p><ul><li><p><strong>type</strong> ï¼š<code>post</code> ã€<code>get</code> ç­‰ï¼›</p></li><li><p><strong>url</strong> ï¼šè¯·æ±‚çš„ url ï¼Œ<code>get</code> è¯·æ±‚æ—¶æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°å¿…é¡»ä½¿ç”¨ <code>encodeURIComponent()</code> è¿›è¡Œç¼–ç ï¼›</p></li><li><p><strong>isAsync</strong> ï¼šæ˜¯å¦å¼‚æ­¥ã€‚<code>jQuery</code> é»˜è®¤ä¸º <code>true</code> ï¼›</p></li><li><p><strong>data</strong> ï¼šä¸€å®šè¦å¡«ï¼Œä¸ºç©ºçš„è¯å†™ <code>null</code> ï¼›</p></li><li><p>å¯ä»¥ä½¿ç”¨è¡¨å•å½¢å¼ç»™æœåŠ¡å™¨ä¼ æ•°æ®(ç»“æœæ˜¯é”®å€¼å¯¹ï¼Œè€Œä¸æ˜¯stringå­—ç¬¦ä¸²)ï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–¹æ³•1</span></span><br><span class="line"><span class="keyword">var</span> form = <span class="built_in">document</span>.getElementById(<span class="string">"user-info"</span>);</span><br><span class="line"><span class="keyword">var</span> data = <span class="keyword">new</span> FormData(form);</span><br><span class="line"><span class="comment">// æ–¹æ³•2</span></span><br><span class="line"><span class="keyword">var</span> data = <span class="keyword">new</span> FormData();</span><br><span class="line">data.append(<span class="string">"key1"</span>, <span class="string">"value1"</span>);</span><br><span class="line">data.append(<span class="string">"key2"</span>, <span class="string">"value2"</span>);</span><br><span class="line"><span class="comment">// å‘é€ç»™æœåŠ¡å™¨</span></span><br><span class="line">xhr.send(data);</span><br></pre></td></tr></table></figure></li></ul><p><strong>æ›´å¤šä¿¡æ¯</strong> ï¼š</p><ul><li>Page 575ï¼›</li><li><strong>HTTPå¤´ä¿¡æ¯</strong> ï¼šå¯ä»¥è‡ªå®šä¹‰ä¿¡æ¯åœ¨å¤´éƒ¨ï¼Œä¾›æœåŠ¡å™¨è¯»å–ï¼›</li><li><strong>è¶…æ—¶è®¾å®š</strong> ï¼š<code>xhr.timeout</code> ã€<code>xhr.ontimeout=function(){}</code> ï¼›</li><li><strong>è¿›åº¦äº‹ä»¶</strong> ï¼š<code>load</code> ã€<code>progress</code> ï¼›</li></ul><h4 id="è·¨åŸŸä»‹ç»"><a href="#è·¨åŸŸä»‹ç»" class="headerlink" title="è·¨åŸŸä»‹ç»"></a><strong>è·¨åŸŸä»‹ç»</strong></h4><p><code>CORS(Cross-Origin-Resource Sharing)</code> å®šä¹‰äº†è·¨åŸŸæ—¶ï¼Œæµè§ˆå™¨ä¸æœåŠ¡å™¨è¯¥å¦‚ä½•é€šä¿¡ã€‚</p><p><code>CORS</code> <strong>çš„åŸºæœ¬æ€è·¯</strong></p><ul><li><code>æµè§ˆå™¨</code> =&gt; <code>æœåŠ¡å™¨</code> çš„ <code>è¯·æ±‚å¤´</code> ä¸­æ·»åŠ ï¼š<code>Origin: url</code> ï¼›</li><li><code>æœåŠ¡å™¨</code> =&gt; <code>æµè§ˆå™¨</code> çš„ <code>å“åº”å¤´</code> ä¸­æ·»åŠ ï¼š <code>Access-Control-Allow-Origin: url</code> ï¼›</li><li>è¿™2ä¸ª <code>url</code> å¿…é¡»ä¸€è‡´ï¼›</li></ul><p><strong>IE8 çš„è·¨åŸŸ</strong></p><ul><li><p>ä½¿ç”¨ <code>XDR(XDomainRequest)</code> å¯¹è±¡æ¥åˆ›å»ºå®ä¾‹(æ›¿ä»£ <code>XMLHttpRequest</code> å¯¹è±¡)ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xdr = <span class="keyword">new</span> XDomainRequest();</span><br><span class="line">xdr.open(type, url, isAsync);</span><br><span class="line">xdr.send(data);</span><br></pre></td></tr></table></figure></li></ul><p><strong>å…¶ä»–ä¸»æµæµè§ˆå™¨çš„è·¨åŸŸ</strong></p><ul><li><strong>åŸç”Ÿæ”¯æŒ</strong> ï¼šç›´æ¥ä½¿ç”¨ <code>XMLHttpRequest</code> å¯¹è±¡åˆ›å»ºå®ä¾‹å³å¯ï¼›</li></ul><p><strong>å…¶ä»–è·¨åŸŸæŠ€æœ¯</strong></p><ul><li><strong>å›¾åƒPing</strong> ï¼šå•å‘ï¼Œ<code>æµè§ˆå™¨</code> =&gt; <code>æœåŠ¡å™¨</code> ï¼›</li><li><strong>JSONP</strong> ï¼šåŒå‘ï¼ŒæŠŠ url æ·»åŠ åˆ° <code>&lt;script&gt;</code> æ ‡ç­¾ä¸­ï¼Œç„¶å <code>&lt;script&gt;</code> æ ‡ç­¾æ·»åŠ åˆ° <code>document.body</code> å†…ï¼›</li><li><strong>Comet</strong> ï¼šé•¿è½®è¯¢ å’Œ æµï¼›</li><li><strong>æœåŠ¡å™¨å‘é€äº‹ä»¶</strong> ï¼šSSE ï¼›</li></ul><h4 id="WebSocket"><a href="#WebSocket" class="headerlink" title="WebSocket"></a><strong>WebSocket</strong></h4><p>ç”¨äºåœ¨ä¸€ä¸ªå•ç‹¬çš„æŒä¹…è¿æ¥ä¸Šæä¾› <strong>å…¨åŒå·¥ã€åŒå‘é€šä¿¡</strong> ã€‚</p><p><strong>åŸç”Ÿå†™æ³•</strong></p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> socket = <span class="keyword">new</span> WebSocket(url);</span><br><span class="line">socket.send(data);</span><br><span class="line">socket.onmessage = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> data = event.data;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// å…¶ä»–3ä¸ªäº‹ä»¶</span></span><br><span class="line">socket.onopen = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">socket.onerror = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">socket.onclose = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br></pre></td></tr></table></figure></li></ul><p><strong>è¯´æ˜</strong></p><ul><li><strong>url</strong> ï¼šä¼ è¾“åè®®ä¸º <code>ws://</code> å’Œ <code>wss://</code> ï¼Œåˆ†åˆ«å¯¹åº” <code>æœªåŠ å¯†</code> å’Œ <code>åŠ å¯†</code> çš„åè®®ï¼›</li><li><strong>send</strong> ï¼š<code>data</code> åªèƒ½æ˜¯ <code>å­—ç¬¦ä¸²</code> ;</li><li><strong>onmessage</strong> ï¼š<code>æœåŠ¡å™¨</code> è¿”å›çš„æ•°æ®å­˜æ”¾åœ¨ <code>event.data</code> ä¸­ï¼›</li></ul><p><strong>ä¼˜ç¼ºç‚¹</strong></p><p><strong>ä¼˜ç‚¹</strong> ï¼š</p><ul><li>èƒ½å¤ŸåŒå‘é€šä¿¡ï¼Œ<code>æœåŠ¡å™¨</code> èƒ½ä¸»åŠ¨æ¨é€æ•°æ®ç»™ <code>æµè§ˆå™¨</code> ï¼›</li><li>ä¼ è¾“æ•°æ®å°ï¼Œå ç”¨èµ„æºå°‘ï¼Œé€Ÿåº¦å¿«ã€‚å› ä¸ºç›¸æ¯”è¾ƒ <code>http/https</code> çš„ä¼ è¾“åè®®ï¼Œ<code>ws/wss</code> çš„è¯·æ±‚å¤´æ›´å°ï¼Œæ‰€ä»¥æ¯æ¬¡ä¼ è¾“æ•°æ®ï¼Œâ€œæ— æ•ˆâ€çš„è¯·æ±‚å¤´æ•°æ®ä¼šæ›´å°‘ï¼Œå¯¹äºé«˜é¢‘ç‡çš„è¯·æ±‚æ•ˆæœæ›´æ˜æ˜¾ï¼›</li></ul><p><strong>ç¼ºç‚¹</strong> ï¼š</p><ul><li><strong>h5</strong> æ–°å¢çš„åŠŸèƒ½ï¼Œå¯¹äºæŸäº›æ—§æµè§ˆå™¨å¹¶ä¸æ”¯æŒï¼›</li><li>éœ€è¦ä½¿ç”¨ä¸åŒçš„ webæœåŠ¡å™¨(ä¼ è¾“åè®®ä¸º <code>ws/wss</code> ) ï¼›</li></ul><h3 id="é«˜çº§æŠ€å·§"><a href="#é«˜çº§æŠ€å·§" class="headerlink" title="é«˜çº§æŠ€å·§"></a>é«˜çº§æŠ€å·§</h3><h4 id="é«˜çº§å‡½æ•°"><a href="#é«˜çº§å‡½æ•°" class="headerlink" title="é«˜çº§å‡½æ•°"></a>é«˜çº§å‡½æ•°</h4><p><strong>å®‰å…¨çš„ç±»å‹æ£€æµ‹</strong></p><ul><li><p><code>instanceof</code> æ£€æµ‹æ—¶ï¼Œå¿…é¡»æ˜¯åœ¨åŒä¸€ä¸ªå…¨å±€ä½œç”¨åŸŸä¸‹æ‰æœ‰æ•ˆ(æ¯”å¦‚ä¸€ä¸ªé¡µé¢åŒ…å«å¤šä¸ªframeæ—¶ï¼Œåœ¨ éæ„é€ å‡½æ•°é¡µé¢ æ£€æµ‹ä¼šè¿”å›false)ï¼›</p></li><li><p>åˆ©ç”¨ <code>åŸç”ŸXX</code> çš„æ„é€ å‡½æ•°åä¸å…¨å±€ä½œç”¨åŸŸæ— å…³ï¼Œå› æ­¤ä½¿ç”¨ <code>toString()</code> å°±èƒ½å¤Ÿä¿è¯è¿”å›ä¸€è‡´çš„å€¼ï¼Œæ‰€ä»¥å¯ä»¥åˆ›å»ºä»¥ä¸‹å‡½æ•°ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ£€æµ‹æ•°ç»„</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isArray</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(value) == <span class="string">"[object Array]"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ£€æµ‹å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isFunction</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(value) == <span class="string">"[object Function]"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ£€æµ‹æ­£åˆ™è¡¨è¾¾å¼</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isRegExp</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(value) == <span class="string">"[object RegExp]"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>ä½œç”¨åŸŸå®‰å…¨çš„æ„é€ å‡½æ•°</strong></p><ul><li><p>å½“ä½¿ç”¨æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå¿˜è®°ä½¿ç”¨ <code>new</code> çš„æƒ…å†µä¸‹ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, job</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span> <span class="keyword">instanceof</span> Person) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">    <span class="keyword">this</span>.job = job</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Person(name, age, job);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åŸç†ï¼šä½¿ç”¨ <code>new</code> çš„æƒ…å†µä¸‹ï¼Œ<code>this</code> æŒ‡å‘çš„æ˜¯ <code>new</code> å‡ºæ¥çš„æ–°å¯¹è±¡ï¼›æœªä½¿ç”¨ <code>new</code> çš„æƒ…å†µä¸‹ï¼Œ<code>this</code> æŒ‡å‘çš„æ˜¯ <code>å…¨å±€å¯¹è±¡window</code> ï¼›</p></li></ul><p><strong>æƒ°æ€§è½½å…¥å‡½æ•°</strong></p><ul><li><p>åœ¨æŸäº› <code>if</code> åˆ¤æ–­çš„è¯­å¥ä¸­ï¼Œ<strong>å¦‚æœç¬¬ä¸€æ¬¡æ€æ ·ï¼Œåé¢æ¯æ¬¡éƒ½ä¼šè¿™æ ·</strong>ï¼Œé’ˆå¯¹è¿™ç§æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨ <code>æƒ°æ€§è½½å…¥å‡½æ•°</code> ï¼Œå³ <strong>ifé‡Œé‡å†™åŸæ–¹æ³•</strong>ï¼Œè¿™æ ·åé¢æ‰§è¡Œæ˜¯å°±ä¸ç”¨åˆ¤æ–­äº†ï¼›</p></li><li><p><code>æƒ°æ€§è½½å…¥å‡½æ•°</code> æœ‰ä¸¤ç§å†™æ³•ï¼š</p><ul><li><p>ç¬¬ä¸€ç§æ˜¯ï¼šå‡½æ•°è¢«è°ƒç”¨æ—¶å†å¤„ç†å‡½æ•°ï¼š</p></li><li><p>ç¬¬äºŒç§æ˜¯ï¼šå£°æ˜å‡½æ•°æ—¶å°±æŒ‡å®šé€‚å½“çš„å‡½æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŸå‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createXHR</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> XMLHttpRequest != <span class="string">"undefined"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> ActiveXObject != <span class="string">"undefined"</span>) &#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ActiveXObject(<span class="built_in">arguments</span>.callee.activeXString);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"No XHR object available."</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¬¬ä¸€ç§ï¼šå‡½æ•°è¢«è°ƒç”¨æ—¶å†å¤„ç†å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createXHR</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> XMLHttpRequest != <span class="string">"undefined"</span>) &#123;</span><br><span class="line">    createXHR = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="comment">// æ”¹å˜1</span></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> ActiveXObject != <span class="string">"undefined"</span>) &#123;</span><br><span class="line">    createXHR = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;<span class="comment">// æ”¹å˜2</span></span><br><span class="line">      <span class="comment">//...</span></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> ActiveXObject(<span class="built_in">arguments</span>.callee.activeXString);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    createXHR = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;<span class="comment">// æ”¹å˜3</span></span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"No XHR object available."</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¬¬äºŒç§ï¼šå£°æ˜å‡½æ•°æ—¶å°±æŒ‡å®šé€‚å½“çš„å‡½æ•°</span></span><br><span class="line"><span class="keyword">var</span> createXHR = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> XMLHttpRequest != <span class="string">"undefined"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;<span class="comment">// æ”¹å˜1</span></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> ActiveXObject != <span class="string">"undefined"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;<span class="comment">// æ”¹å˜2</span></span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> ActiveXObject(<span class="built_in">arguments</span>.callee.activeXString);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;<span class="comment">// æ”¹å˜3</span></span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"No XHR object available."</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)();<span class="comment">// æ”¹å˜4</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><p><strong>å‡½æ•°ç»‘å®š</strong></p><ul><li><p><code>å‡½æ•°ç»‘å®š</code> è¦åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥åœ¨ç‰¹å®šçš„ <code>this</code> ç¯å¢ƒä¸­ä»¥æŒ‡å®šå‚æ•°è°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°ï¼›</p></li><li><p>æ¥çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> handler = &#123;</span><br><span class="line">  message: <span class="string">"Event handler"</span>,</span><br><span class="line">  handlerClick: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="keyword">this</span>.message);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"my-btn"</span>);</span><br><span class="line"><span class="comment">// è¿”å›undefined</span></span><br><span class="line">EventUtil.addHandler(btn, <span class="string">"click"</span>, handler.handlerClick);</span><br><span class="line"><span class="comment">// è¿”å›Event handler, </span></span><br><span class="line"><span class="comment">// ä¼ å…¥ä½œä¸ºthiså€¼çš„å¯¹è±¡ï¼Œå’Œ callï¼Œapply ç±»ä¼¼</span></span><br><span class="line">EventUtil.addHandler(btn, <span class="string">"click"</span>, handler.handlerClick.bind(handler));</span><br></pre></td></tr></table></figure></li></ul><p><strong>å‡½æ•°æŸ¯é‡ŒåŒ–</strong></p><ul><li><p>ç”¨äºåˆ›å»ºå·²ç»è®¾ç½®å¥½äº†ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°çš„å‡½æ•°ï¼›</p></li><li><p><code>å‡½æ•°æŸ¯é‡ŒåŒ–</code> çš„åŸºæœ¬æ–¹æ³•å’Œ <code>å‡½æ•°ç»‘å®š</code> æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ä½¿ç”¨ä¸€ä¸ªé—­åŒ…è¿”å›ä¸€ä¸ªå‡½æ•°ï¼›</p></li><li><p>ä¸¤è€…çš„åŒºåˆ«åœ¨äºï¼šå½“å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œè¿”å›çš„å‡½æ•°è¿˜éœ€è¦è®¾ç½®ä¸€äº›ä¼ å…¥çš„å‚æ•°ï¼›</p></li><li><p>æ¥çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡½æ•°æŸ¯é‡ŒåŒ– å®šä¹‰å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">curry</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> args = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> innerArgs = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</span><br><span class="line">    <span class="keyword">var</span> finalArgs = args.concat(innerArgs);</span><br><span class="line">    <span class="keyword">return</span> fn.apply(<span class="literal">null</span>, finalArgs);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡½æ•°æŸ¯é‡ŒåŒ– ä½¿ç”¨æ–¹æ³•1</span></span><br><span class="line"><span class="comment">// è¶…å‡ºå‚æ•°è‡ªåŠ¨å¿½ç•¥</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num1 + num2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> curriedAdd = curry(add, <span class="number">5</span>);</span><br><span class="line">alert(curriedAdd(<span class="number">3</span>));<span class="comment">// 8</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡½æ•°æŸ¯é‡ŒåŒ– ä½¿ç”¨æ–¹æ³•2</span></span><br><span class="line"><span class="comment">// è¶…å‡ºå‚æ•°è‡ªåŠ¨å¿½ç•¥</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num1 + num2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> curriedAdd = curry(add, <span class="number">5</span>, <span class="number">13</span>, <span class="number">2</span>);</span><br><span class="line">alert(curriedAdd());<span class="comment">// 18</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="é˜²ç¯¡æ”¹å¯¹è±¡"><a href="#é˜²ç¯¡æ”¹å¯¹è±¡" class="headerlink" title="é˜²ç¯¡æ”¹å¯¹è±¡"></a>é˜²ç¯¡æ”¹å¯¹è±¡</h4><p><strong>æ³¨æ„ï¼šä¸€æ—¦æŠŠå¯¹è±¡å®šä¹‰ä¸ºé˜²ç¯¡æ”¹ï¼Œå°±ä¸å¯æ’¤é”€äº†</strong> ã€‚</p><p><strong>ä¸å¯æ‰©å±•å¯¹è±¡</strong></p><ul><li>ä¸èƒ½æ·»åŠ å±æ€§å’Œæ–¹æ³•ï¼Œå¯åˆ é™¤å’Œä¿®æ”¹ï¼›</li><li>ä½¿ç”¨ <code>Object.preventExtensions(obj)</code> æŠŠ <code>objå¯¹è±¡</code> ä¿®æ”¹ä¸º <code>ä¸å¯æ‰©å±•å¯¹è±¡</code> ï¼›</li></ul><p><strong>å¯†å°çš„å¯¹è±¡</strong></p><ul><li>ä¸èƒ½æ·»åŠ å’Œåˆ é™¤å±æ€§å’Œæ–¹æ³•ï¼Œä½†å¯ä¿®æ”¹ï¼›</li><li>ä½¿ç”¨ <code>Object.seal(obj)</code> æŠŠ <code>objå¯¹è±¡</code> ä¿®æ”¹ä¸º <code>å¯†å°çš„å¯¹è±¡</code> ï¼›</li></ul><p><strong>å†»ç»“çš„å¯¹è±¡</strong></p><ul><li>æ—¢ä¸å¯æ‰©å±•ï¼Œåˆæ˜¯å†»ç»“çš„ã€‚å³ä¸å¯æ–°å¢ã€ä¿®æ”¹ã€åˆ é™¤å±æ€§å’Œæ–¹æ³•ï¼›</li><li>ä½¿ç”¨ <code>Object.freeze(obj)</code> æŠŠ <code>objå¯¹è±¡</code> ä¿®æ”¹ä¸º <code>å†»ç»“çš„å¯¹è±¡</code> ï¼›</li></ul><h4 id="é«˜çº§å®šæ—¶å™¨"><a href="#é«˜çº§å®šæ—¶å™¨" class="headerlink" title="é«˜çº§å®šæ—¶å™¨"></a>é«˜çº§å®šæ—¶å™¨</h4><p><code>setTimeout</code> å’Œ <code>setInterval()</code> å¹¶ä¸æ˜¯ <strong>è¿‡xxæ¯«ç§’åæ‰§è¡Œå‡½æ•°</strong> ï¼Œè€Œæ˜¯ <strong>è¿‡xxæ¯«ç§’åæŠŠå‡½æ•°ä»£ç æ·»åŠ åˆ°ä»£ç é˜Ÿåˆ—ï¼Œåœ¨æµè§ˆå™¨ç©ºé—²æ—¶ï¼Œå°†æŒ‰é˜Ÿåˆ—é¡ºåºä¾æ¬¡æ‰§è¡Œé˜Ÿåˆ—ä¸­çš„ä»£ç </strong> ã€‚</p><p><strong>é‡å¤çš„å®šæ—¶å™¨</strong></p><ul><li><p>ä½¿ç”¨ <code>setInterval()</code> æ—¶ï¼Œä»…å½“æ²¡æœ‰è¯¥å®šæ—¶å™¨çš„ä»»ä½•å…¶ä»–ä»£ç å®ä¾‹æ—¶ï¼Œæ‰å°†å®šæ—¶å™¨ä»£ç æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­ï¼Œè¿™ç¡®ä¿äº†é˜Ÿåˆ—ä¸­çš„æœ€å°æ—¶é—´é—´éš”ä¸ºæŒ‡å®šé—´éš”ï¼›</p></li><li><p>å½“è¿™ç§ <code>é‡å¤å®šæ—¶å™¨</code> æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š(1)æŸäº›é—´éš”ä¼šè¢«è·³è¿‡ï¼›(2)å¤šä¸ªå®šæ—¶å™¨çš„ä»£ç æ‰§è¡Œä¹‹é—´çš„é—´éš”å¯èƒ½ä¼šæ¯”é¢„æœŸçš„å°ï¼›</p></li><li><p>ä¸ºäº†è§£å†³è¿™ç§é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ¨¡å¼çš„ <code>é“¾å¼setTimeout()è°ƒç”¨</code> ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="comment">// å¤„ç†ä¸­</span></span><br><span class="line">  setTimeout(<span class="built_in">arguments</span>.callee, interval);</span><br><span class="line">&#125;, interval);</span><br></pre></td></tr></table></figure></li></ul><p><strong>Yielding Processos</strong></p><ul><li><p>å½“æŸä¸ªå¾ªç¯å ç”¨äº†å¤§é‡æ—¶é—´ï¼Œå¦‚æœè¯¥å¾ªç¯æ»¡è¶³ <strong>1æ— éœ€åŒæ­¥å®Œæˆï¼Œ2æ— éœ€æŒ‰é¡ºåºå®Œæˆ</strong> ï¼Œåˆ™å¯ä½¿ç”¨ä¸€ç§å«åš <code>æ•°ç»„åˆ†å—</code> çš„æŠ€æœ¯ï¼Œå°å—å°å—çš„å¤„ç†æ•°ç»„ï¼Œé€šå¸¸æ¯æ¬¡ä¸€å°å—ï¼›</p></li><li><p>åŸºæœ¬æ€è·¯ï¼šä¸ºè¦å¤„ç†çš„æ•°ç»„åˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—ï¼Œç„¶åä½¿ç”¨å®šæ—¶å™¨å–å‡ºä¸‹ä¸€ä¸ªè¦å¤„ç†çš„é¡¹ç›®è¿›è¡Œå¤„ç†ï¼Œæ¥ç€å†è®¾ç½®å¦ä¸€ä¸ªå®šæ—¶å™¨ï¼›</p></li><li><p>çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ€è·¯</span></span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="comment">// å–å‡ºä¸‹ä¸€ä¸ªé¡¹ç›®å¹¶å¤„ç†</span></span><br><span class="line">  <span class="keyword">var</span> item = array.shift();</span><br><span class="line">  process(item);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//è‹¥è¿˜æœ‰æ¡ç›®ï¼Œå†è®¾ç½®å¦ä¸€ä¸ªå®šæ—¶å™¨</span></span><br><span class="line">  <span class="keyword">if</span> (array.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    setTimeout(<span class="built_in">arguments</span>.callee, <span class="number">100</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, <span class="number">100</span>)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®é™…ä¾‹å­</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">chunk</span>(<span class="params">array, process, context</span>) </span>&#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> item = array.shift();</span><br><span class="line">    process.call(context, item);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (array.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      setTimeout(<span class="built_in">arguments</span>.callee, <span class="number">100</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, <span class="number">100</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> data = [<span class="number">12</span>,<span class="number">123</span>,<span class="number">23</span>,<span class="number">234</span>,<span class="number">1234</span>,<span class="number">323</span>,<span class="number">444</span>,<span class="number">555</span>,<span class="number">666</span>,<span class="number">777</span>];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printValue</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementById(<span class="string">"myDiv"</span>);</span><br><span class="line">  div.innerHTML += item + <span class="string">"&lt;br&gt;"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">chunk(data, printValue);</span><br></pre></td></tr></table></figure></li></ul><p><strong>å‡½æ•°èŠ‚æµ</strong></p><ul><li><p>æµè§ˆå™¨ä¸­æŸäº›æ“ä½œ(æ¯”å¦‚DOM)éå¸¸è€—èµ„æºï¼Œé«˜é¢‘ç‡çš„è¿›è¡Œè¿™ç§æ“ä½œå¯èƒ½ä¼šè®©æµè§ˆå™¨å´©æºƒã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨å®šæ—¶å™¨å¯¹è¯¥å‡½æ•°è¿›è¡Œ <strong>èŠ‚æµ</strong> ï¼›</p></li><li><p><code>å‡½æ•°èŠ‚æµ</code> èƒŒåçš„æ€è·¯æ˜¯ï¼šæŸäº›ä»£ç ä¸å¯ä»¥åœ¨æ²¡æœ‰é—´æ–­çš„æƒ…å†µä¸‹è¿ç»­é‡å¤æ‰§è¡Œã€‚ç¬¬ä¸€æ¬¡è°ƒç”¨å‡½æ•°æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªå®šæ—¶å™¨ï¼Œåœ¨æŒ‡å®šçš„æ—¶é—´é—´éš”åå†æ‰§è¡Œå‡½æ•°ï¼›ç¬¬äºŒæ¬¡è°ƒç”¨æ—¶ï¼Œä¼šå…ˆæ¸…é™¤å‰ä¸€æ¬¡çš„å®šæ—¶å™¨ï¼Œå¹¶è®¾ç½®å¦å¤–ä¸€ä¸ªï¼Œç„¶åé‡å¤å‰é¢çš„æ­¥éª¤ï¼›</p></li><li><p>æ¥çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ€è·¯</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">method, context</span>) </span>&#123;</span><br><span class="line">  clearTimeout(method.tId);</span><br><span class="line">  <span class="keyword">var</span> method.tId = setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    method.call(context);</span><br><span class="line">  &#125;, <span class="number">100</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æœªèŠ‚æµå‰å†™æ³•ï¼Œé«˜é¢‘ç‡çš„æ›´æ–°å¯èƒ½å¯¼è‡´æµè§ˆå™¨å´©æºƒ</span></span><br><span class="line"><span class="built_in">window</span>.onresize = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementById(<span class="string">"myDiv"</span>);</span><br><span class="line">  div.style.height = div.offsetWidth + <span class="string">"px"</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// èŠ‚æµå†™æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">resizeDiv</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementById(<span class="string">"myDiv"</span>);</span><br><span class="line">  div.style.height = div.offsetWidth + <span class="string">"px"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.onresize = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  throttle(resizeDiv);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="è‡ªå®šä¹‰äº‹ä»¶"><a href="#è‡ªå®šä¹‰äº‹ä»¶" class="headerlink" title="è‡ªå®šä¹‰äº‹ä»¶"></a>è‡ªå®šä¹‰äº‹ä»¶</h4><ul><li><code>äº‹ä»¶</code> æ˜¯ä¸€ç§å«åš <code>è§‚å¯Ÿè€…</code> çš„è®¾è®¡æ¨¡å¼ï¼Œè¿™æ˜¯ä¸€ç§åˆ›å»ºæ¾æ•£è€¦åˆä»£ç çš„æŠ€æœ¯ï¼›</li><li><code>è§‚å¯Ÿè€…æ¨¡å¼</code> ç”± <code>ä¸»ä½“</code> å’Œ <code>è§‚å¯Ÿè€…</code> ä¸¤éƒ¨åˆ†ç»„æˆï¼›<ul><li><strong>ä¸»ä½“</strong> ï¼šå‘å¸ƒäº‹ä»¶ï¼›</li><li><strong>è§‚å¯Ÿè€…</strong> ï¼šè®¢é˜…äº‹ä»¶ï¼Œè§‚å¯Ÿä¸»ä½“ï¼›</li></ul></li></ul><h3 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h3><ul><li><code>æœåŠ¡å™¨</code> ç”Ÿæˆå¹¶è¿”å›ç»™ <code>æµè§ˆå™¨</code> çš„ï¼›</li><li>ç»‘å®šåœ¨ç‰¹å®šåŸŸåä¸‹ï¼Œåªåœ¨ç»‘å®šçš„åŸŸåä¸‹æœ‰æ•ˆï¼›</li><li>(é’ˆå¯¹åŸŸå) åªè¦æœ‰çš„è¯ï¼Œæµè§ˆå™¨æ¯æ¬¡å‘æ•°æ®ç»™ <code>æœåŠ¡å™¨</code> ï¼Œä¸€å®šä¼šå¸¦ä¸Šå·²ç»å­˜åœ¨çš„ <code>cookie ï¼›</code></li><li>æœªè®¾å®šæœ‰æ•ˆæœŸçš„ <code>cookie</code> ï¼Œæµè§ˆå™¨å…³é—­åå³å¤±æ•ˆï¼Œè®¾å®šæœ‰æ•ˆæœŸçš„ <code>cookie</code>ï¼Œæ‰‹åŠ¨åˆ é™¤æˆ–åˆ°æœŸå‰ï¼Œä¸€ç›´æœ‰æ•ˆï¼›</li></ul><h3 id="æœ€ä½³å®è·µ"><a href="#æœ€ä½³å®è·µ" class="headerlink" title="æœ€ä½³å®è·µ"></a>æœ€ä½³å®è·µ</h3><p><strong>ä¼˜åŒ–DOM</strong></p><p>åœ¨ <strong>JavaScript</strong> å„ä¸ªæ–¹é¢ä¸­ï¼Œ<strong>DOM</strong> æ¯«æ— ç–‘é—®æ˜¯æœ€æ…¢çš„ä¸€éƒ¨åˆ†ã€‚</p><p>å½“å¾€é¡µé¢æ·»åŠ å¤šä¸ª <code>&lt;li&gt;</code> å…ƒç´ æ—¶ï¼Œæ¯æ·»åŠ ä¸€æ¬¡éƒ½è¦è¿›è¡Œä¸€æ¬¡ <code>ç°åœºæ›´æ–°</code>ï¼Œå³é¡µé¢è¦è¿›è¡Œä¸€æ¬¡ <code>é‡æ’é‡ç»˜</code> ï¼Œæ€§èƒ½æŸå¤±éå¸¸å¤§ã€‚</p><p><strong>æœ€å°åŒ–æ›´æ–°ç°åœº</strong></p><ul><li><p>ä½¿ç”¨ <code>æ–‡æ¡£ç‰‡æ®µ</code> æ¥æ„å»ºDOMç»“æ„ï¼Œæ¥ç€å°†å…¶æ·»åŠ åˆ° <code>List</code> å…ƒç´ ä¸­ï¼Œè¿™æ ·åªä¼šè¿›è¡Œä¸€æ¬¡ <code>ç°åœºæ›´æ–°</code> ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list = <span class="built_in">document</span>.getElementById(<span class="string">"myList"</span>),</span><br><span class="line">    fragment = <span class="built_in">document</span>.createDocumentFragment(),</span><br><span class="line">    item,</span><br><span class="line">    i;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++) &#123;</span><br><span class="line">  item = <span class="built_in">document</span>.createElement(<span class="string">"li"</span>);</span><br><span class="line">  fragment.appendChild(item);</span><br><span class="line">  item.appendChild(<span class="built_in">document</span>.createTextNode(<span class="string">"Item"</span> + i));</span><br><span class="line">&#125;</span><br><span class="line">list.appendChild(fragment);</span><br></pre></td></tr></table></figure></li></ul><p><strong>ä½¿ç”¨ innerHTML</strong></p><ul><li><p>åˆ›å»º <strong>DOM</strong> èŠ‚ç‚¹åˆ°å¦ä¸€ç§æ–¹æ³•(å‰ä¸€ç§æ˜¯ <code>createElement</code> ã€<code>appendChild</code> ä¹‹ç±»çš„)ï¼›</p></li><li><p>å¯¹äºå°çš„ <strong>DOM</strong> èŠ‚ç‚¹æ›´æ”¹ï¼Œä¸¤ç§æ–¹æ³•æ•ˆç‡å·®ä¸å¤šï¼Œç„¶è€Œå¯¹äºå¤§çš„ <strong>DOM</strong> èŠ‚ç‚¹çš„æ›´æ”¹ï¼Œ<code>innerHTML</code> è¦æ¯”å‰ä¸€ç§å¿«çš„å¤šï¼Œå› ä¸ºåªè¿›è¡Œä¸€æ¬¡ <code>ç°åœºæ›´æ–°</code> ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list = <span class="built_in">document</span>.getElementById(<span class="string">"myList"</span>),</span><br><span class="line">    html = <span class="string">""</span>,</span><br><span class="line">    i;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++) &#123;</span><br><span class="line">  html += <span class="string">"&lt;li&gt;Item"</span> + i + <span class="string">"&lt;/li&gt;"</span>;</span><br><span class="line">&#125;</span><br><span class="line">list.innerHTML = html;</span><br></pre></td></tr></table></figure></li></ul><p><strong>ä½¿ç”¨äº‹ä»¶ä»£ç†</strong></p><ul><li>åˆ©ç”¨ <code>äº‹ä»¶å†’æ³¡</code> ï¼Œåœ¨æ–‡æ¡£çº§åˆ«é™„åŠ äº‹ä»¶å¤„ç†ç¨‹åºï¼Œè¿™æ ·å¯ä»¥å¤„ç†æ•´ä¸ªé¡µé¢çš„äº‹ä»¶ï¼›</li></ul><p><strong>æ³¨æ„ HTMLCollection</strong></p><ul><li><p>ä»»ä½•æ—¶å€™è¦è®¿é—® <strong>HTMLCollection</strong> ï¼Œä¸ç®¡å®ƒæ˜¯ä¸€ä¸ªå±æ€§è¿˜æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œéƒ½æ˜¯åœ¨æ–‡æ¡£ä¸Šè¿›è¡Œä¸€ä¸ªæŸ¥è¯¢ï¼Œè¿™ä¸ªæŸ¥è¯¢å¼€é”€å¾ˆå¤§ï¼›</p></li><li><p>æœ€å°åŒ–è®¿é—® <strong>HTMLCollection</strong> çš„æ¬¡æ•°å¯ä»¥æå¤§çš„æ”¹è¿›è„šæœ¬çš„æ€§èƒ½ï¼›</p></li><li><p>ä¼˜åŒ– <strong>HTMLCollection</strong> æœ€é‡è¦çš„åœ°æ–¹å°±æ˜¯å¾ªç¯äº†ï¼›</p></li><li><p>ä»¥ä¸‹æƒ…å†µä¼šè¿”å› <strong>HTMLCollection</strong> é›†åˆï¼š</p><ul><li>è¿›è¡Œäº†å¯¹ <code>getElementsByTagName</code> çš„è°ƒç”¨ ï¼›</li><li>è·å–äº†å…ƒç´ çš„ <code>ChildNodes</code> å±æ€§ ï¼›</li><li>è·å–äº†å…ƒç´ çš„ <code>attributes</code> å±æ€§ ï¼›</li><li>è®¿é—®äº†ç‰¹æ®Šçš„é›†åˆï¼Œæ¯”å¦‚ <code>document.forms</code>ã€<code>document.images</code> ç­‰ ï¼›</li></ul></li><li><p>æ¥çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¼˜åŒ–å‰</span></span><br><span class="line"><span class="keyword">var</span> images = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"img"</span>),</span><br><span class="line">    i,</span><br><span class="line">    len;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>, len=images.length;i&lt;len;i++) &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¼˜åŒ–å</span></span><br><span class="line"><span class="keyword">var</span> images = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"img"</span>),</span><br><span class="line">    image,</span><br><span class="line">    i,</span><br><span class="line">    len;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>, len=images.length;i&lt;len;i++) &#123;</span><br><span class="line">  image = images[i];</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>éƒ¨ç½²</strong></p><p><strong>å‹ç¼©</strong> ï¼š</p><p>å‹ç¼©åˆ†ä¸¤éƒ¨åˆ†ï¼Œå³ <code>æ–‡ä»¶å‹ç¼©</code> å’Œ <code>HTTPå‹ç¼©</code> ã€‚</p><p><code>æ–‡ä»¶å‹ç¼©</code> ï¼š</p><ul><li>æŠŠå¼€å‘ç¯å¢ƒçš„æ–‡ä»¶( jsã€css ç­‰)å‹ç¼©ï¼Œç„¶åéƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šï¼›</li><li>åˆ é™¤é¢å¤–çš„ç©ºç™½ï¼ŒåŒ…æ‹¬æ¢è¡Œï¼›</li><li>åˆ é™¤æ‰€æœ‰æ³¨é‡Šï¼›</li><li>ç¼©çŸ­å˜é‡åï¼›</li></ul><p><code>HTTPå‹ç¼©</code> ï¼š</p><ul><li>æœåŠ¡å™¨å¯¹ä¼ è¾“ç»™æµè§ˆå™¨çš„ä»£ç è¿›è¡Œå‹ç¼©(æœåŠ¡å™¨è¦è¿›è¡Œé…ç½®)ï¼›</li><li>æµè§ˆå™¨å¯¹æ¥æ”¶çš„èµ„æºè¿›è¡Œè§£å‹ç¼©ï¼Œç›®å‰äº”å¤§ Webæµè§ˆå™¨éƒ½æ”¯æŒè§£å‹ç¼©ï¼›ï¼›</li><li>å¯ä»¥èŠ‚çœä¼ è¾“çš„å­—èŠ‚ï¼Œå‡å°‘å¸¦å®½æ¶ˆè€—ï¼ŒåŠ å¿«å“åº”é€Ÿåº¦ï¼›</li><li><strong>åŸç†</strong> ï¼šä¸€ä¸ªæŒ‡å®šäº†æ–‡ä»¶ ä½¿ç”¨äº†ç»™å®šæ ¼å¼ è¿›è¡Œäº†å‹ç¼©çš„HTTPå¤´ åŒ…å«åœ¨äº†æœåŠ¡å™¨å“åº”ä¸­ã€‚æ¥ç€æµè§ˆå™¨ä¼šæŸ¥çœ‹è¯¥ HTTPå¤´ç¡®å®šæ–‡ä»¶æ˜¯å¦å·²è¢«å‹ç¼©ï¼Œç„¶åä½¿ç”¨åˆé€‚çš„æ ¼å¼è¿›è¡Œè§£å‹ç¼©ï¼›</li></ul><h3 id="æ–°API"><a href="#æ–°API" class="headerlink" title="æ–°API"></a>æ–°API</h3><p><strong>requestAnimationFrame()</strong></p><ul><li>æ—©æœŸåŠ¨ç”»å¾ªç¯ï¼›</li></ul><p><strong>Page Visiblity API</strong></p><ul><li><code>document.hidden</code> ï¼šæŸ¥çœ‹é¡µé¢æ˜¯å¦éšè—çš„å¸ƒå°”å€¼ã€‚é¡µé¢éšè—åŒ…æ‹¬åœ¨åå°æ ‡ç­¾é¡µä¸­æˆ–æœ€å°åŒ–æµè§ˆå™¨ï¼›</li><li><code>document.visibilityState</code> ï¼šè¡¨ç¤ºä¸‹åˆ—4ä¸ªå¯èƒ½çŠ¶æ€çš„å€¼ï¼š<ul><li>é¡µé¢åœ¨åå°æ ‡ç­¾ä¸­æˆ–æµè§ˆå™¨æœ€å°åŒ–ï¼›</li><li>é¡µé¢åœ¨å‰å°æ ‡ç­¾é¡µä¸­ï¼›</li><li>å®é™…çš„æ ‡ç­¾é¡µå·²ç»éšè—ï¼Œä½†ç”¨æˆ·å¯ä»¥çœ‹åˆ°é¡µé¢çš„é¢„è§ˆ(æ¯”å¦‚win7é¼ æ ‡ç§»åˆ°ä»»åŠ¡æ çš„å›¾æ ‡ä¸Šçœ‹åˆ°çš„é¢„è§ˆ)ï¼›</li><li>é¡µé¢åœ¨å±å¹•å¤–æ‰§è¡Œé¢„æ¸²æŸ“å¤„ç†ï¼›</li></ul></li><li><code>visibilitychange</code> äº‹ä»¶ï¼šæ–‡æ¡£ä»å¯è§å˜ä¸ºä¸å¯è§ï¼Œæˆ–ä»ä¸å¯è§å˜ä¸ºå¯è§æ—¶è§¦å‘ï¼›</li></ul><p><strong>Geolocation API</strong></p><ul><li>åœ°ç†å®šä½ APIï¼›</li><li><code>navigator.geolocation</code> å¯¹è±¡ï¼›</li><li><code>getCurrentPosition</code> ï¼šè·å–å½“å‰ä½ç½®ï¼›</li><li><code>watchPosition</code> ï¼šè·Ÿè¸ªç”¨æˆ·ä½ç½®ï¼Œä¸å®šæ—¶è°ƒç”¨ <code>getCurrentPosition</code> æ•ˆæœä¸€æ ·ï¼›</li><li><code>clearWatch</code> ï¼šå–æ¶ˆè·Ÿè¸ªç”¨æˆ·ä½ç½®ï¼›</li></ul><p><strong>File API</strong></p><ul><li>èƒ½å¤Ÿåœ¨æµè§ˆå™¨ç«¯è¯»å–æœ¬åœ°æ–‡ä»¶çš„ä¿¡æ¯(æ–‡ä»¶åç§°ï¼Œç±»å‹ï¼Œå¤§å°ï¼Œä¿®æ”¹æ—¶é—´ï¼Œæ–‡ä»¶å†…å®¹ç­‰)ï¼›</li><li>ä½¿ç”¨ <code>&lt;input type=&quot;file&quot;&gt;</code> å…ƒç´ ï¼Œè¿”å›å¯¹è±¡çš„ <code>files</code> å±æ€§ï¼›</li><li><strong>FileReader ç±»å‹</strong><ul><li><code>var reader = new FileReader()</code> ï¼›</li><li><code>readAsText(file, encoding)</code> ï¼šä»¥çº¯æ–‡æœ¬å½¢å¼è¯»å–æ–‡ä»¶ï¼Œæ•°æ®ä¿å­˜åœ¨ <code>result</code> å±æ€§ä¸­ï¼›</li><li><code>readAsDataURL(file)</code> ï¼šè¯»å–æ–‡ä»¶å¹¶å°†æ–‡ä»¶ä»¥ URI çš„å½¢å¼ä¿å­˜åœ¨ <code>result</code> å±æ€§ä¸­ï¼›</li></ul></li><li><strong>å¯¹è±¡ URL</strong><ul><li>å¼•ç”¨ä¿å­˜åœ¨ <code>File</code> æˆ– <code>Blob</code> ä¸­æ•°æ®çš„ URLï¼›</li><li><code>window.URL.createObjectURL(file)</code> ï¼šè·å– <code>file</code> çš„URLï¼›</li></ul></li></ul><p><strong>Web è®¡æ—¶</strong></p><ul><li><code>window.performance</code> ï¼šè·å–é¡µé¢çš„æ‰€æœ‰åº¦é‡ä¿¡æ¯(å³æ—¶é—´ç›¸å…³ä¿¡æ¯)ï¼›</li></ul><p><strong>Web Workers</strong></p><ul><li><p><strong>JavaScript</strong> æ˜¯å•çº¿ç¨‹çš„ï¼›</p></li><li><p>è®© <strong>JavaScript</strong> åœ¨åå°è¿è¡Œï¼Œç±»ä¼¼å¼€äº†ä¸€ä¸ªåå°çº¿ç¨‹ï¼›</p></li><li><p>æ¥çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> worker = <span class="keyword">new</span> Worker(<span class="string">"stufftodo.js"</span>);</span><br><span class="line"><span class="comment">// è¿™è¡Œä»£ç ä¼šè®©æµè§ˆå™¨ä¸‹è½½jsï¼Œä½†åªæœ‰ workeræ¥æ”¶åˆ°æ¶ˆæ¯æ‰ä¼šæ‰§è¡Œjsä»£ç </span></span><br><span class="line"><span class="comment">// ä½¿ç”¨ postMessage() ç»™ workderå‘é€æ¶ˆæ¯ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–å¯¹è±¡</span></span><br><span class="line">worker.postMessage(<span class="string">"start! "</span>);</span><br><span class="line"><span class="comment">// workerè¿”å›åˆ°æ•°æ®ä¿å­˜åœ¨ event.data ä¸­</span></span><br><span class="line">worker.onmessage = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> data = event.data;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">&#125;;</span><br><span class="line">worker.onerror = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">  </span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// ç«‹å³åœæ­¢ workder åˆ°å·¥ä½œ</span></span><br><span class="line">worker.terminate();</span><br></pre></td></tr></table></figure></li></ul><h2 id="è·³è¿‡çš„ç« èŠ‚"><a href="#è·³è¿‡çš„ç« èŠ‚" class="headerlink" title="è·³è¿‡çš„ç« èŠ‚"></a>è·³è¿‡çš„ç« èŠ‚</h2><p>å…¶ä¸­æœ‰å‡ ç« æ²¡çœ‹è·³è¿‡äº†ï¼Œæœ‰äº›æ˜¯å·²ç»ç†Ÿæ‚‰çš„ï¼Œæœ‰äº›æ˜¯ä¼˜å…ˆçº§ä¸é«˜æš‚æ—¶è·³è¿‡äº†ï¼Œä»¥åæœ‰æ—¶é—´äº†å†è¡¥ä¸Šå§ï½</p><p>è·³è¿‡çš„ç« èŠ‚æœ‰ï¼š</p><ul><li>ç¬¬8ç« ï¼šBOMï¼›</li><li>ç¬¬9ç« ï¼šå®¢æˆ·ç«¯æ£€æµ‹ï¼›</li><li>ç¬¬10ï½12ç« ï¼šDOMï¼›</li><li>ç¬¬13ç« ï¼šäº‹ä»¶ï¼›</li><li>ç¬¬14ç« ï¼šè¡¨å•ï¼›</li><li>ç¬¬15ç« ï¼šCanvasï¼›</li><li>ç¬¬18ç« ï¼šJSä¸XMLï¼›</li><li>ç¬¬19ç« ï¼šE4Xï¼›</li></ul><h2 id="ä¸¥æ ¼æ¨¡å¼"><a href="#ä¸¥æ ¼æ¨¡å¼" class="headerlink" title="ä¸¥æ ¼æ¨¡å¼"></a>ä¸¥æ ¼æ¨¡å¼</h2><p>æœ‰å…³ <code>ä¸¥æ ¼æ¨¡å¼</code> ä¸ <code>éä¸¥æ ¼æ¨¡å¼</code> çš„åŒºåˆ«ï¼Œè¯·çœ‹ä¸‹ç¯‡æ–‡ç« ã€‚</p><p><a href="/2019/06/13/strict-mode">ç‚¹æˆ‘æŸ¥çœ‹</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»ˆäºæŠŠã€ŠJavaScript é«˜çº§ç¨‹åºè®¾è®¡ã€‹çœ‹å®Œ(å‡è£…çœ‹å®Œï¼Œå…¶å®è·³è¿‡äº†å‡ ç«  0.0)äº†ï¼Œé¢‡æœ‰ä¸€äº›å¿ƒå¾—ï¼Œæ€»ç»“ä¸€ä¸‹ã€‚&lt;/p&gt;&lt;p&gt;é¦–å…ˆå°±æ˜¯ï¼Œè¿™æœ¬ä¹¦çš„å†…å®¹ï¼Œå¤§è€Œå…¨ã€‚Jsçš„å„æ–¹é¢éƒ½æœ‰ä»‹ç»ï¼Œå†…å®¹è¯¦ç»†ï¼Œæ¶‰åŠé¢å¹¿ã€‚&lt;/p&gt;&lt;p&gt;å…¶æ¬¡ï¼Œæœ‰äº›å†…å®¹ç›¸å¯¹è¾ƒæ—§äº†ã€‚æ¯•ç«Ÿ &lt;code&gt;ç¬¬ä¸‰ç‰ˆ&lt;/code&gt; æ˜¯2012å¹´3æœˆå‘è¡Œçš„ï¼Œå½“æ—¶ &lt;code&gt;ES6&lt;/code&gt; è¿˜æ²¡å®šç¨¿ï¼Œæ‰€ä»¥è¿™æœ¬ä¹¦åé¢æœ‰äº›å†…å®¹ï¼Œå’Œç°åœ¨ä¼šç¨æœ‰ä¸åŒï¼Œä¸»è¦æ˜¯æœ€åå‡ ç« ã€‚&lt;/p&gt;&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæ˜¯çœ‹å®Œæœ¬ä¹¦åçš„éƒ¨åˆ†æ€»ç»“ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://jian2333.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="webå‰ç«¯" scheme="http://jian2333.github.io/tags/web%E5%89%8D%E7%AB%AF/"/>
    
      <category term="js" scheme="http://jian2333.github.io/tags/js/"/>
    
  </entry>
  
</feed>
