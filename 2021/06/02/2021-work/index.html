<!DOCTYPE html><html class="theme-next pisces" lang="zh-Hans"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="//fonts.loli.net/css?family=Sigmar One:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"><link href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css"><link href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css" rel="stylesheet" type="text/css"><link href="/css/main.css?v=0.0.42" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/header/avatar-2.jpg?v=0.0.42"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=0.0.42"><link rel="mask-icon" href="/images/header/avatar-2.jpg?v=0.0.42" color="#222"><meta name="keywords" content="web前端,vue,js,面试,"><meta name="description" content="基础相关html-css盒模型margin、border、padding、contentbox-sizing: content-box(默认)、border-boxinline: &amp;lt;a&amp;gt;、&amp;lt;span&amp;gt;、&amp;lt;br&amp;gt;、&amp;lt;i&amp;gt;、&amp;lt;em&amp;gt;、&amp;lt;strong&amp;gt;、&amp;lt;label&amp;gt;、&amp;lt;q&amp;gt;、&amp;lt;var&amp;gt;、&amp;lt;"><meta name="keywords" content="web前端,vue,js,面试"><meta property="og:type" content="article"><meta property="og:title" content="2021面试笔记"><meta property="og:url" content="http://jian2333.github.io/2021/06/02/2021-work/index.html"><meta property="og:site_name" content="Hi,Jianww"><meta property="og:description" content="基础相关html-css盒模型margin、border、padding、contentbox-sizing: content-box(默认)、border-boxinline: &amp;lt;a&amp;gt;、&amp;lt;span&amp;gt;、&amp;lt;br&amp;gt;、&amp;lt;i&amp;gt;、&amp;lt;em&amp;gt;、&amp;lt;strong&amp;gt;、&amp;lt;label&amp;gt;、&amp;lt;q&amp;gt;、&amp;lt;var&amp;gt;、&amp;lt;"><meta property="og:locale" content="zh-Hans"><meta property="og:updated_time" content="2021-06-02T03:22:54.663Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="2021面试笔记"><meta name="twitter:description" content="基础相关html-css盒模型margin、border、padding、contentbox-sizing: content-box(默认)、border-boxinline: &amp;lt;a&amp;gt;、&amp;lt;span&amp;gt;、&amp;lt;br&amp;gt;、&amp;lt;i&amp;gt;、&amp;lt;em&amp;gt;、&amp;lt;strong&amp;gt;、&amp;lt;label&amp;gt;、&amp;lt;q&amp;gt;、&amp;lt;var&amp;gt;、&amp;lt;"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Pisces",version:"0.0.42",sidebar:{position:"right",display:"always",offset:52,b2t:!1,scrollpercent:!1,onmobile:!1},fancybox:!1,tabs:!0,motion:{enable:!1,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},since:"7/7/2017 11:30:00",onlineAPI:"",site:{title:"Hi,Jianww",subtitle:"",author:"Jianww"},duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},leancloud:{enable:!0,appID:"qo8CRfEEmihHu03bD3HWUTFa-gzGzoHsz",appKey:"WTiuQmcTAY1pN7pr7nMuIIkK"},favicon:{visibilitychange:!0,narmal:"/images/favicon.ico",hidden:"/images/failure.ico",show_text:"(/≧▽≦/)咦！又好了！",hide_text:"(●—●)喔哟，崩溃啦！"}}</script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/disqusjs@1.2.2/dist/disqus.js"></script><title>2021面试笔记 | Hi,Jianww</title><script>!function(e,a,t,n,g,c,o){e.GoogleAnalyticsObject=g,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),o=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",o.parentNode.insertBefore(c,o)}(window,document,"script",0,"ga"),ga("create","UA-140893760-1","auto"),ga("send","pageview")</script></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans" class="theme-darling"><div class="container sidebar-position-right page-post-detail"><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-rocket"></i><br>关于</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li><li class="menu-item search"><form class="search-form"><input name="keyword" type="text" class="search-input" placeholder="站内搜索"> <button type="submit" class="search-submit"><i class="fa fa-search"></i></button></form></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i> </span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"><input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav><div class="site-brand-wrapper" style="background-image:url(/images/header/bg-1.jpg)"><div class="site-meta"><div class="custom-logo-site-title"><div class="brand"><span class="logo-line-before"><i></i></span><div class="site-title"><div id="animate" class="animate"><span>H</span><span>i</span><span>,</span><span>J</span><span>i</span><span>a</span><span>n</span><span>w</span><span>w</span></div><div id="guide" class="guide"><span>H</span><span>i</span><span>,</span><span>J</span><span>i</span><span>a</span><span>n</span><span>w</span><span>w</span></div></div><span class="logo-line-after"><i></i></span></div></div><p class="site-subtitle"></p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><div class="site-master" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-master-avatar" itemprop="image" src="/images/header/avatar-2.jpg" alt="Jianww"><h2 class="site-master-description" itemprop="description"><span>Coding一时爽，</span><span>一直Coding一直爽！</span></h2></div></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-date"><div class="post-month">06月</div><div class="post-day">02</div></div><div class="post-badge"><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/学习笔记/" itemprop="url" rel="index"><span itemprop="name">学习笔记</span></a></span></div><div class="post-block"><link itemprop="mainEntityOfPage" href="http://jian2333.github.io/2021/06/02/2021-work/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Jianww"><meta itemprop="description" content><meta itemprop="image" content="/images/header/avatar-2.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Hi,Jianww"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">2021面试笔记</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-06-02T10:55:49+08:00">2021-06-02</time> </span><span class="post-wordcount"><span class="post-meta-divider">•</span> <span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">字数统计</span> <span title="字数统计">9202</span> </span><span id="/2021/06/02/2021-work/" class="leancloud_visitors" data-flag-title="2021面试笔记"><span class="post-meta-divider">•</span> <span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数</span> <span class="leancloud-visitors-count"></span></span></div></header><div class="post-body" itemprop="articleBody"><h2 id="基础相关"><a href="#基础相关" class="headerlink" title="基础相关"></a>基础相关</h2><h3 id="html"><a href="#html" class="headerlink" title="html"></a>html</h3><p>-</p><h3 id="css"><a href="#css" class="headerlink" title="css"></a>css</h3><h4 id="盒模型"><a href="#盒模型" class="headerlink" title="盒模型"></a>盒模型</h4><ul><li><code>margin</code>、<code>border</code>、<code>padding</code>、<code>content</code></li><li><code>box-sizing</code>: <code>content-box(默认)</code>、<code>border-box</code></li><li><code>inline</code>: <code>&lt;a&gt;、&lt;span&gt;、&lt;br&gt;、&lt;i&gt;、&lt;em&gt;、&lt;strong&gt;、&lt;label&gt;、&lt;q&gt;、&lt;var&gt;、&lt;cite&gt;、&lt;code&gt;</code></li><li><code>block</code>: <code>&lt;div&gt;、&lt;p&gt;、&lt;h1&gt;-&lt;h6&gt;、&lt;ol&gt;、&lt;ul&gt;、&lt;dl&gt;、&lt;table&gt;、&lt;address&gt;、&lt;blockquote&gt; 、&lt;form&gt;</code></li><li><code>inline-block</code>: <code>image</code>、<code>input</code></li></ul><h4 id="居中"><a href="#居中" class="headerlink" title="居中"></a>居中</h4><a id="more"></a><ul><li><p>水平：</p><ul><li><p>内联：<code>text-align: center</code></p></li><li><p>块元素：</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// transform</span></span><br><span class="line"><span class="selector-class">.son</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: - <span class="number">1</span>/<span class="number">2</span> width; <span class="comment">// 或者</span></span><br><span class="line">  <span class="attribute">transform</span>: translateY(-<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// flex</span></span><br><span class="line"><span class="selector-class">.father</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 常规</span></span><br><span class="line"><span class="selector-class">.son</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: auto</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><ul><li><p>垂直</p><ul><li><p>内联：<code>line-height: height</code></p></li><li><p>块元素：</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// transform</span></span><br><span class="line"><span class="selector-class">.son</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: - <span class="number">1</span>/<span class="number">2</span> height; <span class="comment">// 或者</span></span><br><span class="line">  <span class="attribute">transform</span>: translateY(-<span class="number">50%</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// flex</span></span><br><span class="line"><span class="selector-class">.father</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-item</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 常规，同上</span></span><br><span class="line"><span class="selector-class">.son</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: auto</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><ul><li>完全：</li></ul><h4 id="flex"><a href="#flex" class="headerlink" title="flex"></a>flex</h4><ul><li>flex-direction: row, row-reserve, column, column-reserve</li><li>flex-wrap: wrap, no-wrap, wrap-reserve</li><li>flex-flow: flex-direction + flex-wrap 组合</li><li>justify-content: flex-start, flex-end, center, space-between, space-around</li><li>align-content: stretch, flex-start, flex-end, center, space-between, space-around</li><li>align-items: stretch, flex-start, flex-end, center, baseline</li><li>align-self: auto, stretch, flex-start, flex-end, center, baseline</li></ul><h4 id="grid"><a href="#grid" class="headerlink" title="grid"></a>grid</h4><ul><li>display: grid | inline-grid</li><li>grid-template-column, grid-template-row, grid-auto-column, grid-auto-row<ul><li>repeat, auto-fill / auto-fit, fr, minmax(), auto, 网格线的名字</li><li>auto-fill: 完全填充时一样。不完全填充时，保留 <strong>原宽度不变</strong></li><li>auto-fit: 完全填充时一样。不完全填充时，会 <strong>拉伸原宽度至填充满</strong></li></ul></li><li>grid-template-area: 区域，后面定位用</li><li>grid-row-gap, grid-column-gap, grid-gap(row | column)</li><li>grid-auto-flow: row, row dense, column, column dense</li><li>位置<ul><li>容器，整体位置：<ul><li>justify-content, align-content, place-content(align | justify)</li><li>start, end, center, stretch, space-around, space-between, space-evenly(等间距)</li></ul></li><li>容器，每个项目内元素位置<ul><li>justify-items, align-items, place-items, place-items(align | justify)</li><li>start, end, center, stretch</li></ul></li><li>项目，每个项目内元素位置<ul><li>justify-self, align-self, place-self(align | justify)</li><li>start, end, center, stretch</li></ul></li></ul></li><li><p>合并</p><ul><li>grid-column-start, grid-column-end, grid-row-start, grid-row-end</li><li><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column-start</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">grid-column-end</span>: <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 等效于</span></span><br><span class="line"><span class="selector-class">.item-2</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column-start</span>: span <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line"><span class="selector-class">.item-3</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column-end</span>: span <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>grid-column: grid-column-start / grid-column-end</p></li><li><p>grid-row: grid-row-start / grid-row-end</p><ul><li>对于 <code>xx-end</code> 也可用 <code>span</code> 表示跨越</li><li><code>/</code> 后可省略，默认跨越1格</li><li><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column</span>: <span class="number">1</span> / <span class="number">3</span>;</span><br><span class="line">  <span class="comment">// grid-column: 1 e("/") 3;</span></span><br><span class="line">  <span class="comment">// calc(~'50% - @&#123;bg&#125; - 10px')</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 等效于</span></span><br><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column-start</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">grid-column-end</span>: <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column</span>: <span class="number">1</span> / span <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>grid-area: 区域定位</p><ul><li><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  <span class="attribute">grid-area</span>: e;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 等效于 </span></span><br><span class="line"><span class="selector-class">.item-2</span> &#123;</span><br><span class="line">  <span class="attribute">grid-area</span>: <span class="number">2</span> / <span class="number">2</span> / <span class="number">3</span> / <span class="number">3</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>使用 <code>grid-template-area</code> 的定位</p></li><li>或者等效于 <code>grid-area: grid-row-start / grid-column-start / grid-row-end / grid-column-end</code></li></ul></li></ul></li></ul><h4 id="伪元素"><a href="#伪元素" class="headerlink" title="伪元素"></a>伪元素</h4><ul><li>链接相关：link, visited, hover, active</li><li>常用：<ul><li>first-child</li><li>nth-child, nth-of-type, nth-col(odd: 奇数， even: 偶数)</li><li>focus, not, has, root</li></ul></li><li>before, after: 创建一个已选中元素的第x个<strong>子</strong>元素</li></ul><h4 id="穿透"><a href="#穿透" class="headerlink" title="穿透"></a>穿透</h4><ul><li>穿透父级/高优先级样式</li><li>/deep/</li><li>>&gt;&gt;</li></ul><h4 id="优先级"><a href="#优先级" class="headerlink" title="优先级"></a>优先级</h4><ul><li>7大优先级，</li><li>内联<code>style</code>、id选择器、属性选择器、类选择器、伪类选择器、元素选择器、通用选择器(*)</li><li>权重计算：<ul><li>1000、100、10*3、1*2</li><li>不能跨层级</li></ul></li></ul><h4 id="background"><a href="#background" class="headerlink" title="background"></a>background</h4><ul><li>color:</li><li>image: url(‘xxx’)</li><li>position: top, right bottom left center</li><li>repeat: repeat, repeat-x, repeat-y, no-repeat</li><li>attachment:<ul><li>local: 相对 元素内容 固定，会在子窗口中随滚动条滚动</li><li>scroll: 相对 元素 固定，不会在子窗口中随滚动条滚动</li></ul></li><li>size: 固定值，百分比，cover, contain</li><li>合并写法：url position / size repeat attachment color</li><li>高级用法： <strong>linear-gradient: 渐变</strong></li></ul><h4 id="position"><a href="#position" class="headerlink" title="position"></a>position</h4><ul><li>static, fixed, relative, absolute,</li><li>sticky: 粘性定位，相对定位和固定定位的混合。在跨越特定阈值前为相对定位，之后为固定定位。需指定 <code>top</code>、<code>right</code>、<code>bottom</code>、<code>left</code> 4个值其中1个。</li></ul><h3 id="js"><a href="#js" class="headerlink" title="js"></a>js</h3><h4 id="基础类型"><a href="#基础类型" class="headerlink" title="基础类型"></a>基础类型</h4><ul><li>值类型：<code>String</code>、<code>Number</code>、<code>Null</code>、<code>Undefined</code>、<code>Boolean</code><ul><li>保存在 <code>栈</code> 中</li></ul></li><li>引用类型：<code>Object</code>、<code>Array</code>、<code>Date</code>、<code>Function</code><ul><li>变量名保存在 <code>栈</code> 中，变量值保存在 <code>堆</code> 中</li></ul></li></ul><h4 id="原型-原型链"><a href="#原型-原型链" class="headerlink" title="原型/原型链"></a>原型/原型链</h4><ul><li><p><a href="https://juejin.cn/post/6844904093828251662#heading-12" target="_blank" rel="noopener">原型详解</a></p></li><li><p>箭头函数不能用来继承，因为没有 <code>prototype</code> 属性</p></li><li><p><strong>原型</strong></p><ul><li>原型，又叫原型对象，指构造函数的 <code>prototype</code>， 比如 <code>Father.prototype</code></li><li>原型的作用就是共享方法，<code>Father.prototype.method</code> 上的方法，可以被共享</li><li>原型中的 <code>this</code> 指向实例</li></ul></li><li><p><strong>原型链</strong></p><ul><li><p>原型与原型之间相链接的过程即为 <strong>原型链</strong></p></li><li><p><strong>实例的 <code>__proto__</code> 指向的是构造函数的 <code>protoType</code> 原型对象</strong>: <code>console(obj.__proto__ === Star.prototype) // true</code></p></li><li><p>原型查找方式</p><ol><li>查找obj实例上是否有 <code>dance</code> 方式： <code>this.dance = function(){}</code></li><li>查找Star构造函数 原型对象 <code>prototype</code> 上是否有 <code>dance</code> 方法：<code>Star.prototype.dance = xxx</code></li><li>查找Object原型对象 <code>prototype</code> 上是否有 <code>dance</code> 方法：<code>Object.prototype.dance = xxx</code></li><li>还没找到，就报错</li></ol></li><li><p>原型构造器</p><ul><li><p>原型的构造器指向构造函数</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(Star.prototype.constructor === Star) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.__proto__.constructor === Star) <span class="comment">// true</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p><code>Star.prototype = {}</code> 会丢失构造器，所以一般用 <code>Star.prototype.xxx = function() {}</code></p></li></ul></li></ul></li><li><p><strong>继承</strong></p><ul><li><p><code>call</code> 只可以继承 <strong>属性</strong>，要继承 <strong>函数</strong> 的话，需要使用 <strong>原型链继承</strong></p></li><li><p>方法一：利用 <code>Son.prototype = Father.prototype</code> 改变原型指向，但子类增加原型方法，也会影响到父类</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Father</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name</span><br><span class="line">&#125;</span><br><span class="line">Father.prototype.dance = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;..&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  Father.call(<span class="keyword">this</span>, name)</span><br><span class="line">  <span class="keyword">this</span>.age = age</span><br><span class="line">&#125;</span><br><span class="line">Son.prototype = Father.prototype</span><br><span class="line"><span class="comment">// 为子类添加方法</span></span><br><span class="line">Son.prototype.sing = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;...&#125;</span><br><span class="line"><span class="keyword">let</span> son = <span class="keyword">new</span> Son(<span class="string">'xiaohong'</span>, <span class="number">18</span>)</span><br><span class="line"><span class="comment">// 此时父类也被影响了</span></span><br><span class="line"><span class="built_in">console</span>.log(Father.prototype) <span class="comment">// &#123;dance: f, sing: f, constructor: f&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(Father) <span class="comment">// f Father(name) &#123;&#125;</span></span><br></pre></td></tr></table></figure></li><li><p>方法二：子类的原型指向父类的实例 <code>Son.prototype = new Father()</code>， 这样就可以顺着原型链继承父类的方法了。并且子类添加原型方法的时候，不会影响父类</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Father</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name</span><br><span class="line">&#125;</span><br><span class="line">Father.prototype.dance = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;...&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  Father.call(<span class="keyword">this</span>, name)</span><br><span class="line">  <span class="keyword">this</span>.age = age</span><br><span class="line">&#125;</span><br><span class="line">Son.prototype = <span class="keyword">new</span> Father()</span><br><span class="line">Son.prototype.sing = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;...&#125;</span><br><span class="line"><span class="keyword">let</span> son = <span class="keyword">new</span> Son(<span class="string">'xiaoming'</span>, <span class="number">20</span>)</span><br><span class="line"><span class="comment">// 此时父类不受影响</span></span><br><span class="line"><span class="built_in">console</span>.log(Father.prototype) <span class="comment">// &#123;dance: f, constructor: f&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(Son.prototype) <span class="comment">// Father实例 &#123;name: undefined, sing: f, __proto__: &#123; dance: f, constructor: f &#125;&#125;</span></span><br></pre></td></tr></table></figure></li><li><p>继承的写法</p><ul><li><p><strong>ES5写法</strong>：上面的原型链写法</p></li><li><p><strong>ES6写法</strong>： 类写法</p></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Father</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name</span><br><span class="line">  &#125;</span><br><span class="line">  dance() &#123;...&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son</span> <span class="keyword">extends</span> <span class="title">Father</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name, age) &#123;</span><br><span class="line">    <span class="keyword">super</span>(name)</span><br><span class="line">    <span class="keyword">this</span>.age = age</span><br><span class="line">  &#125;</span><br><span class="line">  sing() &#123;...&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj = <span class="keyword">new</span> Son(<span class="string">'xiaohong'</span>, <span class="number">18</span>)</span><br><span class="line"><span class="built_in">console</span>.log(Father.prototype) <span class="comment">// &#123;dance: f, constructor: f&#125;</span></span><br></pre></td></tr></table></figure></li></ul></li></ul></li></ul><h4 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h4><ul><li>String: slice, toUpperCase, toLowerCase, indexOf, startsWith, endsWith,padStart, padEnd</li><li>Array: find, filter, map, includes, flat, reduce, slice, splice, concat<ul><li>reduce: (reducer, initialValue)</li><li>reducer: (accumulator, currentValue, index, array)</li></ul></li><li>非变异方法(不改变现有数组): filter, slice, concat</li><li>Object: keys, hasOwnproperty, values</li><li>Map, Set: has, set, get, delete, entites</li></ul><h4 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h4><ul><li><p>^$</p></li><li><p>*+?</p></li><li><p>{n, m}</p></li><li><p>[^xyz]</p></li><li><p>非贪婪匹配(?): (.*)(&amp;arr=(.))</p></li><li><p>举例： 匹配url字符串</p><ul><li><p>方法一：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getValue</span> (<span class="params">key</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 规则 ?|&amp;key=value|&amp;|$, 也就是 /(\?|&amp;)$&#123;key&#125;=([^&amp;]*)(&amp;|$)/</span></span><br><span class="line">  <span class="comment">// (\?|&amp;): 以?或&amp; 开头</span></span><br><span class="line">  <span class="comment">// ([^&amp;]*): 匹配非&amp;字符，贪婪匹配</span></span><br><span class="line">  <span class="comment">// (&amp;|$): 以&amp;或最后字符结尾</span></span><br><span class="line">  <span class="keyword">let</span> url = <span class="built_in">decodeURI</span>(<span class="built_in">window</span>.location.href)</span><br><span class="line">  <span class="keyword">let</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">`(\\?|&amp;)<span class="subst">$&#123;key&#125;</span>=([^&amp;]*)(&amp;|$)`</span>, <span class="string">'i'</span>)</span><br><span class="line">  <span class="keyword">let</span> res = url.match(reg)</span><br><span class="line">  <span class="keyword">return</span> (res &amp;&amp; res.length &gt; <span class="number">2</span>) ? res[<span class="number">2</span>] : <span class="string">''</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>方法二：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> qs <span class="keyword">from</span> <span class="string">'qs'</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getValue2</span> (<span class="params">key</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> search = <span class="built_in">window</span>.location.href.split(<span class="string">'?'</span>)[<span class="number">1</span>]</span><br><span class="line">  <span class="keyword">let</span> params = qs.parse(search)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'params'</span>, params, params[key])</span><br><span class="line">  <span class="keyword">return</span> params[key]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li></ul></li></ul><h4 id="this"><a href="#this" class="headerlink" title="this"></a>this</h4><ul><li>普通函数<ul><li>普通函数调用: 全局windows</li><li>作为对象的函数调用：上级对象</li><li>作为构造函数调用：new 出来的对象</li><li>call、apply: 传入的上下文</li></ul></li><li>箭头函数<ul><li>没有绑定this，它的this取决于该函数外部非箭头函数的this值</li></ul></li><li><code>setTimeout, setInterval</code><ul><li>普通函数：指向windows</li><li>箭头函数：指向外层对象obj</li></ul></li></ul><h4 id="bind-call-apply"><a href="#bind-call-apply" class="headerlink" title="bind,call,apply"></a>bind,call,apply</h4><ul><li><p>都是改变执行的上下文，也就是 <code>this</code> 的指向</p></li><li><p>call, apply: 立即执行</p><ul><li>call: pa1, pa2, pa3, …</li><li>apply: [pa1, pa2, pa3, …]</li></ul></li><li><p>bind: 只是生成一个新函数，在调用时才执行</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="literal">null</span>);  <span class="comment">//  "[object Null]"</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call([]);  <span class="comment">//  "[object Array]"</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(&#123;&#125;);  <span class="comment">//  "[object Object]"</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="number">123</span>);  <span class="comment">//  "[object Number]"</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="string">'123'</span>);  <span class="comment">//  "[object String]"</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="literal">false</span>);  <span class="comment">//  "[object Boolean]"</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="literal">undefined</span>);  <span class="comment">//  "[object Undefined]"</span></span><br><span class="line"><span class="comment">// 优化</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call([]).slice(<span class="number">8</span>, <span class="number">-1</span>); <span class="comment">// Array</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="promise、async、await"><a href="#promise、async、await" class="headerlink" title="promise、async、await"></a>promise、async、await</h4><ul><li>promise:<ul><li>new Promise, Promise.resolve, Promise.reject</li><li>then, catch</li><li>all: 全成功或1个失败，then/catch, 并行</li><li>race: 1个成功或失败，then/catch, 并行</li><li>allSettled: 全部成功或失败，then, [{status: ‘fulfilled’, value: ‘’}, {status: ‘rejected’, reason: ‘’}]</li></ul></li><li>async:<ul><li>返回 promise</li></ul></li><li>await:<ul><li>async 内部才能使用</li><li>await 默认只能链式成功的promise，除非加 <code>.catch</code></li><li><code>for</code>、<code>for of</code> 内会按顺序执行，其他有回调循环的循环(<code>forEach</code>、<code>filter</code>、<code>map</code>、<code>reduce</code>)不会按顺序</li></ul></li></ul><h4 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h4><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">axios.carete(&#123;</span><br><span class="line">  baseURL: <span class="string">''</span>,</span><br><span class="line">  timeout: <span class="number">30000</span>,</span><br><span class="line">  token: <span class="string">''</span>,</span><br><span class="line">  headers: &#123;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">axios.interceptors.request.use(<span class="function"><span class="params">request</span> =&gt;</span> &#123;</span><br><span class="line">  </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">axios.interceptors.response.use(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">	<span class="comment">// response.data, code</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>添加请求参数</p><ul><li><code>get</code>: axios.get(url, { params: {aa: 1, bb: 2} })</li><li><code>post</code>: axios.post(url, { aa: 1, bb: 2 })</li></ul></li><li><p>防止多次请求</p><ul><li><p>使用axiom.cancelToken = new Axios.CancelToken(function executor(cancel){ // 执行cancel })</p></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// request interceptor</span></span><br><span class="line">service.interceptors.request.use(</span><br><span class="line">  (config) =&gt; &#123;</span><br><span class="line">    removePending(config, <span class="string">"请求前触发"</span>);</span><br><span class="line">    addPending(config);</span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">  &#125;,</span><br><span class="line">  (error) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> pendings = &#123;&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 添加请求</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> addPending = <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; method, url, params, data &#125; = config;</span><br><span class="line">  <span class="keyword">const</span> id = [method, url, <span class="built_in">JSON</span>.stringify(params), <span class="built_in">JSON</span>.stringify(data)].join(<span class="string">'&amp;'</span>);</span><br><span class="line">  config.cancelToken = <span class="keyword">new</span> Axios.CancelToken(<span class="function"><span class="keyword">function</span> <span class="title">executor</span>(<span class="params">cancel</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!pendings[id]) &#123;</span><br><span class="line">      pendings[id] = cancel</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> config;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 移除请求</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> removePending = <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (!<span class="built_in">Object</span>.keys(pendings).length) &#123;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// console.log(who, pendings, '取消前')</span></span><br><span class="line">  <span class="keyword">let</span> &#123; method, url, params, data &#125; = config;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    data = <span class="built_in">JSON</span>.parse(data)</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="comment">// data</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> id = [method, url, <span class="built_in">JSON</span>.stringify(params), <span class="built_in">JSON</span>.stringify(data)].join(<span class="string">'&amp;'</span>);</span><br><span class="line">  <span class="keyword">const</span> cancel = pendings[id];</span><br><span class="line">  <span class="keyword">if</span> (cancel &amp;&amp; <span class="keyword">typeof</span> cancel === <span class="string">'function'</span>) &#123;</span><br><span class="line">    cancel();</span><br><span class="line">    <span class="keyword">delete</span> pendings[id]</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// console.log(who, pendings, '取消后')</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 清空所有pending请求</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> clearPending = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">Object</span>.keys(pendings).forEach(<span class="function"><span class="params">c</span> =&gt;</span> pendings[c]());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li></li></ul></li></ul><h4 id="防抖和节流"><a href="#防抖和节流" class="headerlink" title="防抖和节流"></a>防抖和节流</h4><ul><li><p>防抖：执行高频函数n秒后才执行x函数，如果期间执行n，重新计时并结束后再执行x</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 1. 函数防抖</span></span><br><span class="line"><span class="comment">* 执行高频函数x秒后才执行n函数</span></span><br><span class="line"><span class="comment">* 场景：dom更新，onresize，input下拉框</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timeout = <span class="literal">null</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    clearTimeout(timeout)</span><br><span class="line">    timeout = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      fn.call(<span class="keyword">this</span>, <span class="built_in">arguments</span>)</span><br><span class="line">    &#125;, <span class="number">300</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'say hi'</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> inp = <span class="built_in">document</span>.getElementById(<span class="string">'inp'</span>)</span><br><span class="line">inp.addEventListener(<span class="string">'input'</span>, debounce(sayHi))</span><br></pre></td></tr></table></figure></li><li><p>节流：n秒内只执行一次x函数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 2. 函数节流</span></span><br><span class="line"><span class="comment">* x秒内只执行一次n函数</span></span><br><span class="line"><span class="comment">* 场景：api请求</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> canRun = <span class="literal">true</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!canRun) &#123;</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    canRun = <span class="literal">false</span></span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      fn.call(<span class="keyword">this</span>, <span class="built_in">arguments</span>)</span><br><span class="line">      canRun = <span class="literal">true</span></span><br><span class="line">    &#125;, <span class="number">300</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayH</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(e.target.innerWidth, e.target.innerHeight)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'resize'</span>, throttle(sayH))</span><br></pre></td></tr></table></figure></li></ul><h4 id="defer、async"><a href="#defer、async" class="headerlink" title="defer、async"></a>defer、async</h4><ul><li>defer: 异步下载，最后执行</li><li>async: 异步下载，下载完执行</li></ul><h4 id="捕获-冒泡"><a href="#捕获-冒泡" class="headerlink" title="捕获/冒泡"></a>捕获/冒泡</h4><ul><li><p>事件有3个阶段：<code>事件捕获阶段</code>、<code>事件目标阶段</code>、<code>事件冒泡阶段</code></p></li><li><p>事件捕获阶段：父 –&gt; 子</p></li><li><p>事件目标阶段：按js添加顺序执行</p></li><li><p>事件冒泡阶段：子 –&gt; 父</p></li><li><p><a href="https://segmentfault.com/q/1010000004542336" target="_blank" rel="noopener">https://segmentfault.com/q/1010000004542336</a></p></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</span><br><span class="line"><span class="keyword">var</span> div2 = <span class="built_in">document</span>.getElementById(<span class="string">"div2"</span>);</span><br><span class="line"><span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn1"</span>);</span><br><span class="line"></span><br><span class="line">div1.addEventListener(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span> (<span class="params"> event </span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"div1,false"</span>);</span><br><span class="line">&#125;,<span class="literal">false</span>)</span><br><span class="line">div2.addEventListener(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span> (<span class="params"> event </span>) </span>&#123;                </span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"div2,false"</span>);</span><br><span class="line">&#125;,<span class="literal">false</span>)</span><br><span class="line">btn.addEventListener(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span> (<span class="params"> event </span>) </span>&#123;                </span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"btn,false"</span>);</span><br><span class="line">&#125;,<span class="literal">false</span>)</span><br><span class="line">div1.addEventListener(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span> (<span class="params"> event </span>) </span>&#123;                </span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"div1,true"</span>);</span><br><span class="line">&#125;,<span class="literal">true</span>)</span><br><span class="line">div2.addEventListener(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span> (<span class="params"> event </span>) </span>&#123;                </span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"div2,true"</span>);</span><br><span class="line">&#125;,<span class="literal">true</span>)</span><br><span class="line">btn.addEventListener(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span> (<span class="params"> event </span>) </span>&#123;                </span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"btn,true"</span>);</span><br><span class="line">&#125;,<span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 结果</span></span><br><span class="line"><span class="comment">// div1,true</span></span><br><span class="line"><span class="comment">// div2,true</span></span><br><span class="line"><span class="comment">// btn,false  这里</span></span><br><span class="line"><span class="comment">// btn,true</span></span><br><span class="line"><span class="comment">// div2,false</span></span><br><span class="line"><span class="comment">// div1,false</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="ES6"><a href="#ES6" class="headerlink" title="ES6+"></a>ES6+</h4><h2 id="进阶1-技能方向"><a href="#进阶1-技能方向" class="headerlink" title="进阶1(技能方向)"></a>进阶1(技能方向)</h2><h3 id="git"><a href="#git" class="headerlink" title="git"></a>git</h3><h4 id="基础命令"><a href="#基础命令" class="headerlink" title="基础命令"></a>基础命令</h4><ul><li>git add, git commit, git branch, git checkout, git checkout -b, git pull, git push, git clone</li></ul><h4 id="git-flows"><a href="#git-flows" class="headerlink" title="git flows"></a>git flows</h4><ul><li>master, env-release, env-test, env-dev, feat-xx, hot-fix</li><li>feat: feat -&gt; dev -&gt; test -&gt; master</li><li>hotfix: hotfix -&gt; dev, hotfix -&gt; test, hotfix -&gt; master</li></ul><h4 id="变基-rebase-与合并"><a href="#变基-rebase-与合并" class="headerlink" title="变基(rebase)与合并"></a>变基(rebase)与合并</h4><ul><li>变基都要在 <code>push</code> 前</li><li>交互式变基：优化log提交记录。合并、修改log、调整顺序</li><li>普通变基：<ul><li>把A合并到B，代码上等效于，把B变基到A</li><li>代码层面相同，log不一样</li></ul></li></ul><h4 id="遴选-cherry-pick"><a href="#遴选-cherry-pick" class="headerlink" title="遴选(cherry-pick)"></a>遴选(cherry-pick)</h4><ul><li>把某一条提交记录，合并到分支A</li></ul><h4 id="贮藏-stash"><a href="#贮藏-stash" class="headerlink" title="贮藏(stash)"></a>贮藏(stash)</h4><ul><li>把当前修改临时存储起来，需要的时候应用</li><li>修改文件直接贮藏，新增文件要 <code>git add</code> 后在贮藏</li></ul><h4 id="patch"><a href="#patch" class="headerlink" title="patch"></a>patch</h4><ul><li>打补丁，类似遴选</li></ul><h3 id="vue-2-全家桶-重点"><a href="#vue-2-全家桶-重点" class="headerlink" title="vue 2 全家桶(重点)"></a>vue 2 全家桶(重点)</h3><h4 id="原理"><a href="#原理" class="headerlink" title="原理"></a><a href="https://yuchengkai.cn/docs/frontend/framework.html#%E6%95%B0%E6%8D%AE%E5%8A%AB%E6%8C%81" target="_blank" rel="noopener">原理</a></h4><ul><li><p>遍历 <code>data</code> 对象，通过 <code>Object.defineProperty</code> 添加 <code>getter</code> 和 <code>setter</code> 方法。</p><ul><li>并 <code>发布订阅和通知</code></li><li><code>getter</code>: 添加订阅 <code>addSub</code></li><li><code>setter</code>: 触发通知 <code>notify</code></li></ul></li><li><p>实例化订阅 <code>Watcher</code>，实例化时触发 <code>getter</code> 订阅。</p></li><li><p>修改触发 <code>setter</code> 时，通知 <code>DOM</code> 修改模板</p></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// getter 与 setter</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">observe</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!data || <span class="keyword">typeof</span> data !== <span class="string">'object'</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">Object</span>.keys(data).forEach(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">    defineReactive(data, key, data[key])</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">defineReactive</span> (<span class="params">obj, key, value</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 递归子属性</span></span><br><span class="line">  observe(value)</span><br><span class="line">  <span class="keyword">let</span> dp = <span class="keyword">new</span> Dep()</span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(obj, key, &#123;</span><br><span class="line">    enumerable: <span class="literal">true</span>,</span><br><span class="line">    configurable: <span class="literal">true</span>,</span><br><span class="line">    <span class="keyword">get</span>: function reactiveGetter () &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'get: '</span>, value)</span><br><span class="line">      <span class="comment">// 添加订阅: Dep.target的this指向的是dp实例</span></span><br><span class="line">      <span class="keyword">if</span> (Dep.target) &#123;</span><br><span class="line">        dp.addSub(Dep.target)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> value</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span>: function reactiveSetter (newValue) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'set: '</span>, newValue)</span><br><span class="line">      value = newValue</span><br><span class="line">      <span class="comment">// 执行通知</span></span><br><span class="line">      dp.notify()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dep</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span> () &#123;</span><br><span class="line">    <span class="keyword">this</span>.subs = []</span><br><span class="line">  &#125;</span><br><span class="line">  addSub (sub) &#123;</span><br><span class="line">    <span class="keyword">this</span>.subs.push(sub)</span><br><span class="line">  &#125;</span><br><span class="line">  notify () &#123;</span><br><span class="line">    <span class="keyword">this</span>.subs.forEach(<span class="function"><span class="params">sub</span> =&gt;</span> &#123;</span><br><span class="line">      sub.update()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">Dep.target = <span class="literal">null</span> <span class="comment">// 全局属性</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">updateDiv</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'div'</span>).innerText = value</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Watcher</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span> (obj, key, cb) &#123;</span><br><span class="line">    <span class="comment">// 手动触发getter，添加「订阅」</span></span><br><span class="line">    Dep.target = <span class="keyword">this</span></span><br><span class="line">    <span class="keyword">this</span>.obj = obj</span><br><span class="line">    <span class="keyword">this</span>.key = key</span><br><span class="line">    <span class="keyword">this</span>.value = obj[key]</span><br><span class="line">    <span class="keyword">this</span>.cb = cb</span><br><span class="line">    Dep.target = <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line">  update () &#123;</span><br><span class="line">    <span class="comment">// 获取新值</span></span><br><span class="line">    <span class="keyword">this</span>.value = <span class="keyword">this</span>.obj[<span class="keyword">this</span>.key]</span><br><span class="line">    <span class="comment">// 更新DOM</span></span><br><span class="line">    <span class="keyword">this</span>.cb(<span class="keyword">this</span>.value)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ---------------------------- 调 用 ----------------------------</span></span><br><span class="line"><span class="keyword">let</span> data = &#123; <span class="attr">name</span>: <span class="string">'yy'</span> &#125;</span><br><span class="line">observe(data)</span><br><span class="line"><span class="comment">// 模拟解析到 `&#123;&#123;name&#125;&#125;` 触发的操作; 手动触发「订阅」</span></span><br><span class="line"><span class="keyword">new</span> Watcher(data, <span class="string">'name'</span>, updateDiv)</span><br><span class="line"><span class="comment">// 更新DOM</span></span><br><span class="line">data.name = <span class="string">'zz'</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="new-Vue-过程"><a href="#new-Vue-过程" class="headerlink" title="new Vue 过程"></a><a href="https://www.cnblogs.com/gerry2019/p/12001661.html" target="_blank" rel="noopener">new Vue 过程</a></h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Vue.prototype._init = <span class="function"><span class="keyword">function</span>(<span class="params">options</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// mergeOptions 实例化属性合并，包含extends/mixins属性</span></span><br><span class="line">  initLifecycle(vm) <span class="comment">// 初始化组件生命周期标志符</span></span><br><span class="line">  initEvents(vm) <span class="comment">// 初始化组件事件系统</span></span><br><span class="line">  initRender(vm) <span class="comment">// 初始化组件render相关属性方法($createElement, $attrs, $listeners)</span></span><br><span class="line">  callHook(vm, <span class="string">'beforeCreate'</span>) <span class="comment">// 拿不到 props data, 调用beforeCreate</span></span><br><span class="line">  initInjections(vm) <span class="comment">// 初始化组件依赖注入内容</span></span><br><span class="line">  initState(vm) <span class="comment">// 初始化state(data, props, methods, watch, computed)</span></span><br><span class="line">  initProvide(vm)</span><br><span class="line">  callHook(vm, <span class="string">'created'</span>) <span class="comment">//调用created</span></span><br><span class="line">  <span class="comment">// 挂载template模板</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Vue-虚拟DOM"><a href="#Vue-虚拟DOM" class="headerlink" title="Vue 虚拟DOM"></a><a href="https://yuchengkai.cn/docs/frontend/framework.html#virtual-dom" target="_blank" rel="noopener">Vue 虚拟DOM</a></h4><p>操作 <code>DOM</code> 耗费性能太大，改用虚拟 <code>DOM</code></p><ol><li>js 创建虚拟 <code>dom对象</code></li><li>判断差异 <code>diff</code> 算法<ol><li>树的递归，广度优先</li><li>判断列表差异<ol><li>判断属性的更改</li><li>遍历子元素打标识</li></ol></li></ol></li><li>渲染差异</li></ol><h4 id="vue-基础"><a href="#vue-基础" class="headerlink" title="vue 基础"></a>vue 基础</h4><h5 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h5><ul><li>beforeCreate: <code>vue</code> 实例的挂载元素 <code>$el</code> 和数据对象 <code>data</code> 都是 <code>undefined</code>，还未初始化</li><li>created: 完成了 <code>data</code> 的初始化，<code>$el</code> 还未初始化</li><li>beforeMount: <code>vue</code> 实例的 <code>$el</code> 和 <code>data</code> 都初始化了，相关的 <code>render</code> 函数首次被调用。实例已完成以下配置：编译模板，把 <code>data</code> 里的数据和模板生成 <code>html</code>。 注意此时 <code>html</code> 还没有挂载到页面上</li><li>mounted: 在 <code>el</code> 被新创建出来的 <code>vm.$el</code> 替换，并挂载到实例上去之后调用。实例已完成以下配置：用编译好的 <code>html</code> 内容替换 <code>el</code> 属性指向的 <code>DOM对象</code>。完成模板中的 <code>html</code> 渲染到 <code>html</code> 页面中，此过程中进行 <code>ajax</code> 交互</li><li>beforeUpdate: 在数据更新之前调用，发生在虚拟 <code>DOM</code> 重新渲染和打补丁之前调用。可以在该钩子中进一步地更改状态，不会触发附加的渲染状态</li><li>updated: 在由于数据更改导致的虚拟 <code>DOM</code> 重新渲染和打补丁之后调用。调用时，组件 <code>DOM</code> 已经更新，所以可以依赖与 <code>DOM</code> 的操作。然而在大多数情况下应避免在此期间更改状态，因为这可能会导致无限循环，该钩子在服务器端渲染期间不可用</li><li>activated: <code>keep-alive</code> 激活时触发</li><li>deactivated: <code>keep-alive</code> 缓存时触发</li><li>beforeDestroy: 在实例销毁之前，实例仍完全可用</li><li>destroyed: 在实例销毁之后调用。调用后，所有的事件监听器会被移除，所有的子实例也会被销毁。该钩子函数在服务器端渲染期间被调用</li></ul><h5 id="父子组件渲染顺序"><a href="#父子组件渲染顺序" class="headerlink" title="父子组件渲染顺序"></a>父子组件渲染顺序</h5><ul><li><p><strong>先父后子</strong>的原则</p></li><li><p>多个子组件 <strong>单线程</strong> 渲染</p></li><li><p>场景：父组件A，子组件B、C</p></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 进入页面</span></span><br><span class="line">A.beforeCreate</span><br><span class="line">A.Created</span><br><span class="line">A.beforeMount</span><br><span class="line"></span><br><span class="line">B.beforeCreate</span><br><span class="line">B.Created</span><br><span class="line">B.beforeMount</span><br><span class="line"></span><br><span class="line">C.beforeCreate</span><br><span class="line">C.Created</span><br><span class="line">C.beforeMount</span><br><span class="line"></span><br><span class="line">B.Mounted</span><br><span class="line">C.Mounted</span><br><span class="line">A.Mounted</span><br></pre></td></tr></table></figure></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 离开页面</span></span><br><span class="line">A.beforeDestroy</span><br><span class="line"></span><br><span class="line">B.beforeDestroy</span><br><span class="line">B.destroyed</span><br><span class="line"></span><br><span class="line">C.beforeDestroy</span><br><span class="line">C.destroyed</span><br><span class="line"></span><br><span class="line">A.destroyed</span><br></pre></td></tr></table></figure></li></ul><h5 id="双向绑定"><a href="#双向绑定" class="headerlink" title="双向绑定"></a>双向绑定</h5><ul><li>响应化：<code>Vue.observable(object)</code></li><li>对象和数组要初始化</li><li>单独响应化<ul><li>对象<ul><li><code>Vue.$set(object, key, value)</code> or <code>vm.$set(object, key, value)</code> or <code>this.$set(object, key, value)</code></li><li><code>Object.assign({}, object, {a: 1, b:2})</code></li></ul></li><li>数组<ul><li>不能响应：用下标修改数组值和修改数组长度</li><li>修改值：<ul><li><code>this.$set(array, index, value)</code></li><li><code>array.splice(index, 1, value)</code></li></ul></li><li>修改长度：<ul><li>array.splice(newIndex)</li></ul></li></ul></li></ul></li></ul><h5 id="传值-6种"><a href="#传值-6种" class="headerlink" title="传值(6种)"></a>传值(6种)</h5><ul><li><p><code>props</code>、<code>$emit</code></p></li><li><p>中央事件总线 <code>vue bus</code></p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// xxx.js</span></span><br><span class="line"><span class="keyword">let</span> eventBus = <span class="keyword">new</span> Vue()</span><br><span class="line"><span class="keyword">export</span> eventBus</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建</span></span><br><span class="line"><span class="keyword">import</span> eventBus <span class="keyword">from</span> <span class="string">'../xxx.js'</span></span><br><span class="line">eventBus.$emit(<span class="string">'name'</span>, params)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 监听</span></span><br><span class="line">mounted () &#123;</span><br><span class="line">  eventBus.$on(<span class="string">'name'</span>, fn)</span><br><span class="line">&#125;,</span><br><span class="line">beforeDestroy () &#123;</span><br><span class="line">  eventBus.$off(<span class="string">'name'</span>)</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">  fn (params) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'params'</span>, params)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p><code>provide</code>、<code>inject</code></p><ul><li><p>多层父子组件，传变量(函数)，非响应式</p></li><li><p>若要变为响应式，两种方法</p><ul><li><p>传递父组件实例过去，即传递 <code>this</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">provide () &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    xxx: <span class="keyword">this</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">inject: [<span class="string">'xxx'</span>]</span><br><span class="line">inject: &#123;</span><br><span class="line">  <span class="string">'xxx'</span>: <span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>通过 <code>Vue.observable()</code> 传递响应式变量</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">provide () &#123;</span><br><span class="line">  <span class="keyword">this</span>.theme = Vue.observable(&#123;</span><br><span class="line">    color: <span class="string">'red'</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    theme: <span class="keyword">this</span>.theme</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul></li><li><p><code>vuex</code></p></li><li><p><code>$parent</code>、<code>$children</code>、<code>$ref</code></p><ul><li><code>$parent</code>: 父组件实例</li><li><code>$children</code>: 子组件实例，不保证顺序</li><li><code>$ref</code>:<ul><li>当前组件：<code>DOM</code> 元素</li><li>子组件：子组件实例</li></ul></li></ul></li><li><p><code>$attrs</code>、<code>$listeners</code></p><ul><li><p><code>$attrs</code>: 子组件内使用，包含所有 <strong>父组件传递了但子组件 props 里未定义</strong> 的值，对象结构，值为 {key1: value1, key2: value2}</p></li><li><p><code>$listeners</code>: 子组件内使用，包含所有 <strong>父组件的非.native</strong> 方法。</p></li><li><p>通过下面的操作，可以在多层父子组件传递</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v-bind=<span class="string">"$attrs"</span></span><br></pre></td></tr></table></figure></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v-on=<span class="string">"$listeners"</span></span><br></pre></td></tr></table></figure></li></ul></li></ul></li></ul><h5 id="v-on事件修饰符"><a href="#v-on事件修饰符" class="headerlink" title="v-on事件修饰符"></a>v-on事件修饰符</h5><ul><li><a href="https://cn.vuejs.org/v2/api/#vm-listeners" target="_blank" rel="noopener">https://cn.vuejs.org/v2/api/#vm-listeners</a></li><li><code>.stop</code>: 阻止冒泡 <code>&lt;button @click.stop=&quot;xxx&quot;&gt;&lt;/button&gt;</code></li><li><code>.prevent</code>: 阻止默认行为</li><li><code>.capture</code>: 添加事件监听器时使用 <code>capture</code> 模式(捕获)</li><li><code>.self</code>: 只当事件是从监听器绑定的元素本身触发时才触发回调</li><li><code>.native</code>: 监听组件根元素的原生事件</li></ul><h5 id="prop单向数据流传递"><a href="#prop单向数据流传递" class="headerlink" title="prop单向数据流传递"></a>prop单向数据流传递</h5><ul><li>子组件的prop调用的父组件数据，当子组件修改时不想修改父组件</li><li>方法一：<ul><li>prop作为 <code>data</code> 初始值，之后使用 <code>data</code> 的新值</li></ul></li><li>方法二：<ul><li>使用计算属性转换</li></ul></li><li><strong>注意</strong>： 数组和对象是以引用的方式传递的，所以修改子组件的值时，也会修改父组件的值。这种情况下，需使用 <code>深拷贝</code> 生成新值，然后对新值修改。</li></ul><h5 id="computed写法"><a href="#computed写法" class="headerlink" title="computed写法"></a>computed写法</h5><ul><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">	aa () &#123;</span><br><span class="line">		return this.xxx + &apos;11&apos;</span><br><span class="line">	&#125;,</span><br><span class="line">	bb () &#123;</span><br><span class="line">		get: function () &#123;</span><br><span class="line">			return this.bb + &apos;22&apos;</span><br><span class="line">		&#125;,</span><br><span class="line">		set: function (value) &#123;</span><br><span class="line">			this.bb = value + &apos;xx&apos;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h5 id="watch写法"><a href="#watch写法" class="headerlink" title="watch写法"></a>watch写法</h5><ul><li><p><code>aa () {}</code></p></li><li><p><code>aa.bb () {}</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">  cc: &#123;</span><br><span class="line">		handler: &apos;methods&apos;,</span><br><span class="line">		deep: true,</span><br><span class="line">		immediate: true</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h5 id="computed，watch，methods区别"><a href="#computed，watch，methods区别" class="headerlink" title="computed，watch，methods区别"></a>computed，watch，methods区别</h5><ul><li>watch：监听回调，当依赖的值有改变时，触发回调执行一些逻辑</li><li>computed：计算属性，根据依赖的值动态显示最新的结果，会缓存(<code>getter</code>后)。能监听到obj深层key</li><li>methods：方法，执行函数</li><li>methods和computed：methods每次渲染时都会计算，而computed会从缓存取值</li></ul><h5 id="mixin"><a href="#mixin" class="headerlink" title="mixin"></a>mixin</h5><ul><li><p>混入文件写法和单页面文件一样</p></li><li><p>调用混入以数组方式引入 <code>mixins: [myMixin]</code></p></li><li><p><strong>合并规则</strong></p><ul><li>data: 递归合并，同名时以 <code>组件</code> 优先</li><li>钩子函数：都会调用，<code>混入文件</code> 优先调用</li><li>其他对象(<code>methods</code>, <code>components</code>, <code>directives</code>): 合并为一个对象，同名时以 <code>组件</code> 为准</li></ul></li><li><p>全局混入</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Vue.mixin(&#123;</span><br><span class="line">	created: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> myOption = <span class="keyword">this</span>.$options.myOption</span><br><span class="line">    <span class="keyword">if</span> (myOption) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(myOption)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul></li></ul><h5 id="keep-alive"><a href="#keep-alive" class="headerlink" title="keep-alive"></a>keep-alive</h5><ul><li><p>缓存未激活的组件</p><ul><li><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">keep-alive</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">"view"</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>include: 字符串或正则，匹配的才会缓存</p></li><li><p>exclude: 字符串或正则，匹配的都不会缓存</p></li><li><p>max: 数字，最多缓存多少实例</p></li></ul><h5 id="slot"><a href="#slot" class="headerlink" title="slot"></a>slot</h5><ul><li><p>定义插槽： <code>&lt;slot name=&quot;xxx&quot;&gt;&lt;/slot&gt;</code></p></li><li><p>使用插槽：<code>&lt;template v-slot:&quot;xxx&quot;&gt;&lt;/template&gt;</code>, <code>v-slot</code> 可以缩写为 <code>#</code></p></li><li><p>当插槽所在的父作用域 要 使用子作用域时，可以把子作用域作为变量传递给父</p><ul><li><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 子 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">slot</span> <span class="attr">v-bind:user</span>=<span class="string">"user"</span>&gt;</span></span><br><span class="line">  	&#123;&#123;user.firstName&#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"other"</span> <span class="attr">v-bind:dou</span>=<span class="string">"dou"</span> <span class="attr">v-bind:ruai</span>=<span class="string">"ruai"</span> <span class="attr">v-bind:mi</span>=<span class="string">"mi"</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 父 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">current-user</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:default</span>=<span class="string">"&#123; user &#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:other</span>=<span class="string">"&#123; dou, ruai, mi &#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">current-user</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p><code>v-slot:aa</code>、<code>#aa</code> : 使用插槽</p></li><li><p><code>v-slot:bb={}</code>: 使用插槽传值</p></li><li><p><code>v-slot={}</code>: 使用插槽传值，默认名，等效于 <code>v-slot:default={}</code></p></li></ul></li></ul><h5 id="过度、动画效果"><a href="#过度、动画效果" class="headerlink" title="过度、动画效果"></a>过度、动画效果</h5><ul><li>触发时机<ul><li><code>v-if</code>、<code>v-show</code>、<code>动态组件</code>、<code>组件根节点</code></li></ul></li><li>单组件触发<ul><li><code>&lt;transition name=&quot;t&quot;&gt;&lt;/transition&gt;</code></li><li>使用 <code>t-xx</code> 定义状态样式，如未定义 <code>name</code>， 默认为 <code>v-xx</code></li><li><code>x-enter</code>、<code>x-enter-active</code>、<code>x-enter-to</code>、<code>x-leave</code>、<code>x-leave-active</code>、<code>x-leave-to</code>，一般使用 <code>x-enter</code>、<code>x-enter-active</code>、<code>x-leave-active</code>、<code>x-leave-to</code> 4个状态<ul><li><code>x-enter-active</code>、<code>x-leave-active</code>: 激活时状态(稳定)</li></ul></li></ul></li><li>多组件 <code>li</code> 触发<ul><li><code>&lt;transition-group name=&quot;x&quot;&gt;&lt;/transition-group&gt;</code></li><li>样式定义同上</li><li><code>x-move</code>：位置移动时平滑移动 <code>transition: transform 1s</code></li></ul></li></ul><h5 id="常用API"><a href="#常用API" class="headerlink" title="常用API"></a>常用API</h5><h5 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h5><ul><li><p><code>Vue.directive(&#39;name&#39;, { ... })</code>，<code>&lt;button v-name=&quot;xxx&quot;&gt;&lt;/button&gt;</code>，<a href="https://cn.vuejs.org/v2/guide/custom-directive.html" target="_blank" rel="noopener">官网</a></p></li><li><p>钩子函数：</p><ul><li>bind: 只调用一次，第一次绑定到元素时调用。</li><li>inserted: 被绑定元素插入到父节点时调用。</li><li>update: 组件所在 <code>VNode</code> 更新时调用。</li><li>componentUpdated: 组件所在 <code>VNode</code> 及其子 <code>VNode</code> 全部更新后调用。</li><li>unbind: 只调用一次，解绑时调用。</li></ul></li><li><p>钩子函数参数：所有钩子参数一样，除了 <code>el</code> 其他参数都只读</p><ul><li>el: 绑定元素DOM，可直接操作</li><li>binding: 一个对象，包含下面值<ul><li>name: 指令名，不包含 <code>v-</code> 前缀</li><li>value: 指令的绑定值。<code>v-dire=&quot;1 + 1&quot;</code> 中，绑定值为 <code>2</code></li><li>oldValue: 指令绑定的前一个值，仅在 <code>update</code> 和 <code>componentUpdated</code> 钩子中可用</li><li>expression: 字符串形式的表达式。<code>v-dire=&quot;1 + 1&quot;</code> 中，表达式为 <code>1 + 1</code></li><li>arg: 传给指令的参数，可选。<code>v-dire:foo</code> 中，参数为 <code>foo</code></li><li>modifiers: 一个包含修饰符的对象。<code>v-dire.foo.bar</code> 中，修饰符对象为 <code>{ foo: true, bar: true }</code></li></ul></li><li>vnode: 虚拟节点</li><li>oldVnode: 上一个虚拟节点</li></ul></li><li><p>实例 <code>v-longpress</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// directive.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"></span><br><span class="line">Vue.directive(<span class="string">'longpress'</span><span class="string">', &#123;</span></span><br><span class="line"><span class="string">  bind: function (el, binding, vNode) &#123;</span></span><br><span class="line"><span class="string">    // 确保提供的表达式是函数</span></span><br><span class="line"><span class="string">    if (typeof binding.value !== '</span><span class="function"><span class="keyword">function</span>') </span>&#123;</span><br><span class="line">      <span class="comment">// 获取组件名称</span></span><br><span class="line">      <span class="keyword">const</span> compName = vNode.context.name</span><br><span class="line">      <span class="comment">// 将警告传递给控制台</span></span><br><span class="line">      <span class="keyword">let</span> warn = <span class="string">`[longpress:] provided expression '<span class="subst">$&#123;binding.expression&#125;</span>' is not a function, but has to be `</span></span><br><span class="line">      <span class="keyword">if</span> (compName) &#123; warn += <span class="string">`Found in component '<span class="subst">$&#123;compName&#125;</span>' `</span> &#125;</span><br><span class="line">      <span class="built_in">console</span>.warn(warn)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 定义变量</span></span><br><span class="line">    <span class="keyword">let</span> pressTimer = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 定义函数处理程序</span></span><br><span class="line">    <span class="comment">// 创建计时器（ 2秒后执行函数 ）</span></span><br><span class="line">    <span class="comment">// 不是鼠标左键返回</span></span><br><span class="line">    <span class="keyword">let</span> start = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (e.type === <span class="string">'click'</span> &amp;&amp; e.button !== <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (pressTimer === <span class="literal">null</span>) &#123;</span><br><span class="line">        pressTimer = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="comment">// 执行函数</span></span><br><span class="line">          handler()</span><br><span class="line">        &#125;, <span class="number">2000</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 取消计时器</span></span><br><span class="line">    <span class="keyword">let</span> cancel = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 检查计时器是否有值</span></span><br><span class="line">      <span class="keyword">if</span> (pressTimer !== <span class="literal">null</span>) &#123;</span><br><span class="line">        clearTimeout(pressTimer)</span><br><span class="line">        pressTimer = <span class="literal">null</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 运行函数</span></span><br><span class="line">    <span class="keyword">const</span> handler = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 执行传递给指令的方法</span></span><br><span class="line">      binding.value(e)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 添加事件监听器</span></span><br><span class="line">    el.addEventListener(<span class="string">'mousedown'</span>, start)</span><br><span class="line">    el.addEventListener(<span class="string">'touchstart'</span>, start)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 取消计时器</span></span><br><span class="line">    el.addEventListener(<span class="string">'click'</span>, cancel)</span><br><span class="line">    el.addEventListener(<span class="string">'mouseout'</span>, cancel)</span><br><span class="line">    el.addEventListener(<span class="string">'touchend'</span>, cancel)</span><br><span class="line">    el.addEventListener(<span class="string">'touchcancel'</span>, cancel)</span><br><span class="line">  &#125;              </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul><h4 id="vue-cli"><a href="#vue-cli" class="headerlink" title="vue cli"></a>vue cli</h4><h4 id="vue-loader"><a href="#vue-loader" class="headerlink" title="vue loader"></a>vue loader</h4><h4 id="vue-router"><a href="#vue-router" class="headerlink" title="vue router"></a>vue router</h4><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 0. 如果使用模块化机制编程，导入Vue和VueRouter，要调用 Vue.use(VueRouter)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. 定义 (路由) 组件。</span></span><br><span class="line"><span class="comment">// 可以从其他文件 import 进来</span></span><br><span class="line"><span class="keyword">const</span> Foo = &#123; <span class="attr">template</span>: <span class="string">'&lt;div&gt;foo&lt;/div&gt;'</span> &#125;</span><br><span class="line"><span class="keyword">const</span> Bar = &#123; <span class="attr">template</span>: <span class="string">'&lt;div&gt;bar&lt;/div&gt;'</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 定义路由</span></span><br><span class="line"><span class="comment">// 每个路由应该映射一个组件。 其中"component" 可以是</span></span><br><span class="line"><span class="comment">// 通过 Vue.extend() 创建的组件构造器，</span></span><br><span class="line"><span class="comment">// 或者，只是一个组件配置对象。</span></span><br><span class="line"><span class="comment">// 我们晚点再讨论嵌套路由。</span></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123; <span class="attr">path</span>: <span class="string">'/foo'</span>, <span class="attr">component</span>: Foo &#125;,</span><br><span class="line">  &#123; <span class="attr">path</span>: <span class="string">'/bar'</span>, <span class="attr">component</span>: Bar &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 创建 router 实例，然后传 `routes` 配置</span></span><br><span class="line"><span class="comment">// 你还可以传别的配置参数, 不过先这么简单着吧。</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  routes <span class="comment">// (缩写) 相当于 routes: routes</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. 创建和挂载根实例。</span></span><br><span class="line"><span class="comment">// 记得要通过 router 配置参数注入路由，</span></span><br><span class="line"><span class="comment">// 从而让整个应用都有路由功能</span></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  router</span><br><span class="line">&#125;).$mount(<span class="string">'#app'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 现在，应用已经启动了！</span></span><br></pre></td></tr></table></figure></li></ul><h5 id="hash、history模式"><a href="#hash、history模式" class="headerlink" title="hash、history模式"></a>hash、history模式</h5><ul><li>默认 <code>hash</code> 模式，即 <code>url</code> 上带 <code>#</code> 的模式。<code>hashchange</code> 事件</li><li><code>history模式</code>: <code>url</code> 像正常url一样，需要后端支持。<code>popstate</code>、<code>pushstate</code> 事件</li></ul><h5 id="router、route"><a href="#router、route" class="headerlink" title="router、route"></a>router、route</h5><ul><li><code>router</code>: 路由实例<ul><li><code>router.beforeEach</code>、<code>router.beforeResolve</code>、<code>router.afterEach</code>、<code>router.push</code>、<code>router.replace</code>、<code>router.go</code>、<code>router.back</code>、<code>router.forward</code>等</li></ul></li><li><code>this.$route</code>: 当前路由对象，当前激活的路由对象信息<ul><li>path:</li><li>params:</li><li>query:</li><li>hash:</li><li>fullPath:</li><li>matched: 一个数组，包含当前路由的所有嵌套路径片段的<strong>路由记录</strong></li><li>name:</li><li>redirectedFrom: 如果存在重定向，即为重定向来源的路由的名字</li></ul></li></ul><h5 id="传值"><a href="#传值" class="headerlink" title="传值"></a>传值</h5><ul><li><code>params</code>:<ul><li>不能和 <code>path</code> 一起使用，一起使用时 <code>params</code> 会失效</li><li>传递：<code>this.$router.push({name: &#39;xxx&#39;, params: {...}})</code></li><li>获取：<code>let a = this.$route.params</code></li></ul></li><li><code>query</code>:<ul><li>任何场合</li><li>传递：<code>this.$router.push({path: &#39;/setup&#39;, query: {}})</code></li></ul></li></ul><h5 id="导航守卫"><a href="#导航守卫" class="headerlink" title="导航守卫"></a>导航守卫</h5><ul><li>组件内的守卫<ul><li><code>beforeRouteLeave</code></li><li><code>beforeRouteUpdate</code></li><li><code>beforeRouteEnter</code></li></ul></li><li>全局导航守卫<ul><li><code>beforeEach</code></li><li><code>afterEach</code></li></ul></li><li>全局解析守卫<ul><li><code>beforeResolve</code>：在导航被确认之前，<strong>同时在所有组件内守卫和异步路由组件被解析之后</strong>，解析守卫就被调用。</li></ul></li><li>路由独享的守卫<ul><li><code>beforeEnter</code></li></ul></li></ul><h5 id="路由导航顺序"><a href="#路由导航顺序" class="headerlink" title="路由导航顺序"></a>路由导航顺序</h5><ol><li>导航被触发</li><li>在失活的组件里调用 <code>beforeRouteLeave</code> 守卫</li><li>调用全局的 <code>beforeEach</code> 守卫</li><li>在重用的组件内调用 <code>beforeRouteUpdate</code> 守卫</li><li>在路由配置里调用 <code>beforeEnter</code> 守卫</li><li>解析异步路由组件</li><li>在被激活的组件里调用 <code>beforeRouteEnter</code> 守卫</li><li>调用全局的 <code>beforeResolve</code> 守卫</li><li>导航被确认</li><li>调用全局的 <code>afterEach</code> 钩子</li><li>触发 <code>DOM</code> 更新</li><li>调用 <code>beforeRouteEnter</code> 守卫中传给 <code>next</code> 的回调函数，创建好的实例会作为回调函数的参数传入</li></ol><h4 id="vuex"><a href="#vuex" class="headerlink" title="vuex"></a>vuex</h4><ul><li>专门为 <code>vue</code> 设计的 <strong>状态管理模式</strong></li></ul><h5 id="State"><a href="#State" class="headerlink" title="State"></a>State</h5><ul><li><p>状态：</p></li><li><p><code>store.state.xxx</code> 或 <code>this.$store.state.xxx</code></p></li><li><p><code>store.state.moduleName.xxx</code> 或 <code>this.$store.state.moduleName.xxx</code></p></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapState &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line">computed: &#123;</span><br><span class="line">  ...mapState(&#123;</span><br><span class="line">    count1: <span class="function"><span class="params">state</span> =&gt;</span> state.count1,</span><br><span class="line">    countAlias: <span class="string">'count'</span></span><br><span class="line">  &#125;),</span><br><span class="line">  <span class="comment">// 或者</span></span><br><span class="line">  ...mapState([<span class="string">'count'</span>, <span class="string">'count1'</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h5 id="Getters"><a href="#Getters" class="headerlink" title="Getters"></a>Getters</h5><ul><li><p><code>state</code> 的计算属性，但如果有变量传入时，则每次都会计算(不会缓存)</p></li><li><p><code>this.$store.getters.xxx</code> 或 <code>this.$store.getters.modulesName.xxx</code></p></li><li><p>通过属性访问</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">getters: &#123;</span><br><span class="line">  doneTodosCount: <span class="function">(<span class="params">state, getters</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> getters.doneTodos.length</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>通过方法访问</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 每次访问都会调用，而不会缓存结果</span></span><br><span class="line">getters: &#123;</span><br><span class="line">  getTodoById: <span class="function">(<span class="params">state</span>) =&gt;</span> (id) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> state.todos.find(<span class="function"><span class="params">todo</span> =&gt;</span> todo.id === id)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>通过辅助函数 <code>mapGetters</code> 访问</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapGetters &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line">computed: &#123;</span><br><span class="line">  ...mapGetters([</span><br><span class="line">    <span class="string">'doneTodosCount'</span>,</span><br><span class="line">    <span class="string">'otherGetters'</span></span><br><span class="line">  ]),</span><br><span class="line">  <span class="comment">// 或者</span></span><br><span class="line">  ...mapGetters(&#123;</span><br><span class="line">    aliasName: <span class="string">'doneTodosCount'</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><h5 id="Mutations"><a href="#Mutations" class="headerlink" title="Mutations"></a>Mutations</h5><ul><li><p>修改 <code>state</code> 的唯一方式</p></li><li><p>只能是同步</p></li><li><p>逻辑只能是修改 <code>state</code></p></li><li><p>建议 <strong>大写、常量</strong> 命名</p></li><li><p>定义</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mutations: &#123;</span><br><span class="line">  UPDATE_USER (state, payload) &#123;</span><br><span class="line">    state.age += payload.age</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>调用</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$store.commit(<span class="string">'name'</span>, payload)</span><br><span class="line"><span class="comment">// or </span></span><br><span class="line"><span class="keyword">this</span>.$store.commit(&#123;</span><br><span class="line">  type: name,</span><br><span class="line">  ...payload</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapMutations &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line">methods: &#123;</span><br><span class="line">  ...mapMutations([</span><br><span class="line">    <span class="string">'mA'</span>,</span><br><span class="line">    <span class="string">'mB'</span></span><br><span class="line">  ]),</span><br><span class="line">  <span class="comment">// 或者，可以重命名</span></span><br><span class="line">  ...mapMutations(&#123;</span><br><span class="line">    aliasName: <span class="string">'mA'</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><h5 id="Actions"><a href="#Actions" class="headerlink" title="Actions"></a>Actions</h5><ul><li><p>异步，返回 <code>promise</code></p></li><li><p>可以写复杂逻辑，一般用于调用 <code>mutations</code></p></li><li><p>用法，参数基本和 <code>mutations</code> 一致</p></li><li><p>定义</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">actions: &#123;</span><br><span class="line">  increment (&#123; state, getters, commit, dispatch &#125;, payload) &#123;</span><br><span class="line">    <span class="comment">// 可以写复杂逻辑</span></span><br><span class="line">    commit(<span class="string">'INCREMENT'</span>, payload)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li></li></ul></li><li><p>调用</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$store.dispatch(<span class="string">'increment'</span>, payload)</span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line"><span class="keyword">this</span>.$store.dispatch(&#123;</span><br><span class="line">  type: <span class="string">'increment'</span>,</span><br><span class="line">  ...payload</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapActions &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line">methods: &#123;</span><br><span class="line">  ...mapActions([</span><br><span class="line">    <span class="string">'aA'</span>,</span><br><span class="line">    <span class="string">'aB'</span></span><br><span class="line">  ]),</span><br><span class="line">  <span class="comment">// 或者</span></span><br><span class="line">  ...mapActions(&#123;</span><br><span class="line">    aliasName: <span class="string">'aA'</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><h5 id="namespace、module"><a href="#namespace、module" class="headerlink" title="namespace、module"></a>namespace、module</h5><ul><li><p>按模块区分，添加 <code>namespaced: true</code> 即可</p></li><li><p>调用需加上 <code>moduleName</code></p><ul><li><p><code>this.$store.state.moduleName.xx</code>、<code>this.$store.getters.moduleName.xx</code>、<code>this.$store.commit(&#39;moduleName/xxx&#39;)</code>、<code>this.$store.dispatch(&#39;moduleName/xxx&#39;)</code></p></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">  ...mapState(<span class="string">'moduleName'</span>, [<span class="string">'xxx'</span>, <span class="string">'yyy'</span>]),</span><br><span class="line">  ...mapGetters(<span class="string">'moduleName'</span>, [<span class="string">'xxx'</span>, <span class="string">'yyy'</span>])</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">  ...mapMutations(<span class="string">'moduleName'</span>, [<span class="string">'xxx'</span>, <span class="string">'yyy'</span>]),</span><br><span class="line">  ...mapActions(<span class="string">'moduleName'</span>, [<span class="string">'xxx'</span>, <span class="string">'yyy'</span>])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 或者使用 createNamespacedHelpers 创建基于命名空间的辅助函数</span></span><br><span class="line"><span class="keyword">const</span> &#123; mapState, mapActions &#125; = createNamespacedHelpers(<span class="string">'some/nested/module'</span>)</span><br><span class="line">computed: &#123;</span><br><span class="line">  ...mapState([<span class="string">'xxx'</span>, <span class="string">'yyy'</span>]),</span><br><span class="line">  ...mapGetters([<span class="string">'xxx'</span>, <span class="string">'yyy'</span>])</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">  ...mapMutations([<span class="string">'xxx'</span>, <span class="string">'yyy'</span>]),</span><br><span class="line">  ...mapActions([<span class="string">'xxx'</span>, <span class="string">'yyy'</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>在带命名空间的模块内调用全局内容</p><ul><li><p><code>state</code> 和 <code>getters</code>: <code>rootState</code> 和 <code>rootGetters</code> 作为第三、第四个参数传给 <code>getters</code>，也会作为 <code>context</code> 传给 <code>action</code></p></li><li><p><code>mutations</code> 和 <code>actions</code>: 若要在全局命名空间内分发 <code>action</code> 或 提交 <code>mutation</code>， 将 <code>{ root: true }</code> 作为第三个参数传递给 <code>dispatch</code> 或 <code>commit</code> 即可</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">modules: &#123;</span><br><span class="line">  foo: &#123;</span><br><span class="line">    namespaced: <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">    getters: &#123;</span><br><span class="line">      <span class="comment">// 在这个模块的 getter 中，`getters` 被局部化了</span></span><br><span class="line">      <span class="comment">// 你可以使用 getter 的第四个参数来调用 `rootGetters`</span></span><br><span class="line">      someGetter (state, getters, rootState, rootGetters) &#123;</span><br><span class="line">        getters.someOtherGetter <span class="comment">// -&gt; 'foo/someOtherGetter'</span></span><br><span class="line">        rootGetters.someOtherGetter <span class="comment">// -&gt; 'someOtherGetter'</span></span><br><span class="line">      &#125;,</span><br><span class="line">      someOtherGetter: <span class="function"><span class="params">state</span> =&gt;</span> &#123; ... &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    actions: &#123;</span><br><span class="line">      <span class="comment">// 在这个模块中， dispatch 和 commit 也被局部化了</span></span><br><span class="line">      <span class="comment">// 他们可以接受 `root` 属性以访问根 dispatch 或 commit</span></span><br><span class="line">      someAction (&#123; dispatch, commit, getters, rootGetters &#125;) &#123;</span><br><span class="line">        getters.someGetter <span class="comment">// -&gt; 'foo/someGetter'</span></span><br><span class="line">        rootGetters.someGetter <span class="comment">// -&gt; 'someGetter'</span></span><br><span class="line"></span><br><span class="line">        dispatch(<span class="string">'someOtherAction'</span>) <span class="comment">// -&gt; 'foo/someOtherAction'</span></span><br><span class="line">        dispatch(<span class="string">'someOtherAction'</span>, <span class="literal">null</span>, &#123; <span class="attr">root</span>: <span class="literal">true</span> &#125;) <span class="comment">// -&gt; 'someOtherAction'</span></span><br><span class="line"></span><br><span class="line">        commit(<span class="string">'someMutation'</span>) <span class="comment">// -&gt; 'foo/someMutation'</span></span><br><span class="line">        commit(<span class="string">'someMutation'</span>, <span class="literal">null</span>, &#123; <span class="attr">root</span>: <span class="literal">true</span> &#125;) <span class="comment">// -&gt; 'someMutation'</span></span><br><span class="line">      &#125;,</span><br><span class="line">      someOtherAction (ctx, payload) &#123; ... &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p><code>modules</code> 定义全局 <code>action</code>: 添加 <code>root: true</code>， 并将这个 <code>action</code> 的定义放在函数 <code>handler</code> 中</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  actions: &#123;</span><br><span class="line">    someOtherAction (&#123;dispatch&#125;) &#123;</span><br><span class="line">      dispatch(<span class="string">'someAction'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  modules: &#123;</span><br><span class="line">    foo: &#123;</span><br><span class="line">      namespaced: <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">      actions: &#123;</span><br><span class="line">        someAction: &#123;</span><br><span class="line">          root: <span class="literal">true</span>,</span><br><span class="line">          handler (namespacedContext, payload) &#123; ... &#125; <span class="comment">// -&gt; 'someAction'</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul></li><li><ul><li></li></ul></li></ul><p>动态导入 <code>modules</code></p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// https://webpack.js.org/guides/dependency-management/#requirecontext</span></span><br><span class="line"><span class="keyword">const</span> modulesFiles = <span class="built_in">require</span>.context(<span class="string">'./modules'</span>, <span class="literal">true</span>, /\.js$/)</span><br><span class="line"></span><br><span class="line"><span class="comment">// you do not need `import app from './modules/app'`</span></span><br><span class="line"><span class="comment">// it will auto require all vuex module from modules file</span></span><br><span class="line"><span class="keyword">const</span> modules = modulesFiles.keys().reduce(<span class="function">(<span class="params">modules, modulePath</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// set './app.js' =&gt; 'app'</span></span><br><span class="line">  <span class="keyword">const</span> moduleName = modulePath.replace(<span class="regexp">/^\.\/(.*)\.\w+$/</span>, <span class="string">'$1'</span>)</span><br><span class="line">  <span class="keyword">const</span> value = modulesFiles(modulePath)</span><br><span class="line">  modules[moduleName] = value.default</span><br><span class="line">  <span class="keyword">return</span> modules</span><br><span class="line">&#125;, &#123;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  modules,</span><br><span class="line">  getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul><p>动态导入组件</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  global.js文件</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">changeStr</span> (<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> str.charAt(<span class="number">0</span>).toUpperCase() + str.slice(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> requireComponent = <span class="built_in">require</span>.context(<span class="string">'./'</span>, <span class="literal">false</span>, /\.vue$/)</span><br><span class="line"><span class="comment">// 查找同级目录下以vue结尾的组件</span></span><br><span class="line"><span class="keyword">const</span> install = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  requireComponent.keys().forEach(<span class="function"><span class="params">fileName</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> config = requireComponent(fileName)</span><br><span class="line">    <span class="built_in">console</span>.log(config) <span class="comment">// ./child1.vue 然后用正则拿到child1</span></span><br><span class="line">    <span class="keyword">let</span> componentName = changeStr(</span><br><span class="line">      <span class="comment">//fileName.replace(/^\.\//, '').replace(/\.\w+$/, '')</span></span><br><span class="line">      fileName.replace(<span class="regexp">/^\.\/(.*)\.vue$/</span>, <span class="string">'$1'</span>)</span><br><span class="line">    )</span><br><span class="line">    Vue.component(componentName, config.default || config)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  install <span class="comment">// 对外暴露install方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="ssr"><a href="#ssr" class="headerlink" title="ssr"></a>ssr</h4><h3 id="ui框架"><a href="#ui框架" class="headerlink" title="ui框架"></a>ui框架</h3><ul><li>ui框架类似，以 <code>iview</code> 举例</li></ul><h4 id="iview-iview-Design"><a href="#iview-iview-Design" class="headerlink" title="iview / iview Design"></a>iview / iview Design</h4><ul><li><p>安装</p><ul><li>全局引入: <code>vue.use(iview) css</code></li><li>按需引入: <code>css</code> + <code>babelrc, babel-plugin-import</code></li></ul></li><li><p>国际化</p><ul><li>i18n</li></ul></li><li><p>全局配置</p><ul><li><code>Vue.use(ViewUI, {xxx})</code></li></ul></li><li><p>validator</p><ul><li><p>prop和key一致</p></li><li><p><code>required: true, message: &#39;xx&#39;, trigger: &#39;blur&#39;</code></p></li><li><p><code>type: &#39;string&#39;, pattern: &#39;/^(0|[1-9][0-9]*)$/&#39;, message: &#39;xx&#39;, trigger: &#39;change&#39;</code></p></li><li><p><code>validator: this.xxx&#39;, trigger: &#39;blur&#39;</code></p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> validateQualityValueMile = <span class="function">(<span class="params">rule, value, callback</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.isGasControl &amp;&amp; !value &amp;&amp; !<span class="keyword">this</span>.carForm.qualityValueDay) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'vMile '</span>, value)</span><br><span class="line">    <span class="keyword">return</span> callback(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'质量保证期必须填写'</span>))</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> callback()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul></li></ul><h4 id="vant"><a href="#vant" class="headerlink" title="vant"></a>vant</h4><h4 id="element-ui"><a href="#element-ui" class="headerlink" title="element-ui"></a>element-ui</h4><h4 id="ant-design"><a href="#ant-design" class="headerlink" title="ant-design"></a>ant-design</h4><h4 id="iconfont"><a href="#iconfont" class="headerlink" title="iconfont"></a>iconfont</h4><ul><li>添加图标，命名</li><li>下载后，添加6个文件(除了demo的css，js)，引入<code>iconfont.css</code></li><li><code>&lt;span class=&quot;iconfont xxx&quot;&gt;</code></li></ul><h3 id="vue-3-重点"><a href="#vue-3-重点" class="headerlink" title="vue 3(重点)"></a>vue 3(重点)</h3><h4 id="option-API"><a href="#option-API" class="headerlink" title="option API"></a>option API</h4><h4 id="composition-API"><a href="#composition-API" class="headerlink" title="composition API"></a>composition API</h4><h4 id="区别-响应速度、原理等"><a href="#区别-响应速度、原理等" class="headerlink" title="区别(响应速度、原理等)"></a>区别(响应速度、原理等)</h4><h4 id="区别-vue-2"><a href="#区别-vue-2" class="headerlink" title="区别(vue 2)"></a>区别(vue 2)</h4><h4 id="语法？"><a href="#语法？" class="headerlink" title="语法？"></a>语法？</h4><h3 id="ts"><a href="#ts" class="headerlink" title="ts"></a>ts</h3><h4 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h4><ul><li>基本类型：string, number, boolean, null, undefined, Symbol, BigInt</li><li><code>|</code> : 联合类型，同时只能是多个类型中其中一个</li><li><code>&amp;</code>: 交叉类型，同时是所有类型的所有</li></ul><h4 id="进阶"><a href="#进阶" class="headerlink" title="进阶"></a>进阶</h4><ul><li><code>type</code>: 类型别名，<code>=</code> 赋值</li><li><code>interface</code>: 接口，直接赋值<ul><li><code>type</code> 与 <code>interface</code> 的区别：基本一致。赋值方式不一样；接口可以合并，类型别名需用 <code>&amp;</code> 生成 <strong>交叉类型</strong></li></ul></li><li><code>class</code>：类<ul><li><code>constructor</code> : 构造函数</li><li><code>extends</code> : 继承(类-类，类-接口，接口-接口，接口-类)</li><li><code>super</code>: 调用父类的构造函数</li><li>修饰符<ul><li><code>public</code>: 公开，默认</li><li><code>private</code>: 私有的，只能当前类使用</li><li><code>protected</code>: 和 <code>private</code> 类似，区别是子类也可以使用</li></ul></li><li><code>implements</code>: 类实现接口</li><li>在 <code>TS</code> 里，<strong>接口是可以继承类的</strong></li></ul></li><li><code>abstract</code>: 抽象类，抽象方法<ul><li>抽象类不能被实例化</li><li>抽象方法必须在子类实现</li></ul></li></ul><h4 id="自带函数"><a href="#自带函数" class="headerlink" title="自带函数"></a>自带函数</h4><ul><li>typeof: 获取实例的类型, type x = typeof xxInstance</li><li>keyof: 获取 <code>type</code> 或 <code>interface</code> 的 <code>key</code> 的联合类型</li><li>partial: 所有key变为可选</li><li>required: 所有key变为必填</li><li>readonly: 所有key变为只读</li><li>record: 所有key变为指定T类型</li><li>pick: 选择部分key</li><li>extract: 遍历T.keys，返回U中存在的keys的类型，参数和结果都是联合类型</li><li>exclude: 遍历T.keys， 返回U中 不存在的keys类型，参数和结果都是联合类型</li><li>omit: pick+exclude组合，返回 对象中，除几个key外的其他所有类型。和pick对应</li></ul><h3 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h3><h2 id="进阶2-管理方向"><a href="#进阶2-管理方向" class="headerlink" title="进阶2(管理方向)"></a>进阶2(管理方向)</h2><h3 id="脚手架搭建"><a href="#脚手架搭建" class="headerlink" title="脚手架搭建"></a>脚手架搭建</h3><p><a href="https://jian2333.github.io/2021/01/06/my-cli/">中后台脚手架实践</a></p><h3 id="基础封装"><a href="#基础封装" class="headerlink" title="基础封装"></a>基础封装</h3><p><strong>axios</strong></p><h3 id="es-lint"><a href="#es-lint" class="headerlink" title="es lint"></a>es lint</h3><h3 id="git-hook"><a href="#git-hook" class="headerlink" title="git-hook"></a>git-hook</h3><h3 id="prettier"><a href="#prettier" class="headerlink" title="prettier"></a>prettier</h3><h3 id="jenkins"><a href="#jenkins" class="headerlink" title="jenkins"></a>jenkins</h3><h2 id="进阶3-面试题"><a href="#进阶3-面试题" class="headerlink" title="进阶3(面试题)"></a>进阶3(面试题)</h2><h3 id="原型链与继承"><a href="#原型链与继承" class="headerlink" title="原型链与继承"></a>原型链与继承</h3><p><code>js -&gt; 原型/原型链</code></p><h3 id="输入url之后"><a href="#输入url之后" class="headerlink" title="输入url之后"></a>输入url之后</h3><p><a href="https://jian2333.github.io/2019/05/25/after-input-url/">跳转</a></p><h3 id="异步：宏任务与微任务"><a href="#异步：宏任务与微任务" class="headerlink" title="异步：宏任务与微任务"></a>异步：宏任务与微任务</h3><ul><li><p><a href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/7" target="_blank" rel="noopener">https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/7</a></p></li><li><p>顺序：同步 -&gt; 宏任务队列1 -&gt; 微任务队列1 -&gt; 宏任务队列2 -&gt; 微任务队列2</p></li><li><p>宏任务：script(整体代码)、setTimeout、setInterval、I/O、UI交互事件、postMessage、MessageChannel、setImmediate(Node.js 环境)</p></li><li><p>微任务：Promise.then、MutaionObserver、process.nextTick(Node.js 环境)</p></li><li><p>Tips:</p><ul><li><p><code>promise(A).then(B)</code>内的A函数为立即执行，B函数为微任务队列</p><ul><li><code>B</code> 里如果 <code>return promise</code>，会添加到微任务队列最后，如果 <code>return xx(number | string)</code>，则立即执行</li></ul></li><li><p><code>await A; B()</code> 的A函数为立即执行，B函数为微任务队列</p></li><li><p>微任务里创建的微任务(无论多少层)，都在当前微任务队列内执行(添加到当前微任务列表最后)</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">promise.resolve().then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">  promise.resolve().then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// =&gt; 返回1,2,3</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p><code>script</code> 执行完后，会直接执行 <strong>微任务</strong>，所以默认顺序为：同步 -&gt; 微任务1 -&gt; 宏任务2 -&gt; 微任务2 -&gt; …</p></li></ul></li></ul><h3 id="Promise原理"><a href="#Promise原理" class="headerlink" title="Promise原理"></a><a href="https://zhuanlan.zhihu.com/p/58428287" target="_blank" rel="noopener">Promise原理</a></h3><p>注册 <code>then</code> 回调函数，push 到 <code>callbacks</code>里。当 <code>resolve</code> 时，调用 <code>callbacks</code> 里所有函数。</p><h3 id="PWA"><a href="#PWA" class="headerlink" title="PWA"></a>PWA</h3><p>渐进式应用程序</p><ul><li><p>web worker: 单独开线程执行任务：</p><ul><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">const</span> myWorker = <span class="keyword">new</span> Worker(<span class="string">'worker.js'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 传递</span></span><br><span class="line">myWorker.postMessage(<span class="string">'hello'</span>)</span><br><span class="line"><span class="comment">// 接收</span></span><br><span class="line">myWorker.onmessage = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(e.data)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// worker.js, 回立即执行</span></span><br><span class="line">self.onmessage = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(e.data)</span><br><span class="line">  <span class="comment">// 向主文件发送信息</span></span><br><span class="line">  self.postMessage(<span class="string">'lala'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li></li></ul></li><li><p>service worker: 可以拦截网络请求，决定走网络还是返回缓存数据，所以可以实现「后退」功能</p></li></ul><h3 id="脚手架发布"><a href="#脚手架发布" class="headerlink" title="脚手架发布"></a>脚手架发布</h3><ul><li><code>package.json.main: &quot;bin/mbs.js&quot;</code></li></ul><h3 id="js取整"><a href="#js取整" class="headerlink" title="js取整"></a>js取整</h3><ul><li><a href="https://www.jianshu.com/p/a3202bc3f7a4" target="_blank" rel="noopener">简书</a></li><li>parseInt</li><li><code>~~20.25</code></li><li><code>20.25^0</code></li><li><code>20.25 &lt;&lt; 0</code></li><li><code>Math</code><ul><li><code>Math.floor</code></li><li><code>Math.ceil</code></li><li><code>Math.round</code></li><li><code>Math.trunc</code>: 直接取整</li></ul></li></ul><h3 id="js动效"><a href="#js动效" class="headerlink" title="js动效"></a>js动效</h3><ul><li><p>js动效中：<code>setTimeout</code>、<code>setInterval</code> 并不是间隔 <code>xx</code> 开始渲染页面，而是间隔 <code>xx</code> 添加到 <strong>任务队列</strong> 中，如果队列里已经有任务的话…..</p></li><li><p><code>requestAnimationFrame(callback)</code>: 在下一次重绘前，执行动效。重绘是浏览器决定</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> element = <span class="built_in">document</span>.getElementById(<span class="string">'ele'</span>)</span><br><span class="line"><span class="keyword">const</span> start = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// timestamp: 当前时间戳</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">step</span>(<span class="params">timestamp</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (start === <span class="literal">undefined</span>) &#123;</span><br><span class="line">    start = timestamp</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> elapsed = timestamp - start</span><br><span class="line">  element.style.transform = <span class="string">'translateX('</span> + <span class="built_in">Math</span>.min(<span class="number">0.1</span> * elapsed, <span class="number">200</span>) + <span class="string">'px )'</span></span><br><span class="line">  <span class="comment">// 2s 后停止动画</span></span><br><span class="line">  <span class="keyword">if</span> (elapsed &lt; <span class="number">2000</span>) &#123;</span><br><span class="line">    <span class="built_in">window</span>.requestAnimationFrame(step)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.requestAnimationFrame(step)</span><br></pre></td></tr></table></figure></li></ul><h3 id="实际面试"><a href="#实际面试" class="headerlink" title="实际面试"></a>实际面试</h3><h4 id="this-nextTick-原理"><a href="#this-nextTick-原理" class="headerlink" title="this.$nextTick 原理"></a><a href="https://segmentfault.com/a/1190000020499713" target="_blank" rel="noopener">this.$nextTick 原理</a></h4><ul><li>创建异步延迟函数 <code>timerFunc</code>，在异步延迟结束后，调用传入的回调函数</li><li><code>timerFunc</code>，延迟调用优先级：<code>Promise.resolve().then()</code> &gt; <code>MutationObserver</code> &gt; <code>Setimmediate</code> &gt; <code>setTimeout</code>：2微任务，2宏任务</li><li><code>nextTick(cb?, ctx)</code>，如果未传入 <code>cb</code>，会自动返回 <code>Promise.resolve()</code>，可用 <code>then</code> 调用后续函数。</li></ul><h4 id="vuex缺点"><a href="#vuex缺点" class="headerlink" title="vuex缺点"></a>vuex缺点</h4><ul><li>内存占用大</li></ul><h4 id="vue-渲染原理"><a href="#vue-渲染原理" class="headerlink" title="vue 渲染原理"></a>vue 渲染原理</h4><ul><li>虚拟DOM啥的</li></ul><h4 id="vue-多页面是什么"><a href="#vue-多页面是什么" class="headerlink" title="vue 多页面是什么"></a>vue 多页面是什么</h4><ul><li>多个html页面，除了主页内是vue-router跳转，其他页面都是a标签跳转到其他页面</li><li>主页面加载快，多页面SEO好</li><li>多页面之间跳转慢，因为要加载css和js</li></ul><h4 id="js为啥会阻塞页面渲染"><a href="#js为啥会阻塞页面渲染" class="headerlink" title="js为啥会阻塞页面渲染"></a>js为啥会阻塞页面渲染</h4><ul><li>js可能会修改DOM结构，比如 <code>document.write</code></li></ul><h4 id="事件委托-事件代理"><a href="#事件委托-事件代理" class="headerlink" title="事件委托/事件代理"></a>事件委托/事件代理</h4><ul><li>利用事件冒泡，只为父元素添加事件，进而达到为多个子元素添加事件的效果</li><li>减少DOM查询，提升性能，</li><li>可扩展，新增的子元素也可直接代理</li><li>不冒泡的事件不支持；冒泡过多可能被阻止掉；别人使用时误判导致调用2次</li><li><a href="https://juejin.cn/post/6844903589052153869" target="_blank" rel="noopener">掘金</a></li></ul><h4 id="事件循环"><a href="#事件循环" class="headerlink" title="事件循环"></a>事件循环</h4><ul><li>执行栈：主线程，同步</li><li>事件队列：异步，</li><li>主线程 -&gt; 事件队列 -&gt; 主线程 -&gt; 事件队列 -&gt; …</li><li><a href="https://zhuanlan.zhihu.com/p/33058983" target="_blank" rel="noopener">知乎</a> <a href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/7" target="_blank" rel="noopener">github</a></li></ul><h3 id="Web-性能优化"><a href="#Web-性能优化" class="headerlink" title="Web 性能优化"></a>Web 性能优化</h3><h4 id="网络、资源"><a href="#网络、资源" class="headerlink" title="网络、资源"></a>网络、资源</h4><ul><li>同域名下减少DNS解析</li><li>开启http2，多路复用</li><li>压缩图片，懒加载(layzsizes)，雪碧图，iconfont图标</li><li>gzip压缩代码</li><li>静态包，包含下载好的首页等</li></ul><h4 id="css-1"><a href="#css-1" class="headerlink" title="css"></a>css</h4><ul><li>修改类名而不是样式</li><li>减少DOM访问：事件代理</li><li>减少重排重绘：<ul><li>不使用table</li><li>开启硬件加速：animations、transforms、transitions不会自动开启，当检测到DOM元素开启某些规则时会开启，比如3D变化<ul><li><code>transform: translate3d(250px, 250px, 250px) rotate3d(250px, 250px, 250px, -120deg) scale3d(0.5, 0.5, 0.5)</code> (左手，右下前)</li><li>有时候不想3d的转换，可以使用小技巧欺骗 <code>transform: translateZ(0)</code></li><li>但此时会屏幕闪烁，可以这样解决 <code>backface-visibility: hidden; perspective: 1000</code> 或者 <code>transform: translate3d(0, 0, 0)</code> <a href="https://www.cnblogs.com/rubylouvre/p/3471490.html" target="_blank" rel="noopener">参考资料</a></li><li>元素背面朝向观察者时是否可见；观察者距离z=0平面的距离。</li></ul></li></ul></li></ul><h4 id="js-1"><a href="#js-1" class="headerlink" title="js"></a>js</h4><ul><li>减少js体积，webpack chunk打包</li><li>web worker 开线程</li><li>优化代码，减少循环</li><li>函数节流</li></ul><h3 id="commonJs-ES6-module"><a href="#commonJs-ES6-module" class="headerlink" title="commonJs, ES6 module"></a>commonJs, ES6 module</h3><ul><li>commonJs: 动态编译，使用时才编译；可使用变量；值拷贝，不影响</li><li>es6 module: 静态编译，先一次性编译好，后面使用；所以编译的时候就能够分析代码是否被使用，进而使用 <code>tree shaking</code>；值应用，共享数据</li></ul><h3 id="浏览器缓存"><a href="#浏览器缓存" class="headerlink" title="浏览器缓存"></a>浏览器缓存</h3><p><a href="https://github.com/amandakelake/blog/issues/43" target="_blank" rel="noopener">浏览器缓存</a></p><h3 id="https建立过程"><a href="#https建立过程" class="headerlink" title="https建立过程"></a>https建立过程</h3><p><a href="https://segmentfault.com/a/1190000021559557" target="_blank" rel="noopener">TLS建立过程</a></p></div><div class="post-share">分享到：</div><footer class="post-footer"><div class="post-tags"><a href="/tags/web前端/" rel="tag"><i class="fa fa-tag"></i> web前端</a> <a href="/tags/vue/" rel="tag"><i class="fa fa-tag"></i> vue</a> <a href="/tags/js/" rel="tag"><i class="fa fa-tag"></i> js</a> <a href="/tags/面试/" rel="tag"><i class="fa fa-tag"></i> 面试</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2021/01/19/home-net-2/" rel="next" title="家庭网络的升级之旅(二)"><i class="fa fa-chevron-left"></i> 家庭网络的升级之旅(二)</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2021/09/08/fe-tools/" rel="prev" title="自用的前端小工具">自用的前端小工具 <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"></div></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">文章目录</li><li class="sidebar-nav-overview" data-target="site-overview-wrap">站点概览</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/images/header/card-2.jpg" alt="Jianww"><p class="site-author-name" itemprop="name"></p><p class="site-description motion-element" itemprop="description">这个人很懒...</p></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/Jian2333" target="_blank" title="GitHub" data-balloon="GitHub" data-balloon-pos="up"><i class="fa fa-fw fa-github"></i></a> </span><span class="links-of-author-item"><a href="http://www.jianwill.cn" target="_blank" title="更多" data-balloon="更多" data-balloon-pos="up"><i class="fa fa-fw fa-more"></i></a></span></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">30</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/index.html"><span class="site-state-item-count">4</span> <span class="site-state-item-name">分类</span></a></div></nav><div class="cc-license motion-element" itemprop="license"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" target="_blank"><img src="/images/cc-by-nc-sa.png" alt="Creative Commons"></a></div></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#基础相关"><span class="nav-number">1.</span> <span class="nav-text">基础相关</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#html"><span class="nav-number">1.1.</span> <span class="nav-text">html</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#css"><span class="nav-number">1.2.</span> <span class="nav-text">css</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#盒模型"><span class="nav-number">1.2.1.</span> <span class="nav-text">盒模型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#居中"><span class="nav-number">1.2.2.</span> <span class="nav-text">居中</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#flex"><span class="nav-number">1.2.3.</span> <span class="nav-text">flex</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#grid"><span class="nav-number">1.2.4.</span> <span class="nav-text">grid</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#伪元素"><span class="nav-number">1.2.5.</span> <span class="nav-text">伪元素</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#穿透"><span class="nav-number">1.2.6.</span> <span class="nav-text">穿透</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#优先级"><span class="nav-number">1.2.7.</span> <span class="nav-text">优先级</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#background"><span class="nav-number">1.2.8.</span> <span class="nav-text">background</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#position"><span class="nav-number">1.2.9.</span> <span class="nav-text">position</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#js"><span class="nav-number">1.3.</span> <span class="nav-text">js</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#基础类型"><span class="nav-number">1.3.1.</span> <span class="nav-text">基础类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#原型-原型链"><span class="nav-number">1.3.2.</span> <span class="nav-text">原型/原型链</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#常用函数"><span class="nav-number">1.3.3.</span> <span class="nav-text">常用函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#正则表达式"><span class="nav-number">1.3.4.</span> <span class="nav-text">正则表达式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#this"><span class="nav-number">1.3.5.</span> <span class="nav-text">this</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#bind-call-apply"><span class="nav-number">1.3.6.</span> <span class="nav-text">bind,call,apply</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#promise、async、await"><span class="nav-number">1.3.7.</span> <span class="nav-text">promise、async、await</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#axios"><span class="nav-number">1.3.8.</span> <span class="nav-text">axios</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#防抖和节流"><span class="nav-number">1.3.9.</span> <span class="nav-text">防抖和节流</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#defer、async"><span class="nav-number">1.3.10.</span> <span class="nav-text">defer、async</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#捕获-冒泡"><span class="nav-number">1.3.11.</span> <span class="nav-text">捕获/冒泡</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ES6"><span class="nav-number">1.3.12.</span> <span class="nav-text">ES6+</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#进阶1-技能方向"><span class="nav-number">2.</span> <span class="nav-text">进阶1(技能方向)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#git"><span class="nav-number">2.1.</span> <span class="nav-text">git</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#基础命令"><span class="nav-number">2.1.1.</span> <span class="nav-text">基础命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#git-flows"><span class="nav-number">2.1.2.</span> <span class="nav-text">git flows</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#变基-rebase-与合并"><span class="nav-number">2.1.3.</span> <span class="nav-text">变基(rebase)与合并</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#遴选-cherry-pick"><span class="nav-number">2.1.4.</span> <span class="nav-text">遴选(cherry-pick)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#贮藏-stash"><span class="nav-number">2.1.5.</span> <span class="nav-text">贮藏(stash)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#patch"><span class="nav-number">2.1.6.</span> <span class="nav-text">patch</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vue-2-全家桶-重点"><span class="nav-number">2.2.</span> <span class="nav-text">vue 2 全家桶(重点)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#原理"><span class="nav-number">2.2.1.</span> <span class="nav-text">原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#new-Vue-过程"><span class="nav-number">2.2.2.</span> <span class="nav-text">new Vue 过程</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Vue-虚拟DOM"><span class="nav-number">2.2.3.</span> <span class="nav-text">Vue 虚拟DOM</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#vue-基础"><span class="nav-number">2.2.4.</span> <span class="nav-text">vue 基础</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#生命周期"><span class="nav-number">2.2.4.1.</span> <span class="nav-text">生命周期</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#父子组件渲染顺序"><span class="nav-number">2.2.4.2.</span> <span class="nav-text">父子组件渲染顺序</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#双向绑定"><span class="nav-number">2.2.4.3.</span> <span class="nav-text">双向绑定</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#传值-6种"><span class="nav-number">2.2.4.4.</span> <span class="nav-text">传值(6种)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#v-on事件修饰符"><span class="nav-number">2.2.4.5.</span> <span class="nav-text">v-on事件修饰符</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#prop单向数据流传递"><span class="nav-number">2.2.4.6.</span> <span class="nav-text">prop单向数据流传递</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#computed写法"><span class="nav-number">2.2.4.7.</span> <span class="nav-text">computed写法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#watch写法"><span class="nav-number">2.2.4.8.</span> <span class="nav-text">watch写法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#computed，watch，methods区别"><span class="nav-number">2.2.4.9.</span> <span class="nav-text">computed，watch，methods区别</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#mixin"><span class="nav-number">2.2.4.10.</span> <span class="nav-text">mixin</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#keep-alive"><span class="nav-number">2.2.4.11.</span> <span class="nav-text">keep-alive</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#slot"><span class="nav-number">2.2.4.12.</span> <span class="nav-text">slot</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#过度、动画效果"><span class="nav-number">2.2.4.13.</span> <span class="nav-text">过度、动画效果</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#常用API"><span class="nav-number">2.2.4.14.</span> <span class="nav-text">常用API</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#指令"><span class="nav-number">2.2.4.15.</span> <span class="nav-text">指令</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#vue-cli"><span class="nav-number">2.2.5.</span> <span class="nav-text">vue cli</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#vue-loader"><span class="nav-number">2.2.6.</span> <span class="nav-text">vue loader</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#vue-router"><span class="nav-number">2.2.7.</span> <span class="nav-text">vue router</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#hash、history模式"><span class="nav-number">2.2.7.1.</span> <span class="nav-text">hash、history模式</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#router、route"><span class="nav-number">2.2.7.2.</span> <span class="nav-text">router、route</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#传值"><span class="nav-number">2.2.7.3.</span> <span class="nav-text">传值</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#导航守卫"><span class="nav-number">2.2.7.4.</span> <span class="nav-text">导航守卫</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#路由导航顺序"><span class="nav-number">2.2.7.5.</span> <span class="nav-text">路由导航顺序</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#vuex"><span class="nav-number">2.2.8.</span> <span class="nav-text">vuex</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#State"><span class="nav-number">2.2.8.1.</span> <span class="nav-text">State</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Getters"><span class="nav-number">2.2.8.2.</span> <span class="nav-text">Getters</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Mutations"><span class="nav-number">2.2.8.3.</span> <span class="nav-text">Mutations</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Actions"><span class="nav-number">2.2.8.4.</span> <span class="nav-text">Actions</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#namespace、module"><span class="nav-number">2.2.8.5.</span> <span class="nav-text">namespace、module</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ssr"><span class="nav-number">2.2.9.</span> <span class="nav-text">ssr</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ui框架"><span class="nav-number">2.3.</span> <span class="nav-text">ui框架</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#iview-iview-Design"><span class="nav-number">2.3.1.</span> <span class="nav-text">iview / iview Design</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#vant"><span class="nav-number">2.3.2.</span> <span class="nav-text">vant</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#element-ui"><span class="nav-number">2.3.3.</span> <span class="nav-text">element-ui</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ant-design"><span class="nav-number">2.3.4.</span> <span class="nav-text">ant-design</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#iconfont"><span class="nav-number">2.3.5.</span> <span class="nav-text">iconfont</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vue-3-重点"><span class="nav-number">2.4.</span> <span class="nav-text">vue 3(重点)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#option-API"><span class="nav-number">2.4.1.</span> <span class="nav-text">option API</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#composition-API"><span class="nav-number">2.4.2.</span> <span class="nav-text">composition API</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#区别-响应速度、原理等"><span class="nav-number">2.4.3.</span> <span class="nav-text">区别(响应速度、原理等)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#区别-vue-2"><span class="nav-number">2.4.4.</span> <span class="nav-text">区别(vue 2)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#语法？"><span class="nav-number">2.4.5.</span> <span class="nav-text">语法？</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ts"><span class="nav-number">2.5.</span> <span class="nav-text">ts</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#基础"><span class="nav-number">2.5.1.</span> <span class="nav-text">基础</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#进阶"><span class="nav-number">2.5.2.</span> <span class="nav-text">进阶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#自带函数"><span class="nav-number">2.5.3.</span> <span class="nav-text">自带函数</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#webpack"><span class="nav-number">2.6.</span> <span class="nav-text">webpack</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#进阶2-管理方向"><span class="nav-number">3.</span> <span class="nav-text">进阶2(管理方向)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#脚手架搭建"><span class="nav-number">3.1.</span> <span class="nav-text">脚手架搭建</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#基础封装"><span class="nav-number">3.2.</span> <span class="nav-text">基础封装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#es-lint"><span class="nav-number">3.3.</span> <span class="nav-text">es lint</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git-hook"><span class="nav-number">3.4.</span> <span class="nav-text">git-hook</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#prettier"><span class="nav-number">3.5.</span> <span class="nav-text">prettier</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#jenkins"><span class="nav-number">3.6.</span> <span class="nav-text">jenkins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#进阶3-面试题"><span class="nav-number">4.</span> <span class="nav-text">进阶3(面试题)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#原型链与继承"><span class="nav-number">4.1.</span> <span class="nav-text">原型链与继承</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#输入url之后"><span class="nav-number">4.2.</span> <span class="nav-text">输入url之后</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#异步：宏任务与微任务"><span class="nav-number">4.3.</span> <span class="nav-text">异步：宏任务与微任务</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Promise原理"><span class="nav-number">4.4.</span> <span class="nav-text">Promise原理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PWA"><span class="nav-number">4.5.</span> <span class="nav-text">PWA</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#脚手架发布"><span class="nav-number">4.6.</span> <span class="nav-text">脚手架发布</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#js取整"><span class="nav-number">4.7.</span> <span class="nav-text">js取整</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#js动效"><span class="nav-number">4.8.</span> <span class="nav-text">js动效</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#实际面试"><span class="nav-number">4.9.</span> <span class="nav-text">实际面试</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#this-nextTick-原理"><span class="nav-number">4.9.1.</span> <span class="nav-text">this.$nextTick 原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#vuex缺点"><span class="nav-number">4.9.2.</span> <span class="nav-text">vuex缺点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#vue-渲染原理"><span class="nav-number">4.9.3.</span> <span class="nav-text">vue 渲染原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#vue-多页面是什么"><span class="nav-number">4.9.4.</span> <span class="nav-text">vue 多页面是什么</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#js为啥会阻塞页面渲染"><span class="nav-number">4.9.5.</span> <span class="nav-text">js为啥会阻塞页面渲染</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#事件委托-事件代理"><span class="nav-number">4.9.6.</span> <span class="nav-text">事件委托/事件代理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#事件循环"><span class="nav-number">4.9.7.</span> <span class="nav-text">事件循环</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Web-性能优化"><span class="nav-number">4.10.</span> <span class="nav-text">Web 性能优化</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#网络、资源"><span class="nav-number">4.10.1.</span> <span class="nav-text">网络、资源</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#css-1"><span class="nav-number">4.10.2.</span> <span class="nav-text">css</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#js-1"><span class="nav-number">4.10.3.</span> <span class="nav-text">js</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#commonJs-ES6-module"><span class="nav-number">4.11.</span> <span class="nav-text">commonJs, ES6 module</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#浏览器缓存"><span class="nav-number">4.12.</span> <span class="nav-text">浏览器缓存</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#https建立过程"><span class="nav-number">4.13.</span> <span class="nav-text">https建立过程</span></a></li></ol></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-image"></div><div class="footer-inner"><p>博客已萌萌哒运行<span id="since"></span><span class="my-face">(●'◡'●)ﾉ♥</span></p><p>前端萌新，哈哈哈 ~</p><p>© <span itemprop="copyrightYear">2024</span> Hi,Jianww. 由 <a href="https://hexo.io/" target="_blank" class="external" rel="nofollow">Hexo</a> 强力驱动. Theme By <a href="https://github.com/DIYgod/hexo-theme-sagiri" target="_blank" class="external" rel="nofollow">Sagiri</a> v0.0.42. <a href="/sitemap.xml" target="_blank">站点地图</a>. xxxx.</p><p>Made with <i class="fa fa-heart throb" style="color:#d43f57"></i> by <span class="author" itemprop="copyrightHolder">Jianww</span>.</p></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div><canvas id="evanyou"></canvas><div id="aplayer-fixed"></div>11</div><script type="text/javascript" src="/js/sagiri.min.js?v=0.0.42"></script><script type="text/javascript">// Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });</script><style>.copy-btn{display:inline-block;padding:6px 12px;font-size:13px;font-weight:700;line-height:20px;color:#333;white-space:nowrap;vertical-align:middle;cursor:pointer;background-color:#eee;background-image:linear-gradient(#fcfcfc,#eee);border:1px solid #d5d5d5;border-radius:3px;user-select:none;outline:0}.highlight-wrap .copy-btn{transition:opacity .3s ease-in-out;opacity:0;padding:2px 6px;position:absolute;right:4px;top:8px}.highlight-wrap .copy-btn:focus,.highlight-wrap:hover .copy-btn{opacity:1}.highlight-wrap{position:relative}</style><script>$('.highlight').each(function (i, e) {
  var $wrap = $('<div>').addClass('highlight-wrap')
  $(e).after($wrap)
  $wrap.append($('<button>').addClass('copy-btn').append('复制').on('click', function (e) {
    var code = $(this).parent().find('.code').find('.line').map(function (i, e) {
      return $(e).text()
    }).toArray().join('\n')
    var ta = document.createElement('textarea')
    document.body.appendChild(ta)
    ta.style.position = 'absolute'
    ta.style.top = '0px'
    ta.style.left = '0px'
    ta.value = code
    ta.select()
    ta.focus()
    var result = document.execCommand('copy')
    document.body.removeChild(ta)
    
    setTimeout(() => {
      if(result)$(this).text('复制成功')
      else $(this).text('复制失败')
    }, 300)
    
    $(this).blur()
  })).on('mouseleave', function (e) {
    var $b = $(this).find('.copy-btn')
    setTimeout(function () {
      $b.text('复制')
    }, 300)
  }).append(e)
})</script><script>var serviceWorkerUri="/sw.js";"serviceWorker"in navigator?navigator.serviceWorker.register(serviceWorkerUri).then(function(){navigator.serviceWorker.controller?console.log("Assets cached by the controlling service worker."):console.log("Please reload this page to allow the service worker to handle network operations.")}).catch(function(e){console.log("ERROR: "+e)}):console.log("Service workers are not supported in the current browser.")</script></body></html>